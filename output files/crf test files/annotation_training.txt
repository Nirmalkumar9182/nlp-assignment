Well	RB	O
,	,	O
here's	VB	O
how	WRB	O
we	PRP	O
do	VBP	O
it	PRP	O
on	IN	O
Stack	NNP	O
Overflow	NNP	O
.	.	O
		
var	NN	O
ts	NN	O
=	NNP	O
new	JJ	O
TimeSpan(	NNP	B-API
DateTime	NNP	I-API
.	.	I-API
UtcNow	NNP	I-API
.	.	I-API
Ticks	NNP	I-API
-	:	I-API
		
dt	NN	I-API
.	.	I-API
Ticks	NNP	I-API
)	)	L-API
;	:	O
double	JJ	O
delta	NN	O
=	NNP	O
Math.Abs(	NNP	B-API
ts	NN	I-API
.	.	I-API
		
TotalSeconds	NNP	I-API
)	)	L-API
;	:	O
if	IN	O
(	(	O
delta	JJ	O
<	VBP	O
60	CD	O
)	)	O
{	(	O
return	NN	O
		
ts	NN	O
.	.	O
Seconds	VBZ	O
=	JJ	O
=	$	O
1	CD	O
?	.	O
"one	CD	O
second	JJ	O
ago	RB	O
"	NN	O
		
:	:	O
ts	NN	O
.	.	O
Seconds	VBZ	O
+	JJ	O
"	NNP	O
seconds	NNS	O
ago	RB	O
"	VBP	O
;	:	O
}	)	O
		
if	IN	O
(	(	O
delta	JJ	O
<	VBP	O
120	CD	O
)	)	O
{	(	O
return	NN	O
"a	NNP	O
minute	NN	O
ago	RB	O
		
"	NNP	O
;	:	O
}	)	O
if	IN	O
(	(	O
delta	NN	O
<	IN	O
2700	CD	O
)	)	O
/	VBD	O
/	$	O
		
45	CD	O
*	NNP	O
60	CD	O
{	(	O
return	NN	O
ts	NN	O
.	.	O
Minutes	NNP	O
+	NNP	O
"	NNP	O
minutes	NNS	O
		
ago	RB	O
"	VBP	O
;	:	O
}	)	O
if	IN	O
(	(	O
delta	NN	O
<	IN	O
5400	CD	O
)	)	O
/	VBD	O
		
/	$	O
90	CD	O
*	NNP	O
60	CD	O
{	(	O
return	NN	O
"an	FW	O
hour	NN	O
ago	IN	O
"	NN	O
;	:	O
		
}	)	O
if	IN	O
(	(	O
delta	JJ	O
<	VBP	O
86400	CD	O
)	)	O
/	NN	O
/	$	O
24	CD	O
*	$	O
		
60	CD	O
*	NNP	O
60	CD	O
{	(	O
return	NN	O
ts	NN	O
.	.	O
Hours	NNP	O
+	NNP	O
"	NNP	O
hours	NNS	O
		
ago	RB	O
"	VBP	O
;	:	O
}	)	O
if	IN	O
(	(	O
delta	JJ	O
<	VBP	O
172800	CD	O
)	)	O
/	NN	O
		
/	$	O
48	CD	O
*	$	O
60	CD	O
*	NNP	O
60	CD	O
{	(	O
return	NN	O
"yesterday	NNP	O
"	NNP	O
;	:	O
		
}	)	O
if	IN	O
(	(	O
delta	JJ	O
<	VBP	O
2592000	CD	O
)	)	O
/	NN	O
/	$	O
30	CD	O
*	$	O
		
24	CD	O
*	$	O
60	CD	O
*	NNP	O
60	CD	O
{	(	O
return	NN	O
ts	NN	O
.	.	O
Days	VBZ	O
+	JJ	O
		
"	NNP	O
days	NNS	O
ago	RB	O
"	VBP	O
;	:	O
}	)	O
if	IN	O
(	(	O
delta	JJ	O
<	VBP	O
31104000	CD	O
		
)	)	O
/	NN	O
/	$	O
12	CD	O
*	$	O
30	CD	O
*	$	O
24	CD	O
*	$	O
60	CD	O
*	NNP	O
		
60	CD	O
{	(	O
int	JJ	O
months	NNS	O
=	IN	O
Convert.ToInt32(	NNP	B-API
Math.Floor(	NNP	I-API
(	(	I-API
double	JJ	I-API
)ts	NN	I-API
.	.	I-API
		
Days	VBZ	I-API
/	RB	I-API
30	CD	I-API
)	)	L-API
)	)	O
;	:	O
return	VB	O
months	NNS	O
<	NNP	O
=	VBD	O
1	CD	O
		
?	.	O
"one	CD	O
month	NN	O
ago	RB	O
"	VBZ	O
:	:	O
months	NNS	O
+	IN	O
"	JJ	O
months	NNS	O
ago	IN	O
		
"	NN	O
;	:	O
}	)	O
int	NN	O
years	NNS	O
=	VBP	O
Convert.ToInt32(	NNP	B-API
Math.Floor(	NNP	I-API
(	(	I-API
double	JJ	I-API
)ts	NN	I-API
		
.	.	I-API
Days	VBZ	I-API
/	RB	I-API
365	CD	I-API
)	)	L-API
)	)	O
;	:	O
return	VB	O
years	NNS	O
<	NNP	O
=	VBD	O
		
1	CD	O
?	.	O
"one	CD	O
year	NN	O
ago	RB	O
"	IN	O
:	:	O
years	NNS	O
+	VBP	O
"	CD	O
years	NNS	O
		
ago	RB	O
"	VBD	O
;	:	O
Suggestions	NNP	O
?	.	O
Comments	NNS	O
?	.	O
Ways	NNS	O
to	TO	O
improve	VB	O
this	DT	O
		
algorithm	NN	O
?	.	O
What	WP	O
is	VBZ	O
the	DT	O
difference	NN	O
between	IN	O
Math.Floor()	NNP	U-API
and	CC	O
Math.Truncate()	NNP	U-API
in	IN	O
		
.	.	O
NET	NN	O
?	.	O
How	WRB	O
do	VBP	O
you	PRP	O
expose	VB	O
a	DT	O
LINQ	NNP	O
query	NN	O
as	IN	O
		
an	DT	O
ASMX	NNP	O
web	NN	O
service	NN	O
?	.	O
Usually	RB	O
,	,	O
from	IN	O
the	DT	O
business	NN	O
tier	NN	O
		
,	,	O
I	PRP	O
can	MD	O
return	VB	O
a	DT	O
typed	JJ	O
DataSet	NNP	O
or	CC	O
DataTable	NNP	O
which	WDT	O
can	MD	O
		
be	VB	O
serialized	VBN	O
for	IN	O
transport	NN	O
over	IN	O
ASMX	NNP	O
.	.	O
How	WRB	O
can	MD	O
I	PRP	O
do	VBP	O
		
the	DT	O
same	JJ	O
for	IN	O
a	DT	O
LINQ	NNP	O
query	NN	O
?	.	O
Is	VBZ	O
there	EX	O
a	DT	O
way	NN	O
		
to	TO	O
populate	VB	O
a	DT	O
typed	JJ	O
DataSet	NNP	O
or	CC	O
DataTable	NNP	O
via	IN	O
a	DT	O
LINQ	NNP	O
query	NN	O
		
?	.	O
:	:	O
public	JJ	O
static	JJ	O
MyDataTable	NNP	O
CallMySproc()	NNP	U-API
{	(	O
string	VBG	O
conn	NN	O
=	NN	O
...	:	O
		
;	:	O
MyDatabaseDataContext	NNP	O
db	VBZ	O
=	NNP	O
new	JJ	O
MyDatabaseDataContext(	NNP	B-API
conn	NN	I-API
)	)	L-API
;	:	O
MyDataTable	JJ	O
dt	NN	O
		
=	NNP	O
new	JJ	O
MyDataTable()	NNP	U-API
;	:	O
/	NNP	O
/	NNP	O
execute	VB	O
a	DT	O
sproc	NN	O
via	IN	O
LINQ	NNP	O
		
var	FW	O
query	NN	O
=	NN	O
from	IN	O
dr	NN	O
in	IN	O
db.MySproc()	NN	U-API
.	.	O
AsEnumerable	JJ	O
select	JJ	O
dr	NN	O
		
;	:	O
/	CC	O
/	VB	O
copy	NN	O
LINQ	NNP	O
query	NN	O
resultset	NN	O
into	IN	O
a	DT	O
DataTable	JJ	O
-	:	O
		
this	DT	O
does	VBZ	O
not	RB	O
work	VB	O
!	.	O
dt	JJ	O
=	NNP	O
query.CopyToDataTable()	NN	U-API
;	:	O
return	VB	O
dt	NN	O
		
;	:	O
}	)	O
How	WRB	O
can	MD	O
I	PRP	O
get	VB	O
the	DT	O
resultset	NN	O
of	IN	O
a	DT	O
LINQ	NNP	O
		
query	NN	O
into	IN	O
a	DT	O
DataSet	NNP	O
or	CC	O
DataTable	NNP	O
?	.	O
Alternatively	RB	O
,	,	O
is	VBZ	O
the	DT	O
		
LINQ	NNP	O
query	NN	O
serializeable	NN	O
so	IN	O
that	IN	O
I	PRP	O
can	MD	O
expose	VB	O
it	PRP	O
as	IN	O
an	DT	O
		
ASMX	NNP	O
web	NN	O
service	NN	O
?	.	O
For	IN	O
a	DT	O
table	NN	O
like	IN	O
this	DT	O
:	:	O
CREATE	NN	O
		
TABLE	NNP	O
binary_data	NN	O
(	(	O
id	JJ	O
INT(	NNP	B-API
4	CD	I-API
)	)	L-API
NOT	NNP	O
NULL	NNP	O
AUTO_INCREMENT	NNP	O
PRIMARY	NNP	O
		
KEY	NNP	O
,	,	O
description	NN	O
CHAR(	NNP	B-API
50	CD	I-API
)	)	L-API
,	,	O
bin_data	JJ	O
LONGBLOB	NNP	O
,	,	O
filename	NN	O
		
CHAR(	NNP	B-API
50	CD	I-API
)	)	L-API
,	,	O
filesize	VB	O
CHAR(	NNP	B-API
50	CD	I-API
)	)	L-API
,	,	O
filetype	JJ	O
CHAR(	NNP	B-API
		
50	CD	I-API
)	)	L-API
)	)	O
;	:	O
Here	RB	O
is	VBZ	O
a	DT	O
PHP	JJ	O
example	NN	O
:	:	O
<	NN	O
		
?php	NNP	O
/	NNP	O
/	NNP	O
store	NN	O
.	.	O
php3	CC	O
-	:	O
by	IN	O
Florian	JJ	O
Dittmer	NNP	O
<dittmer	NNP	O
		
@gmx	NNP	O
.	.	O
net	JJ	O
>	NN	O
/	NNP	O
/	NNP	O
Example	NNP	O
php	VBP	O
script	NN	O
to	TO	O
demonstrate	VB	O
		
the	DT	O
storing	NN	O
of	IN	O
binary	JJ	O
files	NNS	O
into	IN	O
/	NNP	O
/	NNP	O
an	DT	O
sql	JJ	O
database	NN	O
		
.	.	O
More	JJR	O
information	NN	O
can	MD	O
be	VB	O
found	VBN	O
at	IN	O
http	NN	O
:	:	O
/	JJ	O
/www	NN	O
		
.	.	O
phpbuilder	NN	O
.	.	O
com	NN	O
/	NN	O
?	.	O
>	JJ	O
<html	NN	O
>	NNP	O
<head	NNP	O
>	NNP	O
		
<title	NNP	O
>Store	VBD	O
binary	JJ	O
data	NNS	O
into	IN	O
SQL	NNP	O
Database	NNP	O
<	NNP	O
/title	NNP	O
>	NNP	O
<	NNP	O
		
/head	NNP	O
>	NNP	O
<body	NN	O
>	NNP	O
<	NNP	O
?php	NNP	O
/	NNP	O
/	NNP	O
Code	NNP	O
that	WDT	O
will	MD	O
		
be	VB	O
executed	VBN	O
if	IN	O
the	DT	O
form	NN	O
has	VBZ	O
been	VBN	O
submitted	VBN	O
:	:	O
if	IN	O
(	(	O
		
$submit	NN	O
)	)	O
{	(	O
/	JJ	O
/	NN	O
Connect	NNP	O
to	TO	O
the	DT	O
database	NN	O
(	(	O
you	PRP	O
		
may	MD	O
have	VB	O
to	TO	O
adjust	VB	O
/	NNP	O
/	NNP	O
the	DT	O
hostname	NN	O
,	,	O
username	NN	O
or	CC	O
		
password	NN	O
)	)	O
.	.	O
mysql_connect(	NN	B-API
"localhost	NN	I-API
"	NNP	I-API
,	,	I-API
"root	NNP	I-API
"	NNP	I-API
,	,	I-API
"password	NNP	I-API
		
"	NNP	I-API
)	)	L-API
;	:	O
mysql_select_db(	CC	B-API
"binary_data	NNP	I-API
"	NNP	I-API
)	)	L-API
;	:	O
$data	CC	O
=	VB	O
mysql_real_escape_string(	NN	B-API
		
fread(	NN	I-API
fopen(	NN	I-API
$form_data	NNP	I-API
,	,	I-API
"r	NNP	I-API
"	NNP	I-API
)	)	L-API
,	,	O
filesize(	JJ	B-API
$form_data	NNP	I-API
)	)	L-API
		
)	)	O
)	)	O
;	:	O
$result	CC	O
=	VB	O
mysql_query(	NN	B-API
"INSERT	NNP	I-API
INTO	NNP	I-API
binary_data	NN	I-API
(	(	I-API
description	NN	I-API
		
,	,	I-API
bin_data	NN	I-API
,	,	I-API
filename	NN	I-API
,	,	I-API
filesize	VB	I-API
,	,	I-API
filetype	NN	I-API
)	)	L-API
"	NN	O
.	.	O
		
"VALUES	NN	O
(	(	O
'	POS	O
$form_description	NN	O
'	''	O
,	,	O
'	''	O
$data	NNP	O
'	POS	O
,	,	O
'	''	O
		
$form_data_name	NN	O
'	''	O
,	,	O
'	''	O
$form_data_size	NNP	O
'	POS	O
,	,	O
'	''	O
$form_data_type	NNP	O
'	POS	O
)	)	O
		
"	NN	O
)	)	O
;	:	O
$id	CC	O
=	NNP	O
mysql_insert_id()	NN	U-API
;	:	O
print	NN	O
"	NN	O
<p	NNP	O
>This	NNP	O
		
file	NN	O
has	VBZ	O
the	DT	O
following	JJ	O
Database	NNP	O
ID	NNP	O
:	:	O
<b	NN	O
>	NNP	O
$id	NNP	O
<	NNP	O
		
/b	NNP	O
>	NNP	O
"	NNP	O
;	:	O
mysql_close()	NN	U-API
;	:	O
}	)	O
else	RB	O
{	(	O
/	JJ	O
/	NN	O
		
else	RB	O
show	VBP	O
the	DT	O
form	NN	O
to	TO	O
submit	VB	O
new	JJ	O
data	NNS	O
:	:	O
?	.	O
>	VB	O
		
<form	NN	O
method	NN	O
=	NNP	O
"post	NNP	O
"	NNP	O
action	NN	O
=	NNP	O
"	NNP	O
<	NNP	O
?php	NNP	O
echo	VBP	O
		
$PHP_SELF	NN	O
;	:	O
?	.	O
>	FW	O
"	FW	O
enctype	FW	O
=	FW	O
"multipart	FW	O
/form	FW	O
-	:	O
data	NNS	O
		
"	VBP	O
>	NNP	O
File	NNP	O
Description	NNP	O
:	:	O
<br	NN	O
>	NNP	O
<input	NNP	O
type	NN	O
=	NNP	O
"text	NNP	O
		
"	NNP	O
name	NN	O
=	NNP	O
"form_description	NNP	O
"	NNP	O
size	NN	O
=	NNP	O
"40	NNP	O
"	NNP	O
>	NNP	O
<input	NNP	O
		
type	NN	O
=	NNP	O
"hidden	NNP	O
"	NNP	O
name	NN	O
=	NNP	O
"MAX_FILE_SIZE	NNP	O
"	NNP	O
value	NN	O
=	NNP	O
"1000000	NNP	O
		
"	NNP	O
>	NNP	O
<br	NNP	O
>File	NNP	O
to	TO	O
upload	VB	O
/store	NN	O
in	IN	O
database	NN	O
:	:	O
<br	JJ	O
		
>	NNP	O
<input	NNP	O
type	NN	O
=	NN	O
"file	NNP	O
"	NNP	O
name	NN	O
=	NNP	O
"form_data	NNP	O
"	NNP	O
size	NN	O
		
=	NNP	O
"40	NNP	O
"	NNP	O
>	NNP	O
<p	NNP	O
>	NNP	O
<input	NNP	O
type	NN	O
=	NNP	O
"submit	NNP	O
"	NNP	O
		
name	NN	O
=	NNP	O
"submit	NNP	O
"	NNP	O
value	NN	O
=	NNP	O
"submit	NNP	O
"	NNP	O
>	NNP	O
<	NNP	O
/form	NNP	O
		
>	NNP	O
<	NNP	O
?php	NNP	O
}	)	O
?	.	O
>	JJ	O
<	NN	O
/body	NN	O
>	NNP	O
<	NNP	O
/html	NNP	O
		
>	NNP	O
Solutions	NNP	O
are	VBP	O
welcome	JJ	O
in	IN	O
any	DT	O
language	NN	O
.	.	O
:	:	O
-	:	O
)	)	O
		
I'm	NNP	O
looking	VBG	O
for	IN	O
the	DT	O
fastest	JJS	O
way	NN	O
to	TO	O
obtain	VB	O
the	DT	O
value	NN	O
of	IN	O
		
π	NNP	O
,	,	O
as	IN	O
a	DT	O
personal	JJ	O
challenge	NN	O
.	.	O
More	RBR	O
specifically	RB	O
I'm	NNP	O
using	VBG	O
		
ways	NNS	O
that	WDT	O
don't	VBP	O
involve	VB	O
using	VBG	O
#defined	JJ	O
constants	NNS	O
like	IN	O
M_PI	NNP	O
,	,	O
or	CC	O
		
hard-coding	VBG	O
the	DT	O
number	NN	O
in	IN	O
.	.	O
The	DT	O
program	NN	O
below	IN	O
tests	VBZ	O
the	DT	O
various	JJ	O
		
ways	NNS	O
I	PRP	O
know	VBP	O
of	IN	O
.	.	O
The	DT	O
inline	NN	O
assembly	NN	O
version	NN	O
is	VBZ	O
,	,	O
		
in	IN	O
theory	NN	O
,	,	O
the	DT	O
fastest	JJS	O
option	NN	O
,	,	O
though	RB	O
clearly	RB	O
not	RB	O
portable	JJ	O
		
;	:	O
I've	NNP	O
included	VBD	O
it	PRP	O
as	IN	O
a	DT	O
baseline	NN	O
to	TO	O
compare	VB	O
the	DT	O
other	JJ	O
		
versions	NNS	O
against	IN	O
.	.	O
In	IN	O
my	PRP$	O
tests	NNS	O
,	,	O
with	IN	O
built-ins	NNS	O
,	,	O
the	DT	O
		
4	CD	O
*	NNP	O
atan(	RB	B-API
1	CD	I-API
)	)	L-API
version	NN	O
is	VBZ	O
fastest	JJS	O
on	IN	O
GCC	NNP	O
4	CD	O
		
.	.	O
2	CD	O
,	,	O
because	IN	O
it	PRP	O
auto-folds	VBZ	O
the	DT	O
atan(	JJ	B-API
1	CD	I-API
)	)	L-API
into	IN	O
		
a	DT	O
constant	JJ	O
.	.	O
With	IN	O
-	:	O
fno-builtin	JJ	O
specified	VBN	O
,	,	O
the	DT	O
atan2(	NN	B-API
0	CD	I-API
		
,	,	I-API
-	:	I-API
1	CD	I-API
)	)	L-API
version	NN	O
is	VBZ	O
fastest	JJS	O
.	.	O
Here's	NNP	O
the	DT	O
main	JJ	O
		
testing	NN	O
program	NN	O
(	(	O
pitimes	NNS	O
.	.	O
c	NN	O
)	)	O
:	:	O
#include	JJ	O
<math	NN	O
.	.	O
		
h	NN	O
>	JJ	O
#include	NN	O
<stdio	NNP	O
.	.	O
h	NN	O
>	JJ	O
#include	NN	O
<time	NNP	O
.	.	O
h	NN	O
		
>	JJ	O
#define	NN	O
ITERS	NNP	O
10000000	CD	O
#define	NNP	O
TESTWITH(	NNP	B-API
x	NNP	I-API
)	)	L-API
{	(	O
\	JJ	O
diff	NN	O
		
=	VBD	O
0	CD	O
.	.	O
0	CD	O
;	:	O
\	NNP	O
time1	VBZ	O
=	NNP	O
clock()	NN	U-API
;	:	O
\	CC	O
		
for	IN	O
(	(	O
i	JJ	O
=	VBP	O
0	CD	O
;	:	O
i	JJ	O
<	VBP	O
ITERS	NNPS	O
;	:	O
+	NNP	O
		
+i	NNP	O
)	)	O
\	VBP	O
diff	JJ	O
+	NNP	O
=	NNP	O
(	(	O
x	NNP	O
)	)	O
-	:	O
M_PI	NN	O
		
;	:	O
\	CC	O
time2	VB	O
=	NNP	O
clock()	NN	U-API
;	:	O
\	CC	O
printf(	VB	B-API
"	JJ	I-API
%s	NNP	I-API
\t	NNP	I-API
		
=	NNP	I-API
>	NNP	I-API
%e	NNP	I-API
,	,	I-API
time	NN	I-API
=	NNP	I-API
>	NNP	I-API
%f	NNP	I-API
\n	NNP	I-API
"	NNP	I-API
,	,	I-API
		
#x	NNP	I-API
,	,	I-API
diff	NN	I-API
,	,	I-API
diffclock(	NN	I-API
time2	NN	I-API
,	,	I-API
time1	NN	I-API
)	)	L-API
)	)	O
;	:	O
		
\	CC	O
}	)	O
static	JJ	O
inline	NN	O
double	JJ	O
diffclock(	NN	B-API
clock_t	NN	I-API
time1	NN	I-API
,	,	I-API
clock_t	VB	I-API
time0	NN	I-API
		
)	)	L-API
{	(	O
return	NN	O
(	(	O
double	JJ	O
)	)	O
(	(	O
time1	JJ	O
-	:	O
time0	NN	O
)	)	O
		
/	VBZ	O
CLOCKS_PER_SEC	NNP	O
;	:	O
}	)	O
int	NN	O
main()	NNS	U-API
{	(	O
int	NN	O
i	NN	O
;	:	O
clock_t	NN	O
		
time1	NN	O
,	,	O
time2	NN	O
;	:	O
double	JJ	O
diff	NN	O
;	:	O
/	CC	O
*	VB	O
Warmup	NNP	O
.	.	O
		
The	DT	O
atan2	JJ	O
case	NN	O
catches	NNS	O
GCC's	NNP	O
atan	IN	O
folding	NN	O
(	(	O
which	WDT	O
would	MD	O
*	VB	O
		
optimise	VB	O
the	DT	O
`	``	O
`4	JJ	O
*	NN	O
atan(	IN	B-API
1	CD	I-API
)	)	L-API
-	:	O
M_PI	NNP	O
'	POS	O
		
'	''	O
to	TO	O
a	DT	O
no-op	JJ	O
)	)	O
,	,	O
if	IN	O
-	:	O
fno-builtin	JJ	O
*	NN	O
is	VBZ	O
		
not	RB	O
used	VBN	O
.	.	O
*	JJ	O
/	JJ	O
TESTWITH(	NNP	B-API
4	CD	I-API
*	NNP	I-API
atan(	RB	I-API
1	CD	I-API
)	)	L-API
		
)	)	O
TESTWITH(	$	B-API
4	CD	I-API
*	NNP	I-API
atan2(	NN	I-API
1	CD	I-API
,	,	I-API
1	CD	I-API
)	)	L-API
)	)	O
#if	VBP	O
		
defined(	JJ	B-API
__GNUC__	NNP	I-API
)	)	L-API
&	CC	O
&	CC	O
(	(	O
defined(	JJ	B-API
__i386__	NN	I-API
)	)	L-API
|	VBZ	O
|	JJ	O
		
defined(	NN	B-API
__amd64__	NNP	I-API
)	)	L-API
)	)	O
extern	VBP	O
double	JJ	O
fldpi()	NN	U-API
;	:	O
TESTWITH(	NNP	B-API
fldpi()	NN	I-API
)	)	L-API
		
#endif	VBZ	O
/	JJ	O
*	NNP	O
Actual	NNP	O
tests	NNS	O
start	VBP	O
here	RB	O
.	.	O
*	JJ	O
/	JJ	O
TESTWITH(	NNP	B-API
		
atan2(	NN	I-API
0	CD	I-API
,	,	I-API
-	:	I-API
1	CD	I-API
)	)	L-API
)	)	O
TESTWITH(	NNP	B-API
acos(	SYM	I-API
-	:	I-API
1	CD	I-API
		
)	)	L-API
)	)	O
TESTWITH(	$	B-API
2	CD	I-API
*	NNP	I-API
asin(	RB	I-API
1	CD	I-API
)	)	L-API
)	)	O
TESTWITH(	$	B-API
4	CD	I-API
		
*	NNP	I-API
atan2(	NN	I-API
1	CD	I-API
,	,	I-API
1	CD	I-API
)	)	L-API
)	)	O
TESTWITH(	$	B-API
4	CD	I-API
*	NNP	I-API
atan(	RB	I-API
		
1	CD	I-API
)	)	L-API
)	)	O
return	VBP	O
0	CD	O
;	:	O
}	)	O
And	CC	O
the	DT	O
inline	NN	O
assembly	NN	O
		
stuff	NN	O
(	(	O
fldpi	JJ	O
.	.	O
c	NN	O
)	)	O
,	,	O
noting	VBG	O
that	IN	O
it	PRP	O
will	MD	O
		
only	RB	O
work	VB	O
for	IN	O
x86	NN	O
and	CC	O
x64	JJ	O
systems	NNS	O
:	:	O
double	JJ	O
fldpi()	NN	U-API
{	(	O
		
double	JJ	O
pi	NN	O
;	:	O
asm(	CC	B-API
"fldpi	JJ	I-API
"	NN	I-API
:	:	I-API
"	JJ	I-API
=t	NN	I-API
"	NNP	I-API
(	(	I-API
		
pi	NN	I-API
)	)	L-API
)	)	O
;	:	O
return	VB	O
pi	NN	O
;	:	O
}	)	O
And	CC	O
a	DT	O
build	JJ	O
		
script	NN	O
that	WDT	O
builds	VBZ	O
all	PDT	O
the	DT	O
configurations	NNS	O
I'm	NNP	O
testing	VBG	O
(	(	O
build	VB	O
.	.	O
		
sh	NN	O
)	)	O
:	:	O
#	#	O
!	.	O
/bin	NN	O
/sh	NNP	O
gcc	NN	O
-	:	O
O3	NNP	O
-	:	O
		
Wall	NNP	O
-	:	O
c	SYM	O
-	:	O
m32	NN	O
-	:	O
o	JJ	O
fldpi-32	JJ	O
.	.	O
o	JJ	O
fldpi	NN	O
		
.	.	O
c	VB	O
gcc	JJ	O
-	:	O
O3	NNP	O
-	:	O
Wall	NNP	O
-	:	O
c	SYM	O
-	:	O
m64	NN	O
		
-	:	O
o	JJ	O
fldpi-64	JJ	O
.	.	O
o	JJ	O
fldpi	NN	O
.	.	O
c	VB	O
gcc	JJ	O
-	:	O
O3	NNP	O
		
-	:	O
Wall	NNP	O
-	:	O
ffast-math	JJ	O
-	:	O
m32	NN	O
-	:	O
o	JJ	O
pitimes1-32	JJ	O
pitimes	NNS	O
.	.	O
		
c	VB	O
fldpi-32	JJ	O
.	.	O
o	NN	O
gcc	SYM	O
-	:	O
O3	NNP	O
-	:	O
Wall	NNP	O
-	:	O
m32	NN	O
		
-	:	O
o	JJ	O
pitimes2-32	JJ	O
pitimes	NNS	O
.	.	O
c	VB	O
fldpi-32	JJ	O
.	.	O
o	SYM	O
-	:	O
lm	NN	O
		
gcc	SYM	O
-	:	O
O3	NNP	O
-	:	O
Wall	NNP	O
-	:	O
fno-builtin	JJ	O
-	:	O
m32	NN	O
-	:	O
o	JJ	O
		
pitimes3-32	JJ	O
pitimes	NNS	O
.	.	O
c	VB	O
fldpi-32	JJ	O
.	.	O
o	SYM	O
-	:	O
lm	NN	O
gcc	SYM	O
-	:	O
		
O3	NNP	O
-	:	O
Wall	NNP	O
-	:	O
ffast-math	JJ	O
-	:	O
m64	NN	O
-	:	O
o	JJ	O
pitimes1-64	JJ	O
pitimes	NNS	O
		
.	.	O
c	VB	O
fldpi-64	JJ	O
.	.	O
o	SYM	O
-	:	O
lm	NN	O
gcc	SYM	O
-	:	O
O3	NNP	O
-	:	O
		
Wall	NNP	O
-	:	O
m64	NN	O
-	:	O
o	JJ	O
pitimes2-64	JJ	O
pitimes	NNS	O
.	.	O
c	VB	O
fldpi-64	JJ	O
.	.	O
		
o	SYM	O
-	:	O
lm	NN	O
gcc	SYM	O
-	:	O
O3	NNP	O
-	:	O
Wall	NNP	O
-	:	O
fno-builtin	JJ	O
-	:	O
		
m64	NN	O
-	:	O
o	JJ	O
pitimes3-64	JJ	O
pitimes	NNS	O
.	.	O
c	VB	O
fldpi-64	JJ	O
.	.	O
o	SYM	O
-	:	O
		
lm	JJ	O
Apart	NNP	O
from	IN	O
testing	VBG	O
between	IN	O
various	JJ	O
compiler	NN	O
flags	NNS	O
(	(	O
I've	NNP	O
compared	VBN	O
		
32-bit	CD	O
against	IN	O
64-bit	CD	O
too	RB	O
,	,	O
because	IN	O
the	DT	O
optimisations	NNS	O
are	VBP	O
different	JJ	O
)	)	O
		
,	,	O
I've	NNP	O
also	RB	O
tried	VBD	O
switching	VBG	O
the	DT	O
order	NN	O
of	IN	O
the	DT	O
tests	NNS	O
around	IN	O
		
.	.	O
The	DT	O
atan2(	NN	B-API
0	CD	I-API
,	,	I-API
-	:	I-API
1	CD	I-API
)	)	L-API
version	NN	O
still	RB	O
comes	VBZ	O
		
out	RP	O
top	JJ	O
every	DT	O
time	NN	O
,	,	O
though	RB	O
.	.	O
Many	JJ	O
years	NNS	O
ago	RB	O
,	,	O
		
to	TO	O
provide	VB	O
an	DT	O
age	NN	O
calculator	NN	O
gimmick	NN	O
on	IN	O
my	PRP$	O
website	NN	O
,	,	O
I	PRP	O
		
wrote	VBD	O
a	DT	U-API
function	NN	O
to	TO	O
calculate	VB	O
age	NN	O
to	TO	O
a	DT	O
fraction	NN	O
.	.	O
This	DT	O
		
is	VBZ	O
a	DT	O
quick	JJ	O
port	NN	O
of	IN	O
that	DT	U-API
function	NN	O
to	TO	O
C	NNP	O
#	#	O
(	(	O
		
from	IN	O
the	DT	O
PHP	NNP	O
version	NN	O
)	)	O
.	.	O
I'm	NNP	O
afraid	VBD	O
I	PRP	O
haven't	VBP	O
been	VBN	O
		
able	JJ	O
to	TO	O
test	VB	O
the	DT	O
C	NNP	O
#	#	O
version	NN	O
,	,	O
but	CC	O
hope	VBP	O
you	PRP	O
		
enjoy	VBP	O
all	PDT	O
the	DT	O
same	JJ	O
!	.	O
(	(	O
Admittedly	RB	O
this	DT	O
is	VBZ	O
a	DT	O
bit	NN	O
		
gimmicky	JJ	O
for	IN	O
the	DT	O
purposes	NNS	O
of	IN	O
showing	VBG	O
user	JJ	O
profiles	NNS	O
on	IN	O
Stack	NNP	O
Overflow	NNP	O
		
,	,	O
but	CC	O
maybe	RB	O
readers	NNS	O
will	MD	O
find	VB	O
some	DT	O
use	NN	O
for	IN	O
it	PRP	O
.	.	O
		
:	:	O
-	:	O
)	)	O
)	)	O
double	JJ	O
AgeDiff(	NNP	B-API
DateTime	NNP	I-API
date1	NN	I-API
,	,	I-API
DateTime	NNP	I-API
date2	NN	I-API
		
)	)	L-API
{	(	O
double	JJ	O
years	NNS	O
=	VBP	O
date2	NN	O
.	.	O
Year	SYM	O
-	:	O
date1	NN	O
.	.	O
		
Year	NN	O
;	:	O
/	CC	O
*	VB	O
*	NN	O
If	IN	O
date2	NN	O
and	CC	O
date1	NN	O
+	NNP	O
round(	NN	B-API
		
date2	NN	I-API
-	:	I-API
date1	NN	I-API
)	)	L-API
are	VBP	O
on	IN	O
different	JJ	O
sides	NNS	O
*	NN	O
of	IN	O
29	CD	O
		
February	NNP	O
,	,	O
then	RB	O
our	PRP$	O
partial	JJ	O
year	NN	O
is	VBZ	O
considered	VBN	O
to	TO	O
have	VB	O
366	CD	O
		
*	NNP	O
days	NNS	O
total	NN	O
,	,	O
otherwise	RB	O
it's	JJ	O
365	CD	O
.	.	O
Note	NN	O
that	IN	O
59	CD	O
		
is	VBZ	O
the	DT	O
day	NN	O
number	NN	O
*	NNP	O
of	IN	O
29	CD	O
Feb	NNP	O
.	.	O
*	CC	O
/	JJ	O
		
double	JJ	O
fraction	NN	O
=	VBD	O
365	CD	O
+	NNP	O
(	(	O
DateTime.IsLeapYear(	NNP	B-API
date2	NN	I-API
.	.	I-API
Year	NN	I-API
)	)	L-API
		
&	CC	O
&	CC	O
date2	NN	O
.	.	O
DayOfYear	NNP	O
>	NNP	O
=	NNP	O
59	NNP	O
&	CC	O
&	CC	O
(	(	O
		
date1	NN	O
.	.	O
DayOfYear	NNP	O
<	VBD	O
59	CD	O
|	NNP	O
|	NNP	O
date1	NN	O
.	.	O
DayOfYear	NNP	O
>	JJ	O
		
date2	NN	O
.	.	O
DayOfYear	NNP	O
)	)	O
?	.	O
1	CD	O
:	:	O
0	CD	O
)	)	O
;	:	O
/	CC	O
		
*	VB	O
*	VBZ	O
The	DT	O
only	JJ	O
really	RB	O
nontrivial	JJ	O
case	NN	O
is	VBZ	O
if	IN	O
date1	NN	O
is	VBZ	O
		
in	IN	O
a	DT	O
leap	JJ	O
year	NN	O
,	,	O
*	NNP	O
and	CC	O
date2	NN	O
is	VBZ	O
not	RB	O
.	.	O
		
So	RB	O
let's	JJ	O
handle	VBP	O
the	DT	O
others	NNS	O
first	RB	O
.	.	O
*	VB	O
/	JJ	O
if	IN	O
(	(	O
		
DateTime.IsLeapYear(	NNP	B-API
date2	NN	I-API
.	.	I-API
Year	NN	I-API
)	)	L-API
=	NN	O
=	NNP	O
DateTime.IsLeapYear(	NNP	B-API
date1	NN	I-API
.	.	I-API
Year	NNP	I-API
		
)	)	L-API
)	)	O
return	VBP	O
years	NNS	O
+	NNP	O
(	(	O
date2	NN	O
.	.	O
DayOfYear	NNP	O
-	:	O
date1	NN	O
		
.	.	O
DayOfYear	NNP	O
)	)	O
/	NNP	O
fraction	NN	O
;	:	O
/	CC	O
*	VB	O
*	NN	O
If	IN	O
date2	NN	O
		
is	VBZ	O
in	IN	O
a	DT	O
leap	JJ	O
year	NN	O
,	,	O
but	CC	O
date1	NN	O
is	VBZ	O
not	RB	O
and	CC	O
		
is	VBZ	O
March	NNP	O
or	CC	O
*	NNP	O
beyond	IN	O
,	,	O
shift	VB	O
up	RP	O
by	IN	O
a	DT	O
day	NN	O
		
.	.	O
*	VB	O
/	JJ	O
if	IN	O
(	(	O
DateTime.IsLeapYear(	NNP	B-API
date2	NN	I-API
.	.	I-API
Year	NNP	I-API
)	)	L-API
)	)	O
		
{	(	O
return	NN	O
years	NNS	O
+	NNP	O
(	(	O
date2	NN	O
.	.	O
DayOfYear	NNP	O
-	:	O
date1	NN	O
.	.	O
		
DayOfYear	NNP	O
-	:	O
(	(	O
date1	NN	O
.	.	O
DayOfYear	NNP	O
>	NNP	O
=	VBD	O
59	CD	O
?	.	O
1	CD	O
		
:	:	O
0	CD	O
)	)	O
)	)	O
/	$	O
fraction	NN	O
;	:	O
}	)	O
/	FW	O
*	FW	O
*	FW	O
		
If	IN	O
date1	NN	O
is	VBZ	O
not	RB	O
on	IN	O
29	CD	O
February	NNP	O
,	,	O
shift	VB	O
down	RP	O
date1	NN	O
		
by	IN	O
a	DT	O
day	NN	O
if	IN	O
*	VBN	O
March	NNP	O
or	CC	O
later	RB	O
.	.	O
Proceed	VB	O
normally	RB	O
		
.	.	O
*	VB	O
/	JJ	O
if	IN	O
(	(	O
date1	NN	O
.	.	O
DayOfYear	JJ	O
!	.	O
=	$	O
59	CD	O
		
)	)	O
{	(	O
return	NN	O
years	NNS	O
+	NNP	O
(	(	O
date2	NN	O
.	.	O
DayOfYear	NNP	O
-	:	O
date1	NN	O
		
.	.	O
DayOfYear	NNP	O
+	NNP	O
(	(	O
date1	NN	O
.	.	O
DayOfYear	NNP	O
>	VBD	O
59	CD	O
?	.	O
1	CD	O
		
:	:	O
0	CD	O
)	)	O
)	)	O
/	$	O
fraction	NN	O
;	:	O
}	)	O
/	FW	O
*	JJ	O
*	NNP	O
		
Okay	NNP	O
,	,	O
here	RB	O
date1	NN	O
is	VBZ	O
on	IN	O
29	CD	O
February	NNP	O
,	,	O
and	CC	O
date2	NN	O
		
is	VBZ	O
not	RB	O
on	IN	O
a	DT	O
leap	NN	O
*	JJ	O
year	NN	O
.	.	O
What	WP	O
to	TO	O
do	VB	O
		
now	RB	O
?	.	O
On	IN	O
28	CD	O
Feb	NNP	O
in	IN	O
date2's	JJ	O
year	NN	O
,	,	O
the	DT	O
`	``	O
		
`age	NN	O
'	''	O
'	POS	O
*	NNS	O
should	MD	O
be	VB	O
just	RB	O
shy	NN	O
of	IN	O
a	DT	O
whole	JJ	O
		
number	NN	O
,	,	O
and	CC	O
on	IN	O
1	CD	O
Mar	NNP	O
should	MD	O
be	VB	O
*	JJ	O
just	RB	O
over	IN	O
		
.	.	O
Perhaps	RB	O
the	DT	O
easiest	JJS	O
way	NN	O
is	VBZ	O
to	TO	O
a	DT	O
point	NN	O
halfway	NN	O
*	NN	O
		
between	IN	O
those	DT	O
two	CD	O
:	:	O
58	CD	O
.	.	O
5	CD	O
.	.	O
*	JJ	O
/	JJ	O
return	NN	O
		
years	NNS	O
+	NNP	O
(	(	O
date2	NN	O
.	.	O
DayOfYear	NNP	O
-	:	O
58	CD	O
.	.	O
5	CD	O
)	)	O
		
/	NN	O
fraction	NN	O
;	:	O
}	)	O
The	DT	O
best	JJS	O
way	NN	O
that	IN	O
I	PRP	O
know	VBP	O
of	IN	O
		
because	IN	O
of	IN	O
leap	JJ	O
years	NNS	O
and	CC	O
everything	NN	O
is	VBZ	O
:	:	O
DateTime	JJ	O
birthDate	NN	O
=	NNP	O
		
new	JJ	O
DateTime(	NNP	B-API
2000	CD	I-API
,	,	I-API
3	CD	I-API
,	,	I-API
1	CD	I-API
)	)	L-API
;int	NN	O
age	NN	O
=	NNP	O
		
(	(	O
int	JJ	O
)Math	NN	O
.	.	O
Floor(	NNP	B-API
(	(	I-API
DateTime	NNP	I-API
.	.	I-API
Now	RB	I-API
-	:	I-API
birthDate	NN	I-API
		
)	)	L-API
.	.	O
TotalDays	NNP	O
/	VBD	O
365	CD	O
.	.	O
25D	CD	O
)	)	O
;	:	O
Hope	NNP	O
this	DT	O
		
helps	VBZ	O
.	.	O
@jeff	VB	O
IMHO	NNP	O
yours	NNPS	O
seems	VBZ	O
a	DT	O
little	JJ	O
long	JJ	O
.	.	O
However	RB	O
		
it	PRP	O
does	VBZ	O
seem	VB	O
a	DT	O
little	RB	O
more	RBR	O
robust	JJ	O
with	IN	O
support	NN	O
for	IN	O
"yesterday	JJ	O
		
"	NNP	O
and	CC	O
"years	NNP	O
"	NNP	O
.	.	O
But	CC	O
in	IN	O
my	PRP$	O
experience	NN	O
when	WRB	O
this	DT	O
		
is	VBZ	O
used	VBN	O
the	DT	O
person	NN	O
is	VBZ	O
most	RBS	O
likely	JJ	O
to	TO	O
view	VB	O
the	DT	O
content	NN	O
		
in	IN	O
the	DT	O
first	JJ	O
30	CD	O
days	NNS	O
.	.	O
It	PRP	O
is	VBZ	O
only	RB	O
the	DT	O
really	RB	O
		
hardcore	JJ	O
people	NNS	O
that	IN	O
come	VBP	O
after	IN	O
that	DT	O
.	.	O
So	IN	O
that	DT	O
is	VBZ	O
why	WRB	O
		
I	PRP	O
usually	RB	O
elect	VBP	O
to	TO	O
keep	VB	O
this	DT	O
short	JJ	O
and	CC	O
simple	JJ	O
.	.	O
This	DT	O
		
is	VBZ	O
the	DT	O
method	NN	O
I	PRP	O
am	VBP	O
currently	RB	O
using	VBG	O
on	IN	O
one	CD	O
of	IN	O
my	PRP$	O
		
websites	NNS	O
.	.	O
This	DT	O
only	JJ	O
returns	VBZ	O
a	DT	O
relative	JJ	O
day	NN	O
,	,	O
hour	NN	O
,	,	O
		
time	NN	O
.	.	O
And	CC	O
then	RB	O
the	DT	O
user	NN	O
has	VBZ	O
to	TO	O
slap	VB	O
on	IN	O
"ago	JJ	O
		
"	NN	O
in	IN	O
the	DT	O
output	NN	O
.	.	O
public	JJ	O
static	JJ	O
string	NN	O
ToLongString(	NNP	B-API
this	DT	I-API
TimeSpan	NNP	I-API
		
time	NN	I-API
)	)	L-API
{	(	O
string	VBG	O
output	NN	O
=	NNP	O
String	NNP	O
.	.	O
Empty	NNP	O
;	:	O
if	IN	O
		
(	(	O
time	NN	O
.	.	O
Days	VBZ	O
>	RB	O
0	CD	O
)	)	O
output	NN	O
+	NNP	O
=	NNP	O
time	NN	O
		
.	.	O
Days	NNS	O
+	VBP	O
"	JJ	O
days	NNS	O
"	VBP	O
;	:	O
if	IN	O
((	JJ	O
time	NN	O
.	.	O
		
Days	NNS	O
=	VBP	O
=	JJ	O
0	CD	O
|	JJ	O
|	JJ	O
time	NN	O
.	.	O
Days	NNS	O
=	VBP	O
=	JJ	O
		
1	CD	O
)	)	O
&	CC	O
&	CC	O
time	NN	O
.	.	O
Hours	NNP	O
>	NNP	O
0	CD	O
)	)	O
output	NN	O
		
+	NNP	O
=	NNP	O
time	NN	O
.	.	O
Hours	NNP	O
+	NNP	O
"	NNP	O
hr	NN	O
"	NN	O
;	:	O
if	IN	O
		
(	(	O
time	NN	O
.	.	O
Days	NNS	O
=	VBP	O
=	JJ	O
0	CD	O
&	CC	O
&	CC	O
time	NN	O
.	.	O
		
Minutes	NNS	O
>	VBP	O
0	CD	O
)	)	O
output	NN	O
+	NNP	O
=	NNP	O
time	NN	O
.	.	O
Minutes	NNS	O
+	VBP	O
		
"	JJ	O
min	NN	O
"	NN	O
;	:	O
if	IN	O
(	(	O
output	NN	O
.	.	O
Length	NNP	O
=	NNP	O
=	NNP	O
		
0	CD	O
)	)	O
output	NN	O
+	NNP	O
=	NNP	O
time	NN	O
.	.	O
Seconds	NNS	O
+	JJ	O
"	NNP	O
sec	NN	O
		
"	NN	O
;	:	O
return	VB	O
output.Trim()	NN	U-API
;	:	O
}	)	O
I've	NNP	O
had	VBD	O
no	DT	O
trouble	NN	O
using	VBG	O
		
the	DT	O
BSD	NNP	O
sockets	NNS	O
API	NNP	O
in	IN	O
C	NNP	O
+	NNP	O
+	NNP	O
,	,	O
in	IN	O
GNU	NNP	O
		
/Linux	NNP	O
.	.	O
Here's	NNP	O
the	DT	O
sample	JJ	O
program	NN	O
I	PRP	O
used	VBD	O
:	:	O
#include	NN	O
<sys	NN	O
		
/socket	NN	O
.	.	O
h	NN	O
>intmain	NNP	O
(	(	O
)	)	O
{	(	O
return	JJ	O
AF_INET	NNP	O
;	:	O
}	)	O
		
So	IN	O
my	PRP$	O
take	NN	O
on	IN	O
this	DT	O
is	VBZ	O
that	IN	O
z	NN	O
/OS	NN	O
is	VBZ	O
probably	RB	O
		
the	DT	O
complicating	NN	O
factor	NN	O
here	RB	O
,	,	O
however	RB	O
,	,	O
because	IN	O
I've	NNP	O
never	RB	O
used	VBD	O
		
z	NN	O
/OS	NN	O
before	IN	O
,	,	O
much	RB	O
less	JJR	O
programmed	VBN	O
in	IN	O
it	PRP	O
,	,	O
I	PRP	O
		
can't	VBP	O
say	VB	O
this	DT	O
definitively	RB	O
.	.	O
:	:	O
-	:	O
P	VB	O
How	WRB	O
do	VB	O
I	PRP	O
		
forcefully	RB	O
unload	VBP	O
a	DT	O
ByteArray	NNP	O
from	IN	O
memory	NN	O
in	IN	O
ActionScript	NNP	O
3	CD	O
?	.	O
I	PRP	O
		
have	VBP	O
tried	VBN	O
(	(	O
without	IN	O
success	NN	O
)	)	O
:	:	O
byteArray	NN	O
.	.	O
length	NN	O
=	VBD	O
		
0	CD	O
;	:	O
byteArray	NN	O
=	VBD	O
new	JJ	O
ByteArray()	NNP	U-API
;	:	O
And	CC	O
for	IN	O
(	(	O
var	NN	O
		
i	NN	O
:int	VBP	O
=0	NN	O
;	:	O
i	CC	O
<	VBP	O
byteArray	NN	O
.	.	O
length	NN	O
;	:	O
i	CC	O
		
+	VBP	O
+	NNP	O
)	)	O
{	(	O
byteArray	NN	O
[i	NNP	O
]	NNP	O
=	NNP	O
null	NN	O
;	:	O
}	)	O
		
How	WRB	O
can	MD	O
I	PRP	O
monitor	VB	O
an	DT	O
SQL	NNP	O
Server	NNP	O
database	NN	O
for	IN	O
changes	NNS	O
to	TO	O
		
a	DT	O
table	NN	O
without	IN	O
using	VBG	O
triggers	NNS	O
or	CC	O
modifying	VBG	O
the	DT	O
structure	NN	O
of	IN	O
the	DT	O
		
database	NN	O
in	IN	O
any	DT	O
way	NN	O
?	.	O
My	PRP$	O
preferred	JJ	O
programming	NN	O
environment	NN	O
is	VBZ	O
.	.	O
		
NET	JJ	O
and	CC	O
C	NNP	O
#	#	O
.	.	O
I'd	NNP	O
like	IN	O
to	TO	O
be	VB	O
able	JJ	O
to	TO	O
		
support	VB	O
any	DT	O
SQL	NNP	O
Server	NNP	O
2000	CD	O
SP4	NNP	O
or	CC	O
newer	JJR	O
.	.	O
My	PRP$	O
application	NN	O
		
is	VBZ	O
a	DT	O
bolt-on	JJ	O
data	NN	O
visualization	NN	O
for	IN	O
another	DT	O
company's	JJ	O
product	NN	O
.	.	O
Our	PRP$	O
		
customer	NN	O
base	NN	O
is	VBZ	O
in	IN	O
the	DT	O
thousands	NNS	O
,	,	O
so	IN	O
I	PRP	O
don't	VBP	O
want	VBP	O
		
to	TO	O
have	VB	O
to	TO	O
put	VB	O
in	IN	O
requirements	NNS	O
that	IN	O
we	PRP	O
modify	VBP	O
the	DT	O
third-party	JJ	O
		
vendor's	NN	O
table	NN	O
at	IN	O
every	DT	O
installation	NN	O
.	.	O
By	IN	O
"changes	NNS	O
to	TO	O
a	DT	O
table	JJ	O
		
"	NN	O
I	PRP	O
mean	VBP	O
changes	NNS	O
to	TO	O
table	VB	O
data	NNS	O
,	,	O
not	RB	O
changes	NNS	O
to	TO	O
		
table	JJ	O
structure	NN	O
.	.	O
Ultimately	RB	O
,	,	O
I	PRP	O
would	MD	O
like	VB	O
the	DT	O
change	NN	O
to	TO	O
		
trigger	VB	O
an	DT	O
event	NN	O
in	IN	O
my	PRP$	O
application	NN	O
,	,	O
instead	RB	O
of	IN	O
having	VBG	O
to	TO	O
		
check	VB	O
for	IN	O
changes	NNS	O
at	IN	O
an	DT	O
interval	NN	O
.	.	O
The	DT	O
best	JJS	O
course	NN	O
of	IN	O
		
action	NN	O
given	VBN	O
my	PRP$	O
requirements	NNS	O
(	(	O
no	DT	O
triggers	NNS	O
or	CC	O
schema	NN	O
modification	NN	O
,	,	O
		
SQL	NNP	O
Server	NNP	O
2000	CD	O
and	CC	O
2005	CD	O
)	)	O
seems	VBZ	O
to	TO	O
be	VB	O
to	TO	O
use	VB	O
		
the	DT	O
BINARY_CHECKSUM	NNP	U-API
function	NN	O
in	IN	O
T-SQL	NNP	O
.	.	O
The	DT	O
way	NN	O
I	PRP	O
plan	VBP	O
to	TO	O
		
implement	VB	O
is	VBZ	O
this	DT	O
:	:	O
Every	DT	O
X	NN	O
seconds	VBZ	O
run	VBP	O
the	DT	O
following	JJ	O
query	NN	O
		
:	:	O
SELECT	NNP	O
CHECKSUM_AGG(	NNP	B-API
BINARY_CHECKSUM(	NNP	I-API
*	NNP	I-API
)	)	L-API
)	)	O
FROM	NNP	O
sample_table	JJ	O
WITH	NNP	O
(	(	O
		
NOLOCK	NNP	O
)	)	O
;	:	O
and	CC	O
compare	VB	O
that	DT	O
against	IN	O
the	DT	O
stored	JJ	O
value	NN	O
.	.	O
		
If	IN	O
the	DT	O
value	NN	O
has	VBZ	O
changed	VBN	O
,	,	O
go	VBP	O
through	IN	O
the	DT	O
table	NN	O
row	NN	O
		
by	IN	O
row	NN	O
using	VBG	O
the	DT	O
query	NN	O
select	NN	O
row_id	NN	O
,	,	O
BINARY_CHECKSUM(	NNP	B-API
*	NNP	I-API
)	)	L-API
		
from	IN	O
sample_table	JJ	O
WITH	NNP	O
(	(	O
NOLOCK	NNP	O
)	)	O
;	:	O
and	CC	O
compare	VB	O
the	DT	O
returned	JJ	O
		
checksums	NNS	O
against	IN	O
stored	VBN	O
values	NNS	O
.	.	O
Sure	JJ	O
I	PRP	O
can	MD	O
post	VB	O
a	DT	O
test	NN	O
		
app	NN	O
.	.	O
#include	VB	O
<sys	JJ	O
/socket	NN	O
.	.	O
h	JJ	O
>int	NN	O
main()	NN	U-API
{	(	O
return	JJ	O
		
AF_INET	NNP	O
;	:	O
}	)	O
Compile	NNP	O
/Link	NNP	O
Output	NNP	O
:	:	O
cxx	NN	O
-	:	O
Wc	NNP	O
,	,	O
		
xplink	NNP	O
-	:	O
Wl	NNP	O
,	,	O
xplink	NNP	O
-	:	O
o	NN	O
inet_test	JJ	O
inet	NN	O
.	.	O
C	NNP	O
		
"	NNP	O
.	.	O
/inet	NN	O
.	.	O
C	NNP	O
"	NNP	O
,	,	O
line	NN	O
5	CD	O
.	.	O
16	CD	O
		
:	:	O
CCN5274	NNP	O
(	(	O
S	NNP	O
)	)	O
The	DT	O
name	NN	O
lookup	NN	O
for	IN	O
"AF_INET	NNP	O
"	NNP	O
		
did	VBD	O
not	RB	O
find	VB	O
a	DT	O
declaration	NN	O
.	.	O
CCN0797(	NNP	B-API
I	PRP	I-API
)	)	L-API
Compilation	NN	O
failed	VBD	O
		
for	IN	O
file	NN	O
.	.	O
/inet	NN	O
.	.	O
C	NNP	O
.	.	O
Object	NNP	O
file	NN	O
not	RB	O
created	VBN	O
		
.	.	O
A	DT	O
check	NN	O
of	IN	O
sys	JJ	O
/sockets	NNS	O
.	.	O
h	NN	O
does	VBZ	O
include	VB	O
the	DT	O
		
definition	NN	O
I	PRP	O
need	VBP	O
,	,	O
and	CC	O
as	RB	O
far	RB	O
as	IN	O
I	PRP	O
can	MD	O
tell	VB	O
		
,	,	O
it	PRP	O
is	VBZ	O
not	RB	O
being	VBG	O
blocked	VBN	O
by	IN	O
any	DT	O
#ifdef	JJ	O
statements	NNS	O
.	.	O
		
I	PRP	O
have	VBP	O
however	RB	O
noticed	VBN	O
it	PRP	O
contains	VBZ	O
a	DT	O
the	DT	O
following	JJ	O
:	:	O
#ifdef	JJ	O
		
__cplusplus	CC	O
extern	JJ	O
"C	NNP	O
"	NNP	O
{	(	O
#endif	NNP	O
which	WDT	O
encapsulates	VBZ	O
basically	RB	O
the	DT	O
whole	JJ	O
		
file	NN	O
.	.	O
Not	RB	O
sure	JJ	O
if	IN	O
it	PRP	O
matters	VBZ	O
.	.	O
Consider	VB	O
using	VBG	O
a	DT	O
		
ManualResetEvent	NN	O
to	TO	O
block	VB	O
the	DT	O
main	JJ	O
thread	NN	O
at	IN	O
the	DT	O
end	NN	O
of	IN	O
its	PRP$	O
		
processing	NN	O
,	,	O
and	CC	O
call	VB	O
Reset()	NNP	U-API
on	IN	O
it	PRP	O
once	RB	O
the	DT	O
timer's	NN	O
processing	NN	O
		
has	VBZ	O
finished	VBN	O
.	.	O
If	IN	O
this	DT	O
is	VBZ	O
something	NN	O
that	WDT	O
needs	VBZ	O
to	TO	O
run	VB	O
		
constantly	RB	O
,	,	O
consider	VB	O
moving	VBG	O
this	DT	O
into	IN	O
a	DT	O
service	NN	O
process	NN	O
instead	RB	O
of	IN	O
		
a	DT	O
console	JJ	O
app	NN	O
.	.	O
You	PRP	O
can	MD	O
use	VB	O
something	NN	O
like	IN	O
Console.ReadLine()	NNP	U-API
to	TO	O
		
block	VB	O
the	DT	O
main	JJ	O
thread	NN	O
,	,	O
so	IN	O
other	JJ	O
background	NN	O
threads	NNS	O
(	(	O
like	IN	O
		
timer	NN	O
threads	NNS	O
)	)	O
will	MD	O
still	RB	O
work	VB	O
.	.	O
You	PRP	O
may	MD	O
also	RB	O
use	VB	O
		
an	DT	O
AutoResetEvent	NN	O
to	TO	O
block	VB	O
the	DT	O
execution	NN	O
,	,	O
then	RB	O
(	(	O
when	WRB	O
you	PRP	O
		
need	VBP	O
to	TO	O
)	)	O
you	PRP	O
can	MD	O
call	VB	O
Set()	NNP	U-API
method	NN	O
on	IN	O
that	DT	O
AutoResetEvent	NNP	O
		
object	NN	O
to	TO	O
release	VB	O
the	DT	O
main	JJ	O
thread	NN	O
.	.	O
Also	RB	O
ensure	VB	O
that	IN	O
your	PRP$	O
		
reference	NN	O
to	TO	O
Timer	NNP	O
object	NN	O
doesn't	NN	O
go	VB	O
out	IN	O
of	IN	O
scope	NN	O
and	CC	O
garbage	NN	O
		
collected	VBN	O
.	.	O
Have	VBP	O
a	DT	O
look	NN	O
at	IN	O
this	DT	O
article	NN	O
http	NN	O
:	:	O
/	JJ	O
		
/www	NN	O
.	.	O
gskinner	NN	O
.	.	O
com	NN	O
/blog	NN	O
/archives	VBZ	O
/2006	NNP	O
/06	NNP	O
/as3_resource_ma	NNP	O
.	.	O
		
html	NN	O
IANA	NNP	O
actionscript	NN	O
programmer	NN	O
,	,	O
however	RB	O
the	DT	O
feeling	NN	O
I'm	NNP	O
getting	VBG	O
is	VBZ	O
		
that	IN	O
,	,	O
because	IN	O
the	DT	O
garbage	NN	O
collector	NN	O
might	MD	O
not	RB	O
run	VB	O
when	WRB	O
you	PRP	O
		
want	VBP	O
it	PRP	O
to	TO	O
.	.	O
Hence	NNP	O
http	NN	O
:	:	O
/	JJ	O
/www	NN	O
.	.	O
craftymind	NN	O
		
.	.	O
com	NN	O
/2008	JJ	O
/04	NNP	O
/09	NNP	O
/kick	NNP	O
-	:	O
starting-the-garbage-collector-in-actionscript-3-with-air	JJ	O
/	NNS	O
So	RB	O
I'd	NNP	O
		
recommend	VB	O
trying	VBG	O
out	RP	O
their	PRP$	O
collection	NN	O
code	NN	O
and	CC	O
see	VB	O
if	IN	O
it	PRP	O
helps	VBZ	O
		
private	JJ	O
var	NN	O
gcCount	NN	O
:int	NN	O
;private	NNP	U-API
function	NN	O
startGCCycle()	NN	U-API
:void	NNP	O
{	(	O
gcCount	NN	O
=	RB	O
		
0	CD	O
;	:	O
addEventListener(	JJ	B-API
Event	NNP	I-API
.	.	I-API
ENTER_FRAME	NNP	I-API
,	,	I-API
doGC	NN	I-API
)	)	L-API
;	:	O
}private	JJ	U-API
		
function	NN	O
doGC(	NN	B-API
evt	FW	I-API
:Event	NN	I-API
)	)	L-API
:void	FW	O
{	(	O
flash.system.System.gc()	NN	U-API
;	:	O
if(	CC	B-API
+	NNP	I-API
		
+gcCount	NNP	I-API
>	NNP	I-API
1	CD	I-API
)	)	L-API
{	(	O
removeEventListener(	JJ	B-API
Event	NNP	I-API
.	.	I-API
ENTER_FRAME	NNP	I-API
,	,	I-API
doGC	NN	I-API
		
)	)	L-API
;	:	O
setTimeout(	JJ	B-API
lastGC	NN	I-API
,	,	I-API
40	CD	I-API
)	)	L-API
;	:	O
}	)	O
}private	VBP	U-API
function	NN	O
		
lastGC()	NN	U-API
:void	NNP	O
{	(	O
flash.system.System.gc()	NN	U-API
;	:	O
}	)	O
(	(	O
I'm	NNP	O
not	RB	O
positive	JJ	O
about	IN	O
		
this	DT	O
,	,	O
but	CC	O
...	:	O
)	)	O
AS3	VBP	O
uses	VBZ	O
a	DT	O
non-deterministic	JJ	O
garbage	NN	O
collection	NN	O
		
.	.	O
Which	JJ	O
means	VBZ	O
that	IN	O
unreferenced	JJ	O
memory	NN	O
will	MD	O
be	VB	O
freed	VBN	O
up	RP	O
whenever	WRB	O
		
the	DT	O
runtime	NN	O
feels	NNS	O
like	IN	O
it	PRP	O
(	(	O
typically	RB	O
not	RB	O
unless	IN	O
there's	VB	O
a	DT	O
		
reason	NN	O
to	TO	O
run	VB	O
,	,	O
since	IN	O
it's	NN	O
an	DT	O
expensive	JJ	O
operation	NN	O
to	TO	O
execute	VB	O
		
)	)	O
.	.	O
This	DT	O
is	VBZ	O
the	DT	O
same	JJ	O
approach	NN	O
used	VBN	O
by	IN	O
most	JJS	O
modern	JJ	O
		
garbage	NN	O
collected	VBN	O
languages	NNS	O
(	(	O
like	IN	O
C	NNP	O
#	#	O
and	CC	O
Java	NNP	O
as	RB	O
well	RB	O
		
)	)	O
.	.	O
Assuming	VBG	O
there	EX	O
are	VBP	O
no	DT	O
other	JJ	O
references	NNS	O
to	TO	O
the	DT	O
memory	NN	O
		
pointed	VBD	O
to	TO	O
by	IN	O
byteArray	NN	O
or	CC	O
the	DT	O
items	NNS	O
within	IN	O
the	DT	O
array	NN	O
itself	PRP	O
		
,	,	O
the	DT	O
memory	NN	O
will	MD	O
be	VB	O
freed	VBN	O
at	IN	O
some	DT	O
point	NN	O
after	IN	O
you	PRP	O
		
exit	VBP	O
the	DT	O
scope	NN	O
where	WRB	O
byteArray	NN	O
is	VBZ	O
declared	VBN	O
.	.	O
You	PRP	O
can	MD	O
force	VB	O
		
a	DT	O
garbage	NN	O
collection	NN	O
,	,	O
though	IN	O
you	PRP	O
really	RB	O
shouldn't	VB	O
.	.	O
If	IN	O
you	PRP	O
		
do	VBP	O
,	,	O
do	VB	O
it	PRP	O
only	RB	O
for	IN	O
testing	VBG	O
...	:	O
if	IN	O
you	PRP	O
do	VBP	O
		
it	PRP	O
in	IN	O
production	NN	O
,	,	O
you'll	JJ	O
hurt	VBD	O
performance	NN	O
much	RB	O
more	JJR	O
than	IN	O
help	NN	O
		
it	PRP	O
.	.	O
To	TO	O
force	VB	O
a	DT	O
GC	NNP	O
,	,	O
try	NN	O
(	(	O
yes	UH	O
,	,	O
		
twice	RB	O
)	)	O
:	:	O
flash.system.System.gc()	NN	U-API
;	:	O
flash.system.System.gc()	CC	U-API
;	:	O
You	PRP	O
can	MD	O
read	VB	O
more	JJR	O
		
here	RB	O
.	.	O
Give	VB	O
your	PRP$	O
submit	NN	O
buttons	NNS	O
same	JJ	O
name	NN	O
like	IN	O
this	DT	O
:	:	O
		
<input	NN	O
type	NN	O
=	NNP	O
"submit	NNP	O
"	NNP	O
name	NN	O
=	NNP	O
"submitButton	NNP	O
"	NNP	O
value	NN	O
=	NNP	O
		
"Previous	JJ	O
Page	NNP	O
"	NNP	O
/	NNP	O
>	NNP	O
<input	NNP	O
type	NN	O
=	NNP	O
"submit	NNP	O
"	NNP	O
name	NN	O
		
=	NNP	O
"submitButton	NNP	O
"	NNP	O
value	NN	O
=	NNP	O
"Next	NNP	O
Page	NNP	O
"	NNP	O
/	NNP	O
>	NN	O
When	WRB	O
		
the	DT	O
user	NN	O
presses	VBZ	O
enter	RBR	O
and	CC	O
the	DT	O
Request	NNP	O
goes	VBZ	O
to	TO	O
server	VB	O
,	,	O
		
you	PRP	O
can	MD	O
check	VB	O
the	DT	O
value	NN	O
for	IN	O
submitButton	NN	O
on	IN	O
your	PRP$	O
server-side	JJ	O
code	NN	O
		
which	WDT	O
contains	VBZ	O
a	DT	O
collection	NN	O
of	IN	O
form	NN	O
name	NN	O
/value	NNP	O
pairs	NNS	O
.	.	O
For	IN	O
		
example	NN	O
in	IN	O
classic	JJ	O
ASP	NN	O
:	:	O
If	IN	O
Request.Form(	NNP	B-API
"submitButton	NNP	I-API
"	NNP	I-API
)	)	L-API
=	VBP	O
		
"Previous	JJ	O
Page	NNP	O
"	NNP	O
Then	RB	O
'	POS	O
Code	NNP	O
for	IN	O
Previous	NNP	O
Page	NNP	O
ElseIf	NNP	O
Request.Form(	NNP	B-API
		
"submitButton	NNP	I-API
"	NNP	I-API
)	)	L-API
=	VBP	O
"Next	JJ	O
Page	NNP	O
"	NNP	O
Then	RB	O
'	POS	O
Code	NNP	O
for	IN	O
		
Next	NNP	O
Page	NNP	O
End	NNP	O
If	IN	O
Reference	NNP	O
:	:	O
Using	VBG	O
multiple	JJ	O
submit	NN	O
buttons	NNS	O
on	IN	O
		
a	DT	O
single	JJ	O
form	NN	O
Let's	NNP	O
say	VBP	O
I	PRP	O
have	VBP	O
a	DT	O
DataTable	JJ	O
with	IN	O
a	DT	O
		
Name	NN	O
column	NN	O
.	.	O
I	PRP	O
want	VBP	O
to	TO	O
have	VB	O
a	DT	O
collection	NN	O
of	IN	O
the	DT	O
		
unique	JJ	O
names	NNS	O
ordered	VBN	O
alphabetically	RB	O
.	.	O
The	DT	O
following	JJ	O
query	NN	O
ignores	VBZ	O
the	DT	O
order	NN	O
		
by	IN	O
clause	NN	O
.	.	O
var	JJ	O
names	NNS	O
=	VBP	O
(	(	O
from	IN	O
DataRow	NNP	O
dr	NN	O
in	IN	O
		
dataTable	JJ	O
.	.	O
Rows	NNP	O
orderby	NN	O
(	(	O
string	VBG	O
)dr	NNP	O
[	NNP	O
"Name	NNP	O
"	NNP	O
]	NNP	O
		
select	NN	O
(	(	O
string	VBG	O
)dr	NNP	O
[	NNP	O
"Name	NNP	O
"	NNP	O
]	NNP	O
)	)	O
.	.	O
Distinct()	NNP	U-API
		
;	:	O
Why	WRB	O
does	VBZ	O
the	DT	O
orderby	NN	O
not	RB	O
get	VB	O
enforced	VBN	O
?	.	O
Unfortunately	RB	O
when	WRB	O
		
it	PRP	O
comes	VBZ	O
to	TO	O
memory	VB	O
management	NN	O
in	IN	O
Flash	NNP	O
/actionscript	NNP	O
there	EX	O
isn't	VBZ	O
a	DT	O
		
whole	JJ	O
lot	NN	O
you	PRP	O
can	MD	O
do	VB	O
.	.	O
ActionScript	NNP	O
was	VBD	O
designed	VBN	O
to	TO	O
be	VB	O
		
easy	JJ	O
to	TO	O
use	VB	O
(	(	O
so	IN	O
they	PRP	O
didn't	VBP	O
want	JJ	O
people	NNS	O
to	TO	O
have	VB	O
		
to	TO	O
worry	VB	O
about	IN	O
memory	NN	O
management	NN	O
)	)	O
The	DT	O
following	NN	O
is	VBZ	O
a	DT	O
workaround	NN	O
		
,	,	O
instead	RB	O
of	IN	O
creating	VBG	O
a	DT	O
ByteArray	NNP	O
variable	JJ	O
try	NN	O
this	DT	O
.	.	O
var	NN	O
		
byteObject	NN	O
:Object	NNP	O
=	NNP	O
new	JJ	O
Object()	NNP	U-API
;	:	O
byteObject	NN	O
.	.	O
byteArray	NN	O
=	VBD	O
new	JJ	O
		
ByteArray()	NNP	U-API
;	:	O
...	:	O
/	VBP	O
/Then	VB	O
when	WRB	O
you	PRP	O
are	VBP	O
finished	VBN	O
delete	IN	O
the	DT	O
		
variable	JJ	O
from	IN	O
byteObject	JJ	O
delete	JJ	O
byteObject	NN	O
.	.	O
byteArray	NN	O
;	:	O
Where	NNP	O
byteArray	NN	O
is	VBZ	O
		
a	DT	O
dynamic	JJ	O
property	NN	O
of	IN	O
byteObject	NN	O
,	,	O
you	PRP	O
can	MD	O
free	VB	O
the	DT	O
memory	NN	O
		
that	WDT	O
was	VBD	O
allocated	VBN	O
for	IN	O
it	PRP	O
.	.	O
The	DT	O
problem	NN	O
is	VBZ	O
that	IN	O
the	DT	O
		
Distinct	NNP	O
operator	NN	O
does	VBZ	O
not	RB	O
grant	VB	O
that	IN	O
it	PRP	O
will	MD	O
maintain	VB	O
the	DT	O
original	JJ	O
		
order	NN	O
of	IN	O
values	NNS	O
.	.	O
So	RB	O
your	PRP$	O
query	NN	O
will	MD	O
need	VB	O
to	TO	O
work	VB	O
		
like	IN	O
this	DT	O
var	NN	O
names	VBZ	O
=	NNP	O
(	(	O
from	IN	O
DataRow	NNP	O
dr	NN	O
in	IN	O
dataTable	JJ	O
		
.	.	O
Rows	NNS	O
select	VBP	O
(	(	O
string	VBG	O
)dr	NNP	O
[	NNP	O
"Name	NNP	O
"	NNP	O
]	NNP	O
)	)	O
		
.	.	O
Distinct()	NNP	U-API
.	.	O
OrderBy(	NNP	B-API
name	NN	I-API
=	NNP	I-API
>	NNP	I-API
name	NN	I-API
)	)	L-API
;	:	O
It	PRP	O
		
is	VBZ	O
very	RB	O
simple	JJ	O
with	IN	O
the	DT	O
Skip	NNP	O
and	CC	O
Take	NNP	O
extension	NN	O
methods	NNS	O
.	.	O
		
var	JJ	O
query	NN	O
=	NN	O
from	IN	O
i	NN	O
in	IN	O
ideas	NNS	O
select	VBP	O
i	NN	O
;	:	O
var	CC	O
		
paggedCollection	NN	O
=	NNP	O
query.Skip(	NNP	B-API
startIndex	NN	I-API
)	)	L-API
.	.	O
Take(	NNP	B-API
count	NN	I-API
)	)	L-API
;	:	O
You	PRP	O
		
could	MD	O
use	VB	O
an	DT	O
Observer	NNP	O
pattern	NN	O
.	.	O
A	DT	O
simple	JJ	O
functional	JJ	O
way	NN	O
to	TO	O
		
accomplish	VB	O
this	DT	O
:	:	O
<	NN	O
?php	NNP	O
/	NNP	O
*	NNP	O
*	NNP	O
Plugin	NNP	O
system	NN	O
*	NNP	O
		
*	NNP	O
/	NNP	O
$listeners	NNS	O
=	VBP	O
array()	RB	U-API
;	:	O
/	NNP	O
*	NNP	O
Create	NNP	O
an	DT	O
entry	NN	O
		
point	NN	O
for	IN	O
plugins	NNS	O
*	JJ	O
/function	NNP	O
hook()	NN	U-API
{	(	O
global	JJ	O
$listeners	NNS	O
;	:	O
$num_args	NNP	O
		
=	NNP	O
func_num_args()	NN	U-API
;	:	O
$args	CC	O
=	NNP	O
func_get_args()	VBP	U-API
;	:	O
if(	JJ	B-API
$num_args	NNP	I-API
<	NNP	I-API
2	CD	I-API
		
)	)	L-API
trigger_error(	NN	B-API
"Insufficient	JJ	I-API
arguments	NNS	I-API
"	VBP	I-API
,	,	I-API
E_USER_ERROR	NNP	I-API
)	)	L-API
;	:	O
/	CC	O
/	VB	O
		
Hook	NNP	O
name	NN	O
should	MD	O
always	RB	O
be	VB	O
first	JJ	O
argument	NN	O
$hook_name	NN	O
=	NNP	O
array_shift(	VBZ	B-API
$args	NNP	I-API
		
)	)	L-API
;	:	O
if(	JJ	B-API
!isset	NNP	I-API
(	(	I-API
$listeners	NNS	I-API
[	VBP	I-API
$hook_name	JJ	I-API
]	NNP	I-API
)	)	L-API
)	)	O
		
return	NN	O
;	:	O
/	CC	O
/	VB	O
No	DT	O
plugins	NNS	O
have	VBP	O
registered	VBN	O
this	DT	O
hook	NN	O
foreach(	NN	B-API
		
$listeners	NNS	I-API
[	VBP	I-API
$hook_name	JJ	I-API
]	NNP	I-API
as	IN	I-API
$func	NNP	I-API
)	)	L-API
{	(	O
$args	JJ	O
=	NN	O
$func	NNP	O
		
(	(	O
$args	NNP	O
)	)	O
;	:	O
}	)	O
return	VBP	O
$args	NNS	O
;	:	O
}	)	O
/	FW	O
*	FW	O
		
Attach	VBP	O
a	DT	U-API
function	NN	O
to	TO	O
a	DT	O
hook	NN	O
*	JJ	O
/function	NN	O
add_listener(	NN	B-API
$hook	NN	I-API
,	,	I-API
		
$function_name	NN	I-API
)	)	L-API
{	(	O
global	JJ	O
$listeners	NNS	O
;	:	O
$listeners	NNS	O
[	VBP	O
$hook	NNP	O
]	NNP	O
[	NNP	O
		
]	NNP	O
=	NNP	O
$function_name	NN	O
;	:	O
}	)	O
/	FW	O
/	JJ	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
		
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
		
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
*	NNP	O
*	NNP	O
		
Sample	NNP	O
Plugin	NNP	O
*	NNP	O
*	NNP	O
/add_listener	NNP	O
(	(	O
'	''	O
a_b	NN	O
'	''	O
,	,	O
'	''	O
		
my_plugin_func1	NNP	O
'	POS	O
)	)	O
;add_listener	NN	O
(	(	O
'	''	O
str	NN	O
'	''	O
,	,	O
'	''	O
my_plugin_func2	NNP	O
		
'	POS	O
)	)	O
;function	NN	O
my_plugin_func1(	FW	B-API
$args	NNP	I-API
)	)	L-API
{	(	O
return	VB	O
array(	RB	B-API
4	CD	I-API
,	,	I-API
		
5	CD	I-API
)	)	L-API
;	:	O
}function	NN	O
my_plugin_func2(	FW	B-API
$args	NNP	I-API
)	)	L-API
{	(	O
return	VB	O
str_replace(	NN	B-API
'	''	I-API
		
sample	NN	I-API
'	''	I-API
,	,	I-API
'	''	I-API
CRAZY	NNP	I-API
'	POS	I-API
,	,	I-API
$args	FW	I-API
[0	NNP	I-API
]	NNP	I-API
)	)	L-API
		
;	:	O
}	)	O
/	FW	O
/	JJ	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
		
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
		
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
*	NNP	O
*	NNP	O
Sample	NNP	O
Application	NNP	O
*	NNP	O
		
*	NNP	O
/	NNP	O
$a	NNP	O
=	NNP	O
1	CD	O
;	:	O
$b	NNP	O
=	VBD	O
2	CD	O
;list	NN	O
(	(	O
		
$a	UH	O
,	,	O
$b	NNP	O
)	)	O
=	VBP	O
hook(	NN	B-API
'	''	I-API
a_b	NN	I-API
'	''	I-API
,	,	I-API
$a	NNP	I-API
		
,	,	I-API
$b	NNP	I-API
)	)	L-API
;	:	O
$str	CC	O
=	VB	O
"This	NN	O
is	VBZ	O
my	PRP$	O
sample	JJ	O
application	NN	O
		
\n	NNP	O
"	NNP	O
;	:	O
$str	NNP	O
.	.	O
=	VB	O
"	JJ	O
$a	NNP	O
+	NNP	O
$b	NNP	O
=	NNP	O
		
"	NNP	O
.(	NNP	O
$a	NNP	O
+	NNP	O
$b	NNP	O
)	)	O
.	.	O
"	JJ	O
\n	JJ	O
"	NN	O
;	:	O
		
$str	NNP	O
.	.	O
=	VB	O
"	JJ	O
$a	NNP	O
*	NNP	O
$b	NNP	O
=	NNP	O
"	NNP	O
.(	NNP	O
$a	NNP	O
		
*	NNP	O
$b	NNP	O
)	)	O
.	.	O
"	JJ	O
\n	JJ	O
"	NN	O
;	:	O
$str	CC	O
=	VB	O
hook(	NN	B-API
		
'	''	I-API
str	NN	I-API
'	''	I-API
,	,	I-API
$str	NNP	I-API
)	)	L-API
;echo	VBP	O
$str	NN	O
;	:	O
?	.	O
>	FW	O
		
Output	NN	O
:	:	O
This	DT	O
is	VBZ	O
my	PRP$	O
CRAZY	JJ	O
application4	NN	O
+	VBD	O
5	CD	O
=	JJ	O
94	CD	O
		
*	JJ	O
5	CD	O
=	JJ	O
20	CD	O
Notes	NNS	O
:	:	O
For	IN	O
this	DT	O
example	NN	O
source	NN	O
code	NN	O
		
,	,	O
you	PRP	O
must	MD	O
declare	VB	O
all	DT	O
your	PRP$	O
plugins	NNS	O
before	IN	O
the	DT	O
actual	JJ	O
source	NN	O
		
code	NN	O
that	IN	O
you	PRP	O
want	VBP	O
to	TO	O
be	VB	O
extendable	JJ	O
.	.	O
I've	NNP	O
included	VBD	O
an	DT	O
		
example	NN	O
of	IN	O
how	WRB	O
to	TO	O
handle	VB	O
single	JJ	O
or	CC	O
multiple	JJ	O
values	NNS	O
being	VBG	O
passed	VBN	O
		
to	TO	O
the	DT	O
plugin	NN	O
.	.	O
The	DT	O
hardest	JJS	O
part	NN	O
of	IN	O
this	DT	O
is	VBZ	O
writing	VBG	O
		
the	DT	O
actual	JJ	O
documentation	NN	O
which	WDT	O
lists	VBZ	O
what	WP	O
arguments	VBZ	O
get	VB	O
passed	VBN	O
to	TO	O
each	DT	O
		
hook	NN	O
.	.	O
This	DT	O
is	VBZ	O
just	RB	O
one	CD	O
method	NN	O
of	IN	O
accomplishing	VBG	O
a	DT	O
plugin	NN	O
		
system	NN	O
in	IN	O
PHP	NNP	O
.	.	O
There	EX	O
are	VBP	O
better	JJR	O
alternatives	NNS	O
,	,	O
I	PRP	O
suggest	VBP	O
		
you	PRP	O
check	VB	O
out	RP	O
the	DT	O
WordPress	NNP	O
Documentation	NNP	O
for	IN	O
more	JJR	O
information	NN	O
.	.	O
Sorry	NNP	O
		
,	,	O
it	PRP	O
appears	VBZ	O
underscore	JJ	O
characters	NNS	O
are	VBP	O
replaced	VBN	O
by	IN	O
HTML	NNP	O
entities	NNS	O
by	IN	O
		
Markdown	NNP	O
?	.	O
I	PRP	O
can	MD	O
re-post	VB	O
this	DT	O
code	NN	O
when	WRB	O
this	DT	O
bug	NN	O
gets	VBZ	O
		
fixed	VBN	O
.	.	O
Edit	NN	O
:	:	O
Nevermind	NN	O
,	,	O
it	PRP	O
only	RB	O
appears	VBZ	O
that	IN	O
way	NN	O
		
when	WRB	O
you	PRP	O
are	VBP	O
editing	VBG	O
I've	NNP	O
written	VBN	O
a	DT	O
database	NN	O
generation	NN	O
script	NN	O
in	IN	O
		
SQL	NNP	O
and	CC	O
want	VBP	O
to	TO	O
execute	VB	O
it	PRP	O
in	IN	O
my	PRP$	O
Adobe	NNP	O
AIR	NNP	O
application	NN	O
		
:	:	O
Create	NNP	O
Table	NNP	O
tRole	NN	O
(	(	O
roleID	JJ	O
integer	NN	O
Primary	NNP	O
Key	NNP	O
,	,	O
roleName	NN	O
		
varchar(	RB	B-API
40	CD	I-API
)	)	L-API
)	)	O
;	:	O
Create	NNP	O
Table	NNP	O
tFile	NN	O
(	(	O
fileID	JJ	O
integer	NN	O
		
Primary	NNP	O
Key	NNP	O
,	,	O
fileName	NN	O
varchar(	RB	B-API
50	CD	I-API
)	)	L-API
,	,	O
fileDescription	NN	O
varchar(	FW	B-API
500	CD	I-API
		
)	)	L-API
,	,	O
thumbnailID	JJ	O
integer	NN	O
,	,	O
fileFormatID	JJ	O
integer	NN	O
,	,	O
categoryID	NN	O
integer	NN	O
,	,	O
		
isFavorite	JJ	O
boolean	NN	O
,	,	O
dateAdded	VBD	O
date	NN	O
,	,	O
globalAccessCount	NN	O
integer	NN	O
,	,	O
lastAccessTime	JJ	O
date	NN	O
		
,	,	O
downloadComplete	JJ	O
boolean	NN	O
,	,	O
isNew	JJ	O
boolean	NN	O
,	,	O
isSpotlight	JJ	O
boolean	NN	O
,	,	O
duration	NN	O
		
varchar(	FW	B-API
30	CD	I-API
)	)	L-API
)	)	O
;	:	O
Create	NNP	O
Table	NNP	O
tCategory	NN	O
(	(	O
categoryID	JJ	O
integer	NN	O
		
Primary	NNP	O
Key	NNP	O
,	,	O
categoryName	NN	O
varchar(	RB	B-API
50	CD	I-API
)	)	L-API
,	,	O
parent_categoryID	RB	O
integer	NN	O
)	)	O
		
;	:	O
...	:	O
I	PRP	O
execute	VBP	O
this	DT	O
in	IN	O
Adobe	NNP	O
AIR	NNP	O
using	VBG	O
the	DT	O
following	JJ	O
		
methods	NNS	O
:	:	O
public	JJ	O
static	JJ	U-API
function	NN	O
RunSqlFromFile(	NNP	B-API
fileName	NN	I-API
:String	VBG	I-API
)	)	L-API
:void	FW	O
{	(	O
		
var	NN	O
file	NN	O
:File	NNP	O
=	NNP	O
File.applicationDirectory.resolvePath(	NNP	B-API
fileName	NN	I-API
)	)	L-API
;	:	O
var	JJ	O
stream	NN	O
:FileStream	NN	O
		
=	NNP	O
new	JJ	O
FileStream()	NNP	U-API
;	:	O
stream.open(	NN	B-API
file	NN	I-API
,	,	I-API
FileMode	NNP	I-API
.	.	I-API
READ	NNP	I-API
)	)	L-API
		
var	FW	O
strSql	JJ	O
:String	VBG	O
=	JJ	O
stream.readUTFBytes(	JJ	B-API
stream	NN	I-API
.	.	I-API
bytesAvailable	JJ	I-API
)	)	L-API
;	:	O
NonQuery(	NNP	B-API
		
strSql	NN	I-API
)	)	L-API
;	:	O
}	)	O
public	JJ	O
static	JJ	U-API
function	NN	O
NonQuery(	NNP	B-API
strSQL	NN	I-API
:String	VBG	I-API
)	)	L-API
		
:void	FW	O
{	(	O
var	JJ	O
sqlConnection	NN	O
:SQLConnection	NN	O
=	NNP	O
new	JJ	O
SQLConnection()	NNP	U-API
;	:	O
sqlConnection.open(	JJ	B-API
File.applicationStorageDirectory.resolvePath(	NNP	I-API
		
DBPATH	NNP	I-API
)	)	L-API
;	:	O
var	FW	O
sqlStatement	JJ	O
:SQLStatement	NN	O
=	NNP	O
new	JJ	O
SQLStatement()	NNP	U-API
;	:	O
sqlStatement	NN	O
		
.	.	O
text	JJ	O
=	JJ	O
strSQL	NN	O
;	:	O
sqlStatement	NN	O
.	.	O
sqlConnection	NN	O
=	JJ	O
sqlConnection	NN	O
;	:	O
		
try	VB	O
{	(	O
sqlStatement.execute()	NN	U-API
;	:	O
}	)	O
catch	NN	O
(	(	O
error	JJ	O
:SQLError	NN	O
)	)	O
{	(	O
		
Alert.show(	NNP	B-API
error.toString()	NN	I-API
)	)	L-API
;	:	O
}	)	O
}	)	O
No	DT	O
errors	NNS	O
are	VBP	O
generated	VBN	O
,	,	O
		
however	RB	O
only	RB	O
tRole	JJ	O
exists	NNS	O
.	.	O
It	PRP	O
seems	VBZ	O
that	IN	O
it	PRP	O
only	RB	O
looks	VBZ	O
		
at	IN	O
the	DT	O
first	JJ	O
query	NN	O
(	(	O
up	IN	O
to	TO	O
the	DT	O
semicolon	NN	O
-	:	O
if	IN	O
		
I	PRP	O
remove	VBP	O
it	PRP	O
,	,	O
the	DT	O
query	NN	O
fails	VBZ	O
)	)	O
.	.	O
Is	VBZ	O
there	EX	O
		
a	DT	O
way	NN	O
to	TO	O
call	VB	O
multiple	JJ	O
queries	NNS	O
in	IN	O
one	CD	O
statement	NN	O
?	.	O
One	CD	O
		
framework	NN	O
I'm	NNP	O
considering	VBG	O
would	MD	O
be	VB	O
for	IN	O
a	DT	O
blogging	NN	O
platform	NN	O
.	.	O
Since	IN	O
		
just	RB	O
about	IN	O
any	DT	O
possible	JJ	O
view	NN	O
of	IN	O
data	NNS	O
you	PRP	O
would	MD	O
want	VB	O
would	MD	O
		
be	VB	O
sorted	VBN	O
by	IN	O
date	NN	O
,	,	O
I	PRP	O
was	VBD	O
thinking	VBG	O
about	IN	O
this	DT	O
structure	NN	O
		
:	:	O
One	CD	O
directory	NN	O
per	IN	O
content	NN	O
node	NN	O
:	:	O
.	.	O
/content	JJ	O
/YYYYMMDDHHMMSS	JJ	O
/	NNP	O
		
Subdirectories	NNP	O
of	IN	O
each	DT	O
node	NN	O
including	VBG	O
/tags	JJ	O
/authors	NNS	O
/comments	NNS	O
As	RB	O
well	RB	O
as	IN	O
		
simple	JJ	O
text	NN	O
files	NNS	O
in	IN	O
the	DT	O
node	JJ	O
directory	NN	O
for	IN	O
pre	JJ	O
-	:	O
and	CC	O
		
post-rendered	JJ	O
content	NN	O
and	CC	O
the	DT	O
like	JJ	O
.	.	O
This	DT	O
would	MD	O
allow	VB	O
a	DT	O
simple	JJ	O
		
PHP	NNP	O
glob()	NN	U-API
call	NN	O
(	(	O
and	CC	O
probably	RB	O
a	DT	O
reversal	NN	O
of	IN	O
the	DT	O
result	NN	O
		
array	NN	O
)	)	O
to	TO	O
query	VB	O
on	IN	O
just	RB	O
about	IN	O
anything	NN	O
within	IN	O
the	DT	O
content	JJ	O
		
structure	NN	O
:	:	O
glob(	JJ	B-API
"content	NN	I-API
/	NNP	I-API
*	NNP	I-API
/tags	NNP	I-API
/funny	NNP	I-API
"	NNP	I-API
)	)	L-API
;	:	O
		
Would	MD	O
return	VB	O
paths	NNS	O
including	VBG	O
all	DT	O
articles	NNS	O
tagged	VBN	O
"funny	JJ	O
"	NN	O
.	.	O
So	IN	O
		
I	PRP	O
find	VBP	O
myself	PRP	O
porting	VBG	O
a	DT	O
game	NN	O
,	,	O
that	WDT	O
was	VBD	O
originally	RB	O
written	VBN	O
		
for	IN	O
the	DT	O
Win32	NNP	O
API	NNP	O
,	,	O
to	TO	O
Linux	NNP	O
(	(	O
well	RB	O
,	,	O
porting	VBG	O
		
the	DT	O
OS	NNP	O
X	NNP	O
port	NN	O
of	IN	O
the	DT	O
Win32	NNP	O
port	NN	O
to	TO	O
Linux	NNP	O
)	)	O
		
.	.	O
I	PRP	O
have	VBP	O
implemented	VBN	O
QueryPerformanceCounter	NNP	O
by	IN	O
giving	VBG	O
the	DT	O
uSeconds	NNS	O
since	IN	O
the	DT	O
		
process	NN	O
start	VB	O
up	IN	O
:	:	O
BOOL	NNP	O
QueryPerformanceCounter(	NNP	B-API
LARGE_INTEGER	NNP	I-API
*	NNP	I-API
performanceCount	NN	I-API
)	)	L-API
{	(	O
		
gettimeofday(	JJ	B-API
¤tTimeVal	NN	I-API
,	,	I-API
NULL	NNP	I-API
)	)	L-API
;	:	O
performanceCount	CC	O
-	:	O
>QuadPart	NN	O
=	NN	O
(	(	O
		
currentTimeVal	NN	O
.	.	O
tv_sec	SYM	O
-	:	O
startTimeVal	NN	O
.	.	O
tv_sec	NN	O
)	)	O
;	:	O
performanceCount	CC	O
-	:	O
		
>QuadPart	NN	O
*	NN	O
=	NNP	O
(	(	O
1000	CD	O
*	IN	O
1000	CD	O
)	)	O
;	:	O
performanceCount	CC	O
-	:	O
		
>QuadPart	NN	O
+	NN	O
=	NNP	O
(	(	O
currentTimeVal	NN	O
.	.	O
tv_usec	SYM	O
-	:	O
startTimeVal	NN	O
.	.	O
tv_usec	NN	O
		
)	)	O
;	:	O
return	VB	O
true	JJ	O
;	:	O
}	)	O
This	DT	O
,	,	O
coupled	VBN	O
with	IN	O
QueryPerformanceFrequency()	NNP	U-API
		
giving	VBG	O
a	DT	O
constant	JJ	O
1000000	CD	O
as	IN	O
the	DT	O
frequency	NN	O
,	,	O
works	VBZ	O
well	RB	O
on	IN	O
		
my	PRP$	O
machine	NN	O
,	,	O
giving	VBG	O
me	PRP	O
a	DT	O
64	CD	O
bit	NN	O
variable	JJ	O
that	IN	O
contains	VBZ	O
		
uSeconds	NNS	O
since	IN	O
the	DT	O
program's	NNS	O
start	VBP	O
up	RP	O
.	.	O
So	RB	O
is	VBZ	O
this	DT	O
portable	JJ	O
		
?	.	O
I	PRP	O
don't	VBP	O
want	VB	O
to	TO	O
discover	VB	O
it	PRP	O
works	VBZ	O
differently	RB	O
if	IN	O
the	DT	O
		
kernel	NN	O
was	VBD	O
compiled	VBN	O
in	IN	O
a	DT	O
certain	JJ	O
way	NN	O
or	CC	O
anything	NN	O
like	IN	O
that	DT	O
		
.	.	O
I	PRP	O
am	VBP	O
fine	JJ	O
with	IN	O
it	PRP	O
being	VBG	O
non-portable	JJ	O
to	TO	O
something	NN	O
other	JJ	O
		
than	IN	O
Linux	NNP	O
,	,	O
however	RB	O
.	.	O
One	CD	O
way	NN	O
to	TO	O
store	VB	O
flat-file	JJ	O
content	NN	O
		
would	MD	O
be	VB	O
to	TO	O
save	VB	O
literal	JJ	O
arrays	NNS	O
to	TO	O
php	VB	O
files	NNS	O
.	.	O
For	IN	O
		
example	NN	O
:	:	O
$data	NN	O
=	NNP	O
array()	NN	U-API
;	:	O
if(	CC	B-API
$_POST	NNP	I-API
)	)	L-API
{	(	O
$data	JJ	O
		
=	NN	O
$_POST	NN	O
;	:	O
$content	JJ	O
=	NNP	O
"	NNP	O
<	NNP	O
?php	NNP	O
\n	NNP	O
"	NNP	O
;	:	O
		
$content	NN	O
.	.	O
=	NN	O
'	''	O
$data	JJ	O
=	NNP	O
'	POS	O
.	.	O
var_export(	NN	B-API
$data	NN	I-API
,	,	I-API
		
true	JJ	I-API
)	)	L-API
.	.	O
"	JJ	O
\n	JJ	O
"	NN	O
;	:	O
$content	NN	O
.	.	O
=	VB	O
"	NN	O
		
?	.	O
>	JJ	O
"	NN	O
;	:	O
save_to_file(	CC	B-API
$filename	VB	I-API
,	,	I-API
$content	NN	I-API
)	)	L-API
;	:	O
}	)	O
		
/	FW	O
/	JJ	O
echo	JJ	O
form	NN	O
Maybe	NNP	O
.	.	O
But	CC	O
you	PRP	O
have	VBP	O
bigger	JJR	O
problems	NNS	O
		
.	.	O
gettimeofday()	NN	U-API
can	MD	O
result	VB	O
in	IN	O
incorrect	JJ	O
timings	NNS	O
if	IN	O
there	EX	O
are	VBP	O
processes	NNS	O
		
on	IN	O
your	PRP$	O
system	NN	O
that	WDT	O
change	VBP	O
the	DT	O
timer	NN	O
(	(	O
ie	JJ	O
,	,	O
ntpd	RB	O
		
)	)	O
.	.	O
On	IN	O
a	DT	O
"normal	JJ	O
"	NN	O
linux	NN	O
,	,	O
though	IN	O
,	,	O
I	PRP	O
		
believe	VBP	O
the	DT	O
resolution	NN	O
of	IN	O
gettimeofday()	NN	U-API
is	VBZ	O
10us	CD	O
.	.	O
It	PRP	O
can	MD	O
jump	VB	O
		
forward	RB	O
and	CC	O
backward	RB	O
and	CC	O
time	NN	O
,	,	O
consequently	RB	O
,	,	O
based	VBN	O
on	IN	O
the	DT	O
		
processes	NNS	O
running	VBG	O
on	IN	O
your	PRP$	O
system	NN	O
.	.	O
This	DT	O
effectively	RB	O
makes	VBZ	O
the	DT	O
answer	NN	O
		
to	TO	O
your	PRP$	O
question	NN	O
no	DT	O
.	.	O
You	PRP	O
should	MD	O
look	VB	O
into	IN	O
clock_gettime(	JJ	B-API
CLOCK_MONOTONIC	NNP	I-API
		
)	)	L-API
for	IN	O
timing	VBG	O
intervals	NNS	O
.	.	O
It	PRP	O
suffers	VBZ	O
from	IN	O
several	JJ	O
less	JJR	O
issues	NNS	O
		
due	JJ	O
to	TO	O
things	NNS	O
like	IN	O
multi-core	JJ	O
systems	NNS	O
and	CC	O
external	JJ	O
clock	NN	O
settings	NNS	O
.	.	O
		
Also	RB	O
,	,	O
look	VB	O
into	IN	O
the	DT	O
clock_getres()	NN	U-API
function	NN	O
.	.	O
The	DT	O
actual	JJ	O
resolution	NN	O
		
of	IN	O
gettimeofday()	NN	U-API
depends	NNS	O
on	IN	O
the	DT	O
hardware	NN	O
architecture	NN	O
.	.	O
Intel	NNP	O
processors	NNS	O
as	RB	O
		
well	RB	O
as	IN	O
SPARC	NNP	O
machines	NNS	O
offer	VBP	O
high	JJ	O
resolution	NN	O
timers	NNS	O
that	WDT	O
measure	NN	O
microseconds	VBZ	O
		
.	.	O
Other	JJ	O
hardware	NN	O
architectures	VBZ	O
fall	VBP	O
back	RB	O
to	TO	O
the	DT	O
system	NN	O
’s	JJ	O
timer	NN	O
		
,	,	O
which	WDT	O
is	VBZ	O
typically	RB	O
set	VBN	O
to	TO	O
100	CD	O
Hz	NNP	O
.	.	O
In	IN	O
such	JJ	O
		
cases	NNS	O
,	,	O
the	DT	O
time	NN	O
resolution	NN	O
will	MD	O
be	VB	O
less	JJR	O
accurate	JJ	O
.	.	O
I	PRP	O
		
obtained	VBD	O
this	DT	O
answer	NN	O
from	IN	O
High	NNP	O
Resolution	NNP	O
Time	NNP	O
Measurement	NNP	O
and	CC	O
Timers	NNP	O
,	,	O
		
Part	NNP	O
I	PRP	O
That's	NNP	O
true	JJ	O
.	.	O
serialize()	NN	U-API
can	MD	O
be	VB	O
pretty	RB	O
useful	JJ	O
for	IN	O
		
that	DT	O
as	RB	O
well	RB	O
.	.	O
I	PRP	O
think	VBP	O
the	DT	O
trick	NN	O
to	TO	O
coming	VBG	O
up	RP	O
		
with	IN	O
a	DT	O
viable	JJ	O
system	NN	O
is	VBZ	O
finding	VBG	O
some	DT	O
way	NN	O
to	TO	O
index	NN	O
the	DT	O
		
data	NN	O
nodes	NNS	O
without	IN	O
killing	VBG	O
yourself	PRP	O
with	IN	O
complexity	NN	O
.	.	O
Recently	RB	O
our	PRP$	O
site	NN	O
		
has	VBZ	O
been	VBN	O
deluged	VBN	O
with	IN	O
the	DT	O
resurgence	NN	O
of	IN	O
the	DT	O
Asprox	NNP	O
botnet	NN	O
SQL	NNP	O
		
injection	NN	O
attack	NN	O
.	.	O
Without	IN	O
going	VBG	O
into	IN	O
details	NNS	O
,	,	O
the	DT	O
attack	NN	O
attempts	VBZ	O
		
to	TO	O
execute	VB	O
SQL	NNP	O
code	NN	O
by	IN	O
encoding	VBG	O
the	DT	O
T-SQL	NNP	O
commands	NNS	O
in	IN	O
an	DT	O
		
ASCII	NNP	O
encoded	VBD	O
BINARY	NNP	O
string	NN	O
.	.	O
It	PRP	O
looks	VBZ	O
something	NN	O
like	IN	O
this	DT	O
:	:	O
		
DECLARE	NNP	O
%20	NNP	O
@S	NNP	O
%20NVARCHAR	NNP	O
(	(	O
4000	CD	O
)	)	O
;SET	FW	O
%20	FW	O
@S	FW	O
=CAST	NN	O
		
(	(	O
0x44004500	CD	O
...	:	O
06F007200	CD	O
%20AS	JJ	O
%20NVARCHAR	NN	O
(	(	O
4000	CD	O
)	)	O
)	)	O
;EXEC	FW	O
		
(	(	O
@S	NNP	O
)	)	O
;	:	O
--	:	O
I	PRP	O
was	VBD	O
able	JJ	O
to	TO	O
decode	VB	O
this	DT	O
		
in	IN	O
SQL	NNP	O
,	,	O
but	CC	O
I	PRP	O
was	VBD	O
a	DT	O
little	JJ	O
wary	NN	O
of	IN	O
doing	VBG	O
		
this	DT	O
since	IN	O
I	PRP	O
didn't	VBP	O
know	VB	O
exactly	RB	O
what	WP	O
was	VBD	O
happening	VBG	O
at	IN	O
the	DT	O
		
time	NN	O
.	.	O
I	PRP	O
tried	VBD	O
to	TO	O
write	VB	O
a	DT	O
simple	JJ	O
decode	NN	O
tool	NN	O
,	,	O
		
so	IN	O
I	PRP	O
could	MD	O
decode	VB	O
this	DT	O
type	NN	O
of	IN	O
text	NN	O
without	IN	O
even	RB	O
touching	VBG	O
		
SQL	NNP	O
Server	NNP	O
.	.	O
The	DT	O
main	JJ	O
part	NN	O
I	PRP	O
need	VBP	O
decoded	VBN	O
is	VBZ	O
:	:	O
		
CAST(	JJ	B-API
0x44004500	CD	I-API
...	:	I-API
06F007200	CD	I-API
AS	IN	I-API
NVARCHAR(	NNP	I-API
4000	CD	I-API
)	)	L-API
)	)	O
I've	NNP	O
tried	VBD	O
		
all	DT	O
of	IN	O
the	DT	O
following	JJ	O
commands	NNS	O
with	IN	O
no	DT	O
luck	NN	O
:	:	O
txtDecodedText	NN	O
.	.	O
		
Text	NNP	O
=	NNP	O
System.Web.HttpUtility.UrlDecode(	NNP	B-API
txtURLText	NN	I-API
.	.	I-API
Text	NNP	I-API
)	)	L-API
;	:	O
txtDecodedText	NN	O
.	.	O
Text	NNP	O
		
=	NNP	O
Encoding.ASCII.GetString(	NNP	B-API
Encoding.ASCII.GetBytes(	NNP	I-API
txtURLText	NN	I-API
.	.	I-API
Text	NNP	I-API
)	)	L-API
)	)	O
;	:	O
txtDecodedText	NN	O
.	.	O
		
Text	NNP	O
=	NNP	O
Encoding.Unicode.GetString(	NNP	B-API
Encoding.Unicode.GetBytes(	NNP	I-API
txtURLText	NN	I-API
.	.	I-API
Text	NNP	I-API
)	)	L-API
)	)	O
;	:	O
txtDecodedText	NN	O
		
.	.	O
Text	NNP	O
=	NNP	O
Encoding.ASCII.GetString(	NNP	B-API
Encoding.Unicode.GetBytes(	NNP	I-API
txtURLText	NN	I-API
.	.	I-API
Text	NNP	I-API
)	)	L-API
)	)	O
;	:	O
		
txtDecodedText	NN	O
.	.	O
Text	NNP	O
=	NNP	O
Encoding.Unicode.GetString(	NNP	B-API
Convert.FromBase64String(	NNP	I-API
txtURLText	NN	I-API
.	.	I-API
Text	NNP	I-API
)	)	L-API
)	)	O
		
;	:	O
What	WP	O
is	VBZ	O
the	DT	O
proper	JJ	O
way	NN	O
to	TO	O
translate	VB	O
this	DT	O
encoding	VBG	O
without	IN	O
		
using	VBG	O
SQL	NNP	O
Server	NNP	O
?	.	O
Is	VBZ	O
it	PRP	O
possible	JJ	O
?	.	O
I'll	NNP	O
take	VB	O
VB	NNP	O
		
.	.	O
NET	NNP	O
code	NN	O
since	IN	O
I'm	NNP	O
familiar	JJ	O
with	IN	O
that	DT	O
too	RB	O
.	.	O
Okay	NNP	O
		
,	,	O
I'm	NNP	O
sure	JJ	O
I'm	NNP	O
missing	VBG	O
something	NN	O
here	RB	O
,	,	O
so	RB	O
here's	JJ	O
where	WRB	O
		
I'm	NNP	O
at	IN	O
.	.	O
Since	IN	O
my	PRP$	O
input	NN	O
is	VBZ	O
a	DT	O
basic	JJ	O
string	NN	O
,	,	O
		
I	PRP	O
started	VBD	O
with	IN	O
just	RB	O
a	DT	O
snippet	NN	O
of	IN	O
the	DT	O
encoded	JJ	O
portion	NN	O
-	:	O
		
4445434C41	CD	O
(	(	O
which	WDT	O
translates	VBZ	O
to	TO	O
DECLA	NNP	O
)	)	O
-	:	O
and	CC	O
the	DT	O
first	JJ	O
		
attempt	NN	O
was	VBD	O
to	TO	O
do	VB	O
this	DT	O
...	:	O
txtDecodedText	NN	O
.	.	O
Text	NNP	O
=	NNP	O
Encoding.UTF8.GetString(	NNP	B-API
		
Encoding.UTF8.GetBytes(	NNP	I-API
txtURL	NN	I-API
.	.	I-API
Text	NNP	I-API
)	)	L-API
)	)	O
;	:	O
...	:	O
and	CC	O
all	DT	O
it	PRP	O
		
did	VBD	O
was	VBD	O
return	VB	O
the	DT	O
exact	JJ	O
same	JJ	O
thing	NN	O
that	IN	O
I	PRP	O
put	VBP	O
in	IN	O
		
,	,	O
since	IN	O
it	PRP	O
converted	VBD	O
each	DT	O
character	NN	O
into	IN	O
is	VBZ	O
byte	JJ	O
.	.	O
I	PRP	O
		
realized	VBD	O
that	IN	O
I	PRP	O
need	VBP	O
to	TO	O
parse	VB	O
each	DT	O
two	CD	O
characters	NNS	O
into	IN	O
a	DT	O
		
byte	NN	O
manually	RB	O
since	IN	O
I	PRP	O
don't	VBP	O
know	VB	O
of	IN	O
any	DT	O
methods	NNS	O
yet	CC	O
that	DT	O
		
will	MD	O
do	VB	O
that	DT	O
,	,	O
so	RB	O
now	RB	O
my	PRP$	O
little	JJ	O
decoder	NN	O
looks	VBZ	O
something	NN	O
		
like	IN	O
this	DT	O
:	:	O
while	NN	O
(	(	O
!boolIsDone	CD	O
)	)	O
{	(	O
bytURLChar	JJ	O
=	NNP	O
byte.Parse(	NN	B-API
		
txtURLText.Text.Substring(	NN	I-API
intParseIndex	NN	I-API
,	,	I-API
2	CD	I-API
)	)	L-API
)	)	O
;	:	O
bytURL	CC	O
[intURLIndex	VB	O
]	NNP	O
=	NNP	O
		
bytURLChar	NN	O
;	:	O
intParseIndex	NN	O
+	VBD	O
=	JJ	O
2	CD	O
;	:	O
intURLIndex	NN	O
+	NNP	O
+	NNP	O
;	:	O
		
if	IN	O
(	(	O
txtURLText	NN	O
.	.	O
Text	NNP	O
.	.	O
Length	NNP	O
-	:	O
intParseIndex	NN	O
<	$	O
2	CD	O
		
)	)	O
{	(	O
boolIsDone	NN	O
=	NNP	O
true	JJ	O
;	:	O
}	)	O
}	)	O
txtDecodedText	JJ	O
.	.	O
Text	NNP	O
		
=	NNP	O
Encoding.UTF8.GetString(	NNP	B-API
bytURL	NN	I-API
)	)	L-API
;	:	O
Things	NNS	O
look	VBP	O
good	JJ	O
for	IN	O
the	DT	O
first	JJ	O
		
couple	NN	O
of	IN	O
pairs	NNS	O
,	,	O
but	CC	O
then	RB	O
the	DT	O
loop	NN	O
balks	NNS	O
when	WRB	O
it	PRP	O
		
gets	VBZ	O
to	TO	O
the	DT	O
"4C	NNP	O
"	NNP	O
pair	NN	O
and	CC	O
says	VBZ	O
that	IN	O
the	DT	O
string	NN	O
		
is	VBZ	O
in	IN	O
the	DT	O
incorrect	JJ	O
format	NN	O
.	.	O
Interestingly	NNP	O
enough	RB	O
,	,	O
when	WRB	O
I	PRP	O
		
step	VBP	O
through	IN	O
the	DT	O
debugger	NN	O
and	CC	O
to	TO	O
the	DT	O
GetString	NNP	O
method	NN	O
on	IN	O
the	DT	O
		
byte	NN	O
array	NN	O
that	IN	O
I	PRP	O
was	VBD	O
able	JJ	O
to	TO	O
parse	VB	O
up	RP	O
to	TO	O
that	DT	O
		
point	NN	O
,	,	O
I	PRP	O
get	VBP	O
"	JJ	O
,	,	O
-	:	O
+	NN	O
"	NN	O
as	IN	O
the	DT	O
		
result	NN	O
.	.	O
How	WRB	O
do	VBP	O
I	PRP	O
figure	VB	O
out	RP	O
what	WP	O
I'm	NNP	O
missing	VBG	O
-	:	O
		
do	NN	O
I	PRP	O
need	VBP	O
to	TO	O
do	VB	O
a	DT	O
"direct	NN	O
cast	NN	O
"	NN	O
for	IN	O
each	DT	O
		
byte	NN	O
instead	RB	O
of	IN	O
attempting	VBG	O
to	TO	O
parse	VB	O
it	PRP	O
?	.	O
I	PRP	O
wound	VBD	O
up	RP	O
		
using	VBG	O
this	DT	O
.	.	O
It	PRP	O
is	VBZ	O
a	DT	O
kind	NN	O
of	IN	O
a	DT	O
hack	NN	O
,	,	O
		
but	CC	O
it	PRP	O
actually	RB	O
works	VBZ	O
pretty	RB	O
well	RB	O
.	.	O
The	DT	O
only	JJ	O
thing	NN	O
is	VBZ	O
		
you	PRP	O
have	VBP	O
to	TO	O
be	VB	O
very	RB	O
careful	JJ	O
with	IN	O
your	PRP$	O
semicolons	NNS	O
.	.	O
:	:	O
		
D	NNP	O
var	FW	O
strSql	NN	O
:String	VBG	O
=	NNP	O
stream.readUTFBytes(	NN	B-API
stream	NN	I-API
.	.	I-API
bytesAvailable	JJ	I-API
)	)	L-API
;	:	O
		
var	NN	O
i	VBZ	O
:Number	NNP	O
=	NNP	O
0	CD	O
;	:	O
var	NN	O
strSqlSplit	NN	O
:Array	NNP	O
=	NNP	O
strSql.split(	NN	B-API
		
"	NN	I-API
;	:	I-API
"	NNP	I-API
)	)	L-API
;	:	O
for	IN	O
(	(	O
i	JJ	O
=	VBP	O
0	CD	O
;	:	O
		
i	JJ	O
<	VBP	O
strSqlSplit	NN	O
.	.	O
length	NN	O
;	:	O
i	CC	O
+	VBP	O
+	NNP	O
)	)	O
{	(	O
		
NonQuery(	NNP	B-API
strSqlSplit	VBD	I-API
[i	NNP	I-API
]	NNP	I-API
.	.	I-API
toString()	NN	I-API
)	)	L-API
;	:	O
}	)	O
What	WP	O
is	VBZ	O
		
the	DT	O
"purist	JJ	O
"	NN	O
or	CC	O
"correct	JJ	O
"	JJ	O
way	NN	O
to	TO	O
access	NN	O
an	DT	O
object's	NN	O
		
properties	NNS	O
from	IN	O
within	IN	O
an	DT	O
object	JJ	O
method	NN	O
that	WDT	O
is	VBZ	O
not	RB	O
a	DT	O
getter	NN	O
		
/setter	NN	O
method	NN	O
?	.	O
I	PRP	O
know	VBP	O
that	IN	O
from	IN	O
outside	IN	O
of	IN	O
the	DT	O
object	NN	O
		
you	PRP	O
should	MD	O
use	VB	O
a	DT	O
getter	NN	O
/setter	NN	O
,	,	O
but	CC	O
from	IN	O
within	IN	O
would	MD	O
		
you	PRP	O
just	RB	O
do	VBP	O
:	:	O
Java	NN	O
:	:	O
String	NNP	O
property	NN	O
=	NN	O
this	DT	O
.	.	O
		
property	NN	O
;	:	O
PHP	NNP	O
:	:	O
$property	NN	O
=	NN	O
$this	NNP	O
-	:	O
>property	NN	O
;	:	O
or	CC	O
		
would	MD	O
you	PRP	O
do	VB	O
:	:	O
Java	VB	O
:	:	O
String	NNP	O
property	NN	O
=	NNP	O
this.getProperty()	NN	U-API
;	:	O
		
PHP	NNP	O
:	:	O
$property	NN	O
=	NN	O
$this	NNP	O
-	:	O
>getProperty	NN	O
(	(	O
)	)	O
;	:	O
Forgive	CD	O
		
me	PRP	O
if	IN	O
my	PRP$	O
Java	NNP	O
is	VBZ	O
a	DT	O
little	JJ	O
off	RP	O
,	,	O
it's	RB	O
been	VBN	O
		
a	DT	O
year	NN	O
since	IN	O
I	PRP	O
programmed	VBD	O
in	IN	O
Java	NNP	O
...	:	O
EDIT	NN	O
:	:	O
It	PRP	O
		
seems	VBZ	O
people	NNS	O
are	VBP	O
assuming	VBG	O
I	PRP	O
am	VBP	O
talking	VBG	O
about	IN	O
private	JJ	O
or	CC	O
protected	JJ	O
		
variables	NNS	O
/properties	VBZ	O
only	RB	O
.	.	O
When	WRB	O
I	PRP	O
learned	VBD	O
OO	NNP	O
I	PRP	O
was	VBD	O
taught	VBN	O
		
to	TO	O
use	VB	O
getters	NNS	O
/setters	NNS	O
for	IN	O
every	DT	O
single	JJ	O
property	NN	O
even	RB	O
if	IN	O
it	PRP	O
		
was	VBD	O
public	JJ	O
(	(	O
and	CC	O
actually	RB	O
I	PRP	O
was	VBD	O
told	VBN	O
never	RB	O
to	TO	O
make	VB	O
		
any	DT	O
variable	JJ	O
/property	JJ	O
public	NN	O
)	)	O
.	.	O
So	RB	O
,	,	O
I	PRP	O
may	MD	O
be	VB	O
		
starting	VBG	O
off	RP	O
from	IN	O
a	DT	O
false	JJ	O
assumption	NN	O
from	IN	O
the	DT	O
get	NN	O
go	VBP	O
.	.	O
		
It	PRP	O
appears	VBZ	O
that	IN	O
people	NNS	O
answering	VBG	O
this	DT	O
question	NN	O
are	VBP	O
maybe	RB	O
saying	VBG	O
that	IN	O
		
you	PRP	O
should	MD	O
have	VB	O
public	JJ	O
properties	NNS	O
and	CC	O
that	IN	O
those	DT	O
don't	NNS	O
need	VBP	O
getters	NNS	O
		
and	CC	O
setters	NNS	O
,	,	O
which	WDT	O
goes	VBZ	O
against	IN	O
what	WP	O
I	PRP	O
was	VBD	O
taught	VBN	O
,	,	O
		
and	CC	O
what	WP	O
I	PRP	O
was	VBD	O
talking	VBG	O
about	RB	O
,	,	O
although	IN	O
maybe	RB	O
that	DT	O
needs	VBZ	O
		
to	TO	O
be	VB	O
discussed	VBN	O
as	RB	O
well	RB	O
.	.	O
That's	NNP	O
probably	RB	O
a	DT	O
good	JJ	O
topic	NN	O
		
for	IN	O
a	DT	O
different	JJ	O
question	NN	O
though	IN	O
...	:	O
This	DT	O
may	MD	O
be	VB	O
too	RB	O
basic	JJ	O
		
or	CC	O
limited	VBN	O
of	IN	O
a	DT	O
solution	NN	O
,	,	O
but	CC	O
couldn't	NN	O
you	PRP	O
do	VBP	O
a	DT	O
		
String.split()	NNP	U-API
on	IN	O
each	DT	O
line	NN	O
of	IN	O
the	DT	O
file	NN	O
,	,	O
remembering	VBG	O
the	DT	O
result	NN	O
		
array	NN	O
of	IN	O
the	DT	O
first	JJ	O
line	NN	O
to	TO	O
generate	VB	O
the	DT	O
XML	NNP	O
,	,	O
and	CC	O
		
just	RB	O
spit	VB	O
each	DT	O
line's	NN	O
array	NN	O
data	NNS	O
out	RP	O
with	IN	O
the	DT	O
proper	JJ	O
XML	NNP	O
		
elements	NNS	O
padding	VBG	O
each	DT	O
iteration	NN	O
of	IN	O
a	DT	O
loop	NN	O
?	.	O
I	PRP	O
have	VBP	O
a	DT	O
		
pretty	JJ	O
standard	NN	O
table	JJ	O
set-up	NN	O
in	IN	O
a	DT	O
current	JJ	O
application	NN	O
using	VBG	O
the	DT	O
.	.	O
		
NET	JJ	O
XSD	NN	O
DataSet	NNP	O
and	CC	O
TableAdapter	NNP	O
features	NNS	O
.	.	O
My	PRP$	O
contracts	NNS	O
table	JJ	O
consists	NNS	O
		
of	IN	O
some	DT	O
standard	JJ	O
contract	NN	O
information	NN	O
,	,	O
with	IN	O
a	DT	O
column	NN	O
for	IN	O
the	DT	O
		
primary	JJ	O
department	NN	O
.	.	O
This	DT	O
column	NN	O
is	VBZ	O
a	DT	O
foreign	JJ	O
key	NN	O
to	TO	O
my	PRP$	O
		
Departments	NNS	O
table	NN	O
,	,	O
where	WRB	O
I	PRP	O
store	VBP	O
the	DT	O
basic	JJ	O
department	NN	O
name	NN	O
,	,	O
		
id	NN	O
,	,	O
notes	NNS	O
.	.	O
This	DT	O
is	VBZ	O
all	DT	O
setup	NN	O
and	CC	O
functioning	NN	O
in	IN	O
		
my	PRP$	O
SQL	NNP	O
Server	NNP	O
.	.	O
When	WRB	O
I	PRP	O
use	VBP	O
the	DT	O
XSD	NNP	O
tool	NN	O
,	,	O
		
I	PRP	O
can	MD	O
drag	VB	O
both	DT	O
tables	NNS	O
in	IN	O
at	IN	O
once	RB	O
and	CC	O
it	PRP	O
auto	NN	O
		
detects	VBZ	O
/creates	VBZ	O
the	DT	O
foreign	JJ	O
key	NN	O
I	PRP	O
have	VBP	O
between	IN	O
these	DT	O
two	CD	O
tables	NNS	O
		
.	.	O
This	DT	O
works	VBZ	O
great	JJ	O
when	WRB	O
I'm	NNP	O
on	IN	O
my	PRP$	O
main	JJ	O
page	NN	O
and	CC	O
		
am	VBP	O
viewing	VBG	O
contract	NN	O
data	NNS	O
.	.	O
However	RB	O
,	,	O
when	WRB	O
I	PRP	O
go	VBP	O
to	TO	O
		
my	PRP$	O
administrative	JJ	O
page	NN	O
to	TO	O
modify	VB	O
the	DT	O
department	NN	O
data	NN	O
.	.	O
I	PRP	O
typically	RB	O
		
do	VBP	O
something	NN	O
like	IN	O
this	DT	O
:	:	O
Dim	NNP	O
dtDepartment	NN	O
As	IN	O
New	NNP	O
DepartmentDataTable()	NNP	U-API
Dim	NNP	O
		
taDepartment	NN	O
As	IN	O
New	NNP	O
DepartmentTableAdapter()	NNP	U-API
taDepartment.Fill(	NNP	B-API
dtDepartment	NN	I-API
)	)	L-API
However	RB	O
,	,	O
at	IN	O
this	DT	O
		
point	NN	O
an	DT	O
exception	NN	O
is	VBZ	O
thrown	JJ	O
saying	VBG	O
to	TO	O
the	DT	O
effect	NN	O
that	IN	O
there	EX	O
		
is	VBZ	O
a	DT	O
foreign	JJ	O
key	JJ	O
reference	NN	O
broken	VBN	O
here	RB	O
,	,	O
I'm	NNP	O
guessing	VBG	O
since	IN	O
		
I	PRP	O
don't	VBP	O
have	VB	O
the	DT	O
Contract	NNP	O
DataTable	NNP	O
filled	VBN	O
.	.	O
How	WRB	O
can	MD	O
I	PRP	O
		
fix	VB	O
this	DT	O
problem	NN	O
?	.	O
I	PRP	O
know	VBP	O
I	PRP	O
can	MD	O
simply	RB	O
remove	VB	O
the	DT	O
		
foreign	JJ	O
key	NN	O
from	IN	O
the	DT	O
XSD	NN	O
to	TO	O
make	VB	O
things	NNS	O
work	VB	O
fine	JJ	O
,	,	O
		
but	CC	O
having	VBG	O
the	DT	O
additional	JJ	O
integrity	NN	O
check	NN	O
there	RB	O
and	CC	O
having	VBG	O
the	DT	O
XSD	NNP	O
		
schema	NN	O
match	NN	O
the	DT	O
SQL	NNP	O
schema	NN	O
in	IN	O
the	DT	O
database	NN	O
is	VBZ	O
nice	JJ	O
.	.	O
		
Am	VBP	O
I	PRP	O
just	RB	O
going	VBG	O
overboard	RB	O
here	RB	O
?	.	O
Perhaps	RB	O
;	:	O
)	)	O
Another	DT	O
		
approach	NN	O
would	MD	O
be	VB	O
to	TO	O
utilize	VB	O
a	DT	O
private	JJ	O
/protected	VBN	O
method	NN	O
to	TO	O
actually	RB	O
		
do	VB	O
the	DT	O
getting	VBG	O
(	(	O
caching	VBG	O
/db	NNP	O
/etc	NNP	O
)	)	O
,	,	O
and	CC	O
a	DT	O
		
public	JJ	O
wrapper	NN	O
for	IN	O
it	PRP	O
that	WDT	O
increments	VBZ	O
the	DT	O
count	NN	O
:	:	O
PHP	NN	O
:	:	O
		
public	JJ	U-API
function	NN	O
getName()	NN	U-API
{	(	O
$this	JJ	O
-	:	O
>incrementNameCalled	VBN	O
(	(	O
)	)	O
;	:	O
return	VB	O
		
$this	SYM	O
-	:	O
>_getName	NN	O
(	(	O
)	)	O
;	:	O
}protected	VBN	U-API
function	NN	O
_getName()	NNP	U-API
{	(	O
return	VB	O
		
$this	SYM	O
-	:	O
>name	NN	O
;	:	O
}	)	O
and	CC	O
then	RB	O
from	IN	O
within	IN	O
the	DT	O
object	JJ	O
		
itself	PRP	O
:	:	O
PHP	NN	O
:	:	O
$name	NN	O
=	VBZ	O
$this	SYM	O
-	:	O
>_getName	NN	O
(	(	O
)	)	O
		
;	:	O
This	DT	O
way	NN	O
you	PRP	O
can	MD	O
still	RB	O
use	VB	O
that	IN	O
first	JJ	O
argument	NN	O
for	IN	O
		
something	NN	O
else	RB	O
(	(	O
like	IN	O
sending	VBG	O
a	DT	O
flag	NN	O
for	IN	O
whether	IN	O
or	CC	O
not	RB	O
		
to	TO	O
used	VBN	O
cached	VBN	O
data	NNS	O
here	RB	O
perhaps	RB	O
)	)	O
.	.	O
The	DT	O
funny	JJ	O
thing	NN	O
		
is	VBZ	O
i	JJ	O
wrote	VBD	O
a	DT	O
php	JJ	O
media	NNS	O
gallery	NN	O
for	IN	O
all	DT	O
my	PRP$	O
music	NN	O
		
2	CD	O
days	NNS	O
ago	RB	O
.	.	O
I	PRP	O
had	VBD	O
a	DT	O
similar	JJ	O
problem	NN	O
.	.	O
Im	NNP	O
		
using	VBG	O
http	NN	O
:	:	O
/	JJ	O
/musicplayer	NN	O
.	.	O
sourceforge	NN	O
.	.	O
net	JJ	O
/	NN	O
for	IN	O
		
the	DT	O
player	NN	O
.	.	O
and	CC	O
the	DT	O
playlis	NN	O
are	VBP	O
built	VBN	O
via	IN	O
php	NN	O
.	.	O
		
all	DT	O
music	NN	O
request	NN	O
go	VBP	O
there	RB	O
a	DT	O
script	NN	O
called	VBN	O
xfer	NN	O
.	.	O
php	NN	O
		
?file	IN	O
=WHATEVER	JJ	O
$filename	NN	O
=	NNP	O
base64_url_decode(	NN	B-API
$_REQUEST	NNP	I-API
[	NNP	I-API
'	POS	I-API
file	NN	I-API
'	''	I-API
]	NN	I-API
		
)	)	L-API
;	:	O
header(	PRP$	B-API
"Cache	NNP	I-API
-	:	I-API
Control	NN	I-API
:	:	I-API
public	JJ	I-API
"	NNP	I-API
)	)	L-API
;	:	O
		
header(	PRP$	B-API
"Content	JJ	I-API
-	:	I-API
Description	NN	I-API
:	:	I-API
File	NNP	I-API
Transfer	NNP	I-API
"	NNP	I-API
)	)	L-API
;	:	O
header(	VBN	B-API
		
'	POS	I-API
Content-disposition	NN	I-API
:	:	I-API
attachment	NN	I-API
;	:	I-API
filename	JJ	I-API
=	NNP	I-API
'	POS	I-API
.	.	I-API
basename(	NNS	I-API
$filename	VBP	I-API
		
)	)	L-API
)	)	O
;	:	O
header(	PRP$	B-API
"Content	JJ	I-API
-	:	I-API
Transfer-Encoding	NN	I-API
:	:	I-API
binary	JJ	I-API
"	NN	I-API
)	)	L-API
		
;	:	O
header(	VBN	B-API
'	POS	I-API
Content-Length	JJ	I-API
:	:	I-API
'	POS	I-API
.	.	I-API
filesize(	NNS	I-API
$filename	VBP	I-API
)	)	L-API
)	)	O
		
;	:	O
/	CC	O
/	NNP	O
Put	NNP	O
either	CC	O
file	NN	O
counting	NN	O
code	NN	O
here	RB	O
.	.	O
either	CC	O
		
a	DT	O
db	NN	O
or	CC	O
static	JJ	O
files	NNS	O
/	VBP	O
/	JJ	O
readfile(	NN	B-API
$filename	NN	I-API
)	)	L-API
;	:	O
		
/	CC	O
/and	VB	O
spit	VBZ	O
the	DT	O
user	NN	O
the	DT	O
file	NN	U-API
function	NN	O
base64_url_decode(	IN	B-API
$input	NNP	I-API
)	)	L-API
		
{	(	O
return	NN	O
base64_decode(	NN	B-API
strtr(	NN	I-API
$input	NNP	I-API
,	,	I-API
'	''	I-API
-	:	I-API
_	NN	I-API
,	,	I-API
'	''	I-API
		
,	,	I-API
'	''	I-API
+	JJ	I-API
/	NNP	I-API
=	NNP	I-API
'	POS	I-API
)	)	L-API
)	)	O
;	:	O
}	)	O
And	CC	O
		
when	WRB	O
you	PRP	O
call	VBP	O
files	NNS	O
use	VBP	O
something	NN	O
like	IN	U-API
function	NN	O
base64_url_encode(	IN	B-API
$input	NNP	I-API
)	)	L-API
		
{	(	O
return	NN	O
strtr(	NN	B-API
base64_encode(	IN	I-API
$input	NN	I-API
)	)	L-API
,	,	O
'	''	O
+	JJ	O
/	NNP	O
=	NNP	O
		
'	POS	O
,	,	O
'	''	O
-	:	O
_	NN	O
,	,	O
'	''	O
)	)	O
;	:	O
}	)	O
http	NN	O
		
:	:	O
/	JJ	O
/us	NN	O
.	.	O
php	NN	O
.	.	O
net	JJ	O
/manual	JJ	O
/en	NN	O
/function	NN	O
.	.	O
		
base64-encode	NN	O
.	.	O
php	VB	O
If	IN	O
you	PRP	O
are	VBP	O
using	VBG	O
some	DT	O
javascript	NN	O
or	CC	O
a	DT	O
		
flash	JJ	O
player	NN	O
(	(	O
JW	NNP	O
player	NN	O
for	IN	O
example	NN	O
)	)	O
that	WDT	O
requires	VBZ	O
the	DT	O
		
actual	JJ	O
link	NN	O
to	TO	O
be	VB	O
an	DT	O
mp3	NN	O
file	NN	O
or	CC	O
whatever	NN	O
,	,	O
you	PRP	O
		
can	MD	O
append	VB	O
the	DT	O
text	NN	O
"	NNP	O
&type	NNP	O
=	NNP	O
.	.	O
mp3	NN	O
"	NN	O
so	IN	O
		
the	DT	O
final	JJ	O
linke	NN	O
becomes	VBZ	O
something	NN	O
like	IN	O
"www	NNP	O
.	.	O
example	NN	O
.	.	O
com	NN	O
		
/xfer	NN	O
.	.	O
php	NN	O
?file	IN	O
=34842ffjfjxfh	NNP	O
&type	NNP	O
=	NNP	O
.	.	O
mp3	NN	O
"	NN	O
.	.	O
		
That	DT	O
way	NN	O
it	PRP	O
looks	VBZ	O
like	IN	O
it	PRP	O
ends	VBZ	O
with	IN	O
an	DT	O
mp3	JJ	O
extension	NN	O
		
without	IN	O
affecting	VBG	O
the	DT	O
file	NN	O
link	NN	O
.	.	O
Well	UH	O
,	,	O
what	WP	O
is	VBZ	O
the	DT	O
		
nature	NN	O
of	IN	O
the	DT	O
flat	JJ	O
databases	NNS	O
.	.	O
Are	VBP	O
they	PRP	O
large	JJ	O
or	CC	O
small	JJ	O
		
.	.	O
Is	VBZ	O
it	PRP	O
simple	JJ	O
arrays	NNS	O
with	IN	O
arrays	NNS	O
in	IN	O
them	PRP	O
?	.	O
if	IN	O
		
its	PRP$	O
something	NN	O
simple	JJ	O
say	VBP	O
userprofiles	NNS	O
built	VBN	O
as	IN	O
such	JJ	O
:	:	O
$user	NN	O
=	NN	O
		
array(	NN	B-API
"name	NN	I-API
"	NNP	I-API
=	NNP	I-API
>	NNP	I-API
"dubayou	NNP	I-API
"	NNP	I-API
,	,	I-API
"age	NN	I-API
"	NNP	I-API
=	NNP	I-API
		
>	NNP	I-API
20	CD	I-API
,	,	I-API
"websites	VBZ	I-API
"	NNP	I-API
=	NNP	I-API
>	NNP	I-API
array(	NN	I-API
"dubayou	NNP	I-API
.	.	I-API
com	NN	I-API
		
"	NN	I-API
,	,	I-API
"willwharton	NNP	I-API
.	.	I-API
com	NN	I-API
"	NN	I-API
,	,	I-API
"codecream	NN	I-API
.	.	I-API
com	VB	I-API
"	NN	I-API
		
)	)	L-API
,	,	O
"and_one	CD	O
"	NN	O
=	NNP	O
>	NNP	O
"more	NNP	O
"	NNP	O
)	)	O
;	:	O
and	CC	O
		
to	TO	O
save	VB	O
or	CC	O
update	VB	O
the	DT	O
db	NN	O
record	NN	O
for	IN	O
that	DT	O
user	NN	O
.	.	O
		
$dir	CC	O
=	JJ	O
"	NNP	O
..	NNP	O
/userdata	NNP	O
/	NNP	O
"	NNP	O
;	:	O
/	NNP	O
/make	VBP	O
sure	JJ	O
		
to	TO	O
put	VB	O
it	PRP	O
bellow	VB	O
what	WP	O
the	DT	O
server	NN	O
can	MD	O
reach	VB	O
.	.	O
file_put_contents(	JJ	B-API
		
$dir	NN	I-API
.	.	I-API
$user	CC	I-API
[	NNP	I-API
'	POS	I-API
name	NN	I-API
'	''	I-API
]	NNS	I-API
,	,	I-API
serialize(	FW	I-API
$user	NNP	I-API
		
)	)	L-API
)	)	O
;	:	O
and	CC	O
to	TO	O
load	VB	O
the	DT	O
record	NN	O
for	IN	O
the	DT	O
user	NN	U-API
		
function	NN	O
&get_user	NNP	O
(	(	O
$name	NN	O
)	)	O
{	(	O
return	NN	O
unserialize(	JJ	B-API
file_get_contents(	NN	I-API
"	NNP	I-API
..	NNP	I-API
		
/userdata	NNP	I-API
/	NNP	I-API
"	NNP	I-API
.	.	I-API
$name	NN	I-API
)	)	L-API
)	)	O
;	:	O
}	)	O
but	CC	O
again	RB	O
		
this	DT	O
implementation	NN	O
will	MD	O
vary	VB	O
on	IN	O
the	DT	O
application	NN	O
and	CC	O
nature	NN	O
of	IN	O
the	DT	O
		
database	NN	O
you	PRP	O
need	VBP	O
.	.	O
I	PRP	O
want	VBP	O
to	TO	O
print	VB	O
HTML	NNP	O
from	IN	O
a	DT	O
		
C	NNP	O
#	#	O
web	JJ	O
service	NN	O
.	.	O
The	DT	O
Web	NNP	O
Browser	NNP	O
control	NN	O
is	VBZ	O
overkill	VBN	O
		
,	,	O
and	CC	O
does	VBZ	O
not	RB	U-API
function	VB	O
well	RB	O
in	IN	O
a	DT	O
service	NN	O
environment	NN	O
,	,	O
		
nor	CC	O
does	VBZ	O
it	PRP	U-API
function	VB	O
well	RB	O
on	IN	O
a	DT	O
system	NN	O
with	IN	O
very	RB	O
tight	JJ	O
		
security	NN	O
constraints	NNS	O
.	.	O
Is	VBZ	O
there	RB	O
any	DT	O
sort	NN	O
of	IN	O
free	JJ	O
.	.	O
NET	JJ	O
		
library	NN	O
that	WDT	O
will	MD	O
support	VB	O
the	DT	O
printing	NN	O
of	IN	O
a	DT	O
basic	JJ	O
HTML	NNP	O
page	NN	O
		
?	.	O
Here	RB	O
is	VBZ	O
the	DT	O
code	NN	O
I	PRP	O
have	VBP	O
so	RB	O
far	RB	O
,	,	O
which	WDT	O
		
does	VBZ	O
not	RB	O
run	VB	O
properly	RB	O
.	.	O
public	JJ	O
void	NN	O
PrintThing(	NNP	B-API
string	NN	I-API
document	NN	I-API
)	)	L-API
		
{	(	O
if	IN	O
(	(	O
Thread.CurrentThread.GetApartmentState()	NNP	U-API
!	.	O
=	NN	O
ApartmentState	NNP	O
.	.	O
STA	NNP	O
)	)	O
{	(	O
		
Thread	JJ	O
thread	NN	O
=	VBD	O
new	JJ	O
Thread(	NNP	B-API
(	(	I-API
ThreadStart	NNP	I-API
)	)	L-API
delegate	NN	O
{	(	O
PrintDocument(	NNP	B-API
		
document	NN	I-API
)	)	L-API
;	:	O
}	)	O
)	)	O
;	:	O
thread.SetApartmentState(	JJ	B-API
ApartmentState	NNP	I-API
.	.	I-API
STA	NNP	I-API
)	)	L-API
		
;	:	O
thread.Start()	NN	U-API
;	:	O
}	)	O
else	RB	O
{	(	O
PrintDocument(	NNP	B-API
document	NN	I-API
)	)	L-API
;	:	O
}	)	O
		
}	)	O
protected	VBN	O
void	JJ	O
PrintDocument(	NNP	B-API
string	NN	I-API
document	NN	I-API
)	)	L-API
{	(	O
WebBrowser	NNP	O
browser	RB	O
=	VBD	O
		
new	JJ	O
WebBrowser()	NNP	U-API
;	:	O
browser	NN	O
.	.	O
DocumentText	NNP	O
=	NNP	O
document	NN	O
;	:	O
while	IN	O
(	(	O
		
browser	NN	O
.	.	O
ReadyState	VB	O
!	.	O
=	JJ	O
WebBrowserReadyState	NNP	O
.	.	O
Complete	NNP	O
)	)	O
{	(	O
Application.DoEvents()	NNP	U-API
		
;	:	O
}	)	O
browser.Print()	NN	U-API
;	:	O
}	)	O
This	DT	O
works	VBZ	O
fine	JJ	O
when	WRB	O
called	VBN	O
from	IN	O
		
UI-type	NNP	O
threads	NNS	O
,	,	O
but	CC	O
nothing	NN	O
happens	NNS	O
when	WRB	O
called	VBN	O
from	IN	O
a	DT	O
service-type	JJ	O
		
thread	NN	O
.	.	O
Changing	VBG	O
Print()	NNP	U-API
to	TO	O
ShowPrintPreviewDialog()	NNP	U-API
yields	NNS	O
the	DT	O
following	JJ	O
IE	NNP	O
script	NN	O
		
error	NN	O
:	:	O
Error	NN	O
:	:	O
'	POS	O
dialogArguments	NNS	O
.	.	O
___IE_PrintType	NN	O
'	''	O
is	VBZ	O
null	RB	O
		
or	CC	O
not	RB	O
an	DT	O
object	JJ	O
URL	NN	O
:	:	O
res	NNS	O
:	:	O
/	NN	O
/ieframe	NN	O
.	.	O
		
dll	JJ	O
/preview	NN	O
.	.	O
dlg	NN	O
And	CC	O
a	DT	O
small	JJ	O
empty	JJ	O
print	NN	O
preview	NN	O
dialog	NN	O
		
appears	VBZ	O
.	.	O
One	CD	O
of	IN	O
the	DT	O
fun	NN	O
parts	NNS	O
of	IN	O
multi-cultural	JJ	O
programming	NN	O
is	VBZ	O
		
number	NN	O
formats	NNS	O
.	.	O
Americans	NNPS	O
use	VBP	O
10	CD	O
,	,	O
000	CD	O
.	.	O
50	CD	O
Germans	NNPS	O
		
use	VBP	O
10	CD	O
.	.	O
000	CD	O
,	,	O
50	CD	O
French	JJ	O
use	NN	O
10	CD	O
000	CD	O
,	,	O
		
50	CD	O
My	NNP	O
first	JJ	O
approach	NN	O
would	MD	O
be	VB	O
to	TO	O
take	VB	O
the	DT	O
string	NN	O
,	,	O
		
parse	VB	O
it	PRP	O
backwards	NNS	O
,	,	O
until	IN	O
I	PRP	O
encounter	VBP	O
a	DT	O
separator	NN	O
and	CC	O
use	VB	O
		
this	DT	O
as	IN	O
my	PRP$	O
decimal	JJ	O
separator	NN	O
.	.	O
There	EX	O
is	VBZ	O
an	DT	O
obvious	JJ	O
flaw	NN	O
		
with	IN	O
that	DT	O
:	:	O
10	CD	O
.	.	O
000	CD	O
would	MD	O
be	VB	O
interpreted	VBN	O
as	IN	O
10	CD	O
		
.	.	O
Another	DT	O
approach	NN	O
:	:	O
if	IN	O
the	DT	O
string	NN	O
contains	VBZ	O
2	CD	O
different	JJ	O
non-numeric	JJ	O
		
characters	NNS	O
,	,	O
use	VBP	O
the	DT	O
last	JJ	O
one	NN	O
as	IN	O
the	DT	O
decimal	JJ	O
separator	NN	O
and	CC	O
		
discard	VB	O
the	DT	O
others	NNS	O
.	.	O
If	IN	O
I	PRP	O
only	RB	O
have	VBP	O
one	CD	O
,	,	O
check	NN	O
		
if	IN	O
it	PRP	O
occurs	VBZ	O
more	JJR	O
than	IN	O
once	RB	O
and	CC	O
discard	VB	O
it	PRP	O
if	IN	O
it	PRP	O
		
does	VBZ	O
.	.	O
If	IN	O
it	PRP	O
only	RB	O
appears	VBZ	O
once	RB	O
,	,	O
check	VB	O
if	IN	O
it	PRP	O
		
has	VBZ	O
3	CD	O
digits	NNS	O
after	IN	O
it	PRP	O
.	.	O
If	IN	O
yes	UH	O
,	,	O
discard	VB	O
it	PRP	O
		
,	,	O
otherwise	RB	O
use	NN	O
it	PRP	O
as	IN	O
decimal	JJ	O
separator	NN	O
.	.	O
The	DT	O
obvious	JJ	O
"best	JJS	O
		
solution	NN	O
"	NN	O
would	MD	O
be	VB	O
to	TO	O
detect	VB	O
the	DT	O
User's	NNP	O
culture	NN	O
or	CC	O
Browser	NNP	O
		
,	,	O
but	CC	O
that	IN	O
does	VBZ	O
not	RB	O
work	VB	O
if	IN	O
you	PRP	O
have	VBP	O
a	DT	O
Frenchman	NNP	O
		
using	VBG	O
an	DT	O
en-US	JJ	O
Windows	NNP	O
/Browser	NNP	O
.	.	O
Does	VBZ	O
the	DT	O
.	.	O
net	JJ	O
Framework	NNP	O
		
contain	NN	O
some	DT	O
mythical	JJ	O
black	JJ	O
magic	NN	O
floating	VBG	O
point	NN	O
parser	NN	O
that	WDT	O
is	VBZ	O
better	JJR	O
		
than	IN	O
Double	JJ	O
.(	JJ	O
Try	NNP	O
)Parse	NNP	O
(	(	O
)	)	O
in	IN	O
trying	VBG	O
to	TO	O
auto-detect	VB	O
		
the	DT	O
number	NN	O
format	NN	O
?	.	O
I've	NNP	O
read	VBD	O
somewhere	RB	O
the	DT	O
human	JJ	O
eye	NN	O
can't	NN	O
		
distinguish	JJ	O
between	IN	O
less	JJR	O
than	IN	O
4	CD	O
values	NNS	O
apart	RB	O
.	.	O
so	IN	O
This	DT	O
is	VBZ	O
		
something	NN	O
to	TO	O
keep	VB	O
in	IN	O
mind	NN	O
.	.	O
The	DT	O
following	JJ	O
algorithm	NN	O
does	VBZ	O
not	RB	O
		
compensate	VB	O
for	IN	O
this	DT	O
.	.	O
I'm	NNP	O
not	RB	O
sure	JJ	O
this	DT	O
is	VBZ	O
exactly	RB	O
what	WP	O
		
you	PRP	O
want	VBP	O
,	,	O
but	CC	O
this	DT	O
is	VBZ	O
one	CD	O
way	NN	O
to	TO	O
randomly	VB	O
generate	VB	O
		
non-repeating	JJ	O
color	NN	O
values	NNS	O
:	:	O
(	(	O
beware	NN	O
,	,	O
inconsistent	JJ	O
pseudo-code	JJ	O
ahead	RB	O
)	)	O
		
/	NN	O
/colors	NNS	O
entered	VBD	O
as	IN	O
0-255	JJ	O
[R	NN	O
,	,	O
G	NNP	O
,	,	O
B	NNP	O
]colors	NNPS	O
		
=	NNP	O
[	NNP	O
]	NNP	O
;	:	O
/	NNP	O
/holds	VBZ	O
final	JJ	O
colors	NNS	O
to	TO	O
be	VB	O
usedrand	JJ	O
		
=	NNP	O
new	JJ	O
Random()	NNP	U-API
;	:	O
/	NNP	O
/assumes	NNP	O
n	FW	O
is	VBZ	O
less	JJR	O
than	IN	O
16	CD	O
		
,	,	O
777	CD	O
,	,	O
216randomGen(	CD	B-API
int	NN	I-API
n	NN	I-API
)	)	L-API
{	(	O
while	IN	O
(	(	O
len(	JJ	B-API
		
colors	NNS	I-API
)	)	L-API
<	VBP	O
n	RB	O
)	)	O
{	(	O
/	JJ	O
/generate	VB	O
a	DT	O
random	JJ	O
number	NN	O
		
between	IN	O
0	CD	O
,	,	O
255	CD	O
for	IN	O
each	DT	O
color	NN	O
newRed	RB	O
=	NNP	O
rand.next(	VB	B-API
256	CD	I-API
		
)	)	L-API
;	:	O
newGreen	JJ	O
=	NNP	O
rand.next(	NN	B-API
256	CD	I-API
)	)	L-API
;	:	O
newBlue	JJ	O
=	NNP	O
rand.next(	NN	B-API
		
256	CD	I-API
)	)	L-API
;	:	O
temp	CC	O
=	VB	O
[newRed	NNP	O
,	,	O
newGreen	JJ	O
,	,	O
newBlue	JJ	O
]	NN	O
		
;	:	O
/	CC	O
/only	RB	O
adds	VBZ	O
new	JJ	O
colors	NNS	O
to	TO	O
the	DT	O
array	NN	O
if	IN	O
temp	NN	O
		
not	RB	O
in	IN	O
colors	NNS	O
{	(	O
colors.append(	VB	B-API
temp	NN	I-API
)	)	L-API
;	:	O
}	)	O
}	)	O
}	)	O
		
One	CD	O
way	NN	O
you	PRP	O
could	MD	O
optimize	VB	O
this	DT	O
for	IN	O
better	JJR	O
visibility	NN	O
would	MD	O
be	VB	O
		
to	TO	O
compare	VB	O
the	DT	O
distance	NN	O
between	IN	O
each	DT	O
new	JJ	O
color	NN	O
and	CC	O
all	PDT	O
the	DT	O
		
colors	NNS	O
in	IN	O
the	DT	O
array	NN	O
:	:	O
for	IN	O
item	NN	O
in	IN	O
color	NN	O
{	(	O
itemSq	JJ	O
		
=	NN	O
(	(	O
item	NN	O
[0	NNP	O
]	NNP	O
^2	NNP	O
+	NNP	O
item	NN	O
[1	NNP	O
]	NNP	O
^2	NNP	O
		
+	NNP	O
item	NN	O
[2	NNP	O
]	NNP	O
^2	NNP	O
]	NNP	O
)	)	O
^	VBD	O
(.	$	O
5	CD	O
)	)	O
		
;	:	O
tempSq	VBN	O
=	NNP	O
(	(	O
temp	JJ	O
[0	NNP	O
]	NNP	O
^2	NNP	O
+	NNP	O
temp	NN	O
[1	NNP	O
		
]	NNP	O
^2	NNP	O
+	NNP	O
temp	NN	O
[2	NNP	O
]	NNP	O
^2	NNP	O
]	NNP	O
)	)	O
^	VBD	O
(.	$	O
		
5	CD	O
)	)	O
;	:	O
dist	JJ	O
=	NNP	O
itemSq	NN	O
-	:	O
tempSq	NN	O
;	:	O
dist	JJ	O
=	NNP	O
		
abs(	NN	B-API
dist	NN	I-API
)	)	L-API
;	:	O
}	)	O
/	IN	O
/NUMBER	NN	O
can	MD	O
be	VB	O
your	PRP$	O
chosen	JJ	O
		
distance	NN	O
apart	RB	O
.	.	O
if	IN	O
dist	JJ	O
<	NNP	O
NUMBER	NNP	O
and	CC	O
temp	MD	O
not	RB	O
in	IN	O
		
colors	NNS	O
{	(	O
colors.append(	VB	B-API
temp	NN	I-API
)	)	L-API
;	:	O
}	)	O
But	CC	O
this	DT	O
approach	NN	O
would	MD	O
		
significantly	RB	O
slow	VB	O
down	RP	O
your	PRP$	O
algorithm	NN	O
.	.	O
Another	DT	O
way	NN	O
would	MD	O
be	VB	O
to	TO	O
		
scrap	VB	O
the	DT	O
randomness	NN	O
and	CC	O
systematically	RB	O
go	VBP	O
through	IN	O
every	DT	O
4	CD	O
values	NNS	O
and	CC	O
		
add	VB	O
a	DT	O
color	NN	O
to	TO	O
an	DT	O
array	NN	O
in	IN	O
the	DT	O
above	JJ	O
example	NN	O
.	.	O
		
I	PRP	O
don't	VBP	O
know	VB	O
the	DT	O
ASP	NNP	O
.	.	O
NET	NNP	O
side	NN	O
of	IN	O
the	DT	O
problem	NN	O
		
but	CC	O
.	.	O
NET	NNP	O
has	VBZ	O
a	DT	O
pretty	RB	O
powerful	JJ	O
class	NN	O
:	:	O
System	NN	O
.	.	O
		
Globalization	NNP	O
.	.	O
CultureInfo	NNP	O
.	.	O
You	PRP	O
can	MD	O
use	VB	O
the	DT	O
following	JJ	O
code	NN	O
to	TO	O
		
parse	VB	O
a	DT	O
string	NN	O
containing	VBG	O
a	DT	O
double	JJ	O
value	NN	O
:	:	O
double	JJ	O
d	NN	O
=	NNP	O
		
double.Parse(	NN	B-API
"100	NNP	I-API
.	.	I-API
20	CD	I-API
"	NN	I-API
,	,	I-API
CultureInfo	NNP	I-API
.	.	I-API
CurrentCulture	NN	I-API
)	)	L-API
;	:	O
		
/	CC	O
/	CD	O
--	:	O
OR	NNP	O
--	:	O
double	JJ	O
d	NN	O
=	NNP	O
double.Parse(	NN	B-API
"100	NNP	I-API
.	.	I-API
		
20	CD	I-API
"	NN	I-API
,	,	I-API
CultureInfo	NNP	I-API
.	.	I-API
CurrentUICulture	NN	I-API
)	)	L-API
;	:	O
If	IN	O
ASP	NNP	O
.	.	O
		
NET	NNP	O
somehow	NN	O
(	(	O
i	JJ	O
.	.	O
e	NN	O
.	.	O
using	VBG	O
HTTP	NNP	O
Request	NNP	O
headers	NNS	O
		
)	)	O
passes	VBZ	O
current	JJ	O
user's	JJ	O
CultureInfo	NNP	O
to	TO	O
either	DT	O
CultureInfo	NNP	O
.	.	O
CurrentCulture	NN	O
or	CC	O
		
CultureInfo	NNP	O
.	.	O
CurrentUICulture	NN	O
,	,	O
these	DT	O
will	MD	O
work	VB	O
fine	JJ	O
.	.	O
You	PRP	O
can't	VBP	O
		
please	VB	O
everyone	NN	O
.	.	O
If	IN	O
I	PRP	O
enter	VBP	O
ten	RB	O
as	IN	O
10	CD	O
.	.	O
000	CD	O
		
,	,	O
and	CC	O
someone	NN	O
enters	NNS	O
ten	VBP	O
thousand	VBP	O
as	IN	O
10	CD	O
.	.	O
000	CD	O
,	,	O
		
you	PRP	O
cannot	VBP	O
handle	VB	O
that	DT	O
without	IN	O
some	DT	O
knowledge	NN	O
of	IN	O
the	DT	O
culture	NN	O
of	IN	O
		
the	DT	O
input	NN	O
.	.	O
Detect	VB	O
the	DT	O
culture	NN	O
somehow	NN	O
(	(	O
browser	NN	O
,	,	O
system	NN	O
		
setting	VBG	O
-	:	O
what	WP	O
is	VBZ	O
the	DT	O
use	NN	O
case	NN	O
?	.	O
ASP	NNP	O
?	.	O
Internal	NNP	O
		
app	NN	O
,	,	O
or	CC	O
open	VB	O
to	TO	O
the	DT	O
world	NN	O
?	.	O
)	)	O
,	,	O
or	CC	O
		
provide	VB	O
an	DT	O
example	NN	O
of	IN	O
the	DT	O
expected	JJ	O
formatting	NN	O
,	,	O
and	CC	O
use	VB	O
the	DT	O
		
most	RBS	O
lenient	JJ	O
parser	NN	O
you	PRP	O
can	MD	O
.	.	O
Probably	RB	O
something	NN	O
like	IN	O
:	:	O
double	JJ	O
		
d	NN	O
=	NNP	O
Double.Parse(	NNP	B-API
"5	NNP	I-API
,	,	I-API
000	CD	I-API
.	.	I-API
00	CD	I-API
"	NN	I-API
,	,	I-API
NumberStyles	NNP	I-API
		
.	.	I-API
Any	NNP	I-API
,	,	I-API
CultureInfo	NNP	I-API
.	.	I-API
InvariantCulture	NNP	I-API
)	)	L-API
;	:	O
I	PRP	O
have	VBP	O
the	DT	O
		
following	JJ	O
arrays	NNS	O
:	:	O
$artist	NN	O
=	NNP	O
array(	VBZ	B-API
"the	JJ	I-API
roots	NNS	I-API
"	VBP	I-API
,	,	I-API
"michael	NNP	I-API
		
jackson	NNP	I-API
"	NNP	I-API
,	,	I-API
"billy	RB	I-API
idol	JJ	I-API
"	NNP	I-API
,	,	I-API
"more	NNP	I-API
"	NNP	I-API
,	,	I-API
"and	NNP	I-API
		
more	RBR	I-API
"	JJ	I-API
,	,	I-API
"and_YET_MORE	NNP	I-API
"	NNP	I-API
)	)	L-API
;	:	O
$count	NNP	O
=	NNP	O
array(	VBD	B-API
5	CD	I-API
		
,	,	I-API
3	CD	I-API
,	,	I-API
9	CD	I-API
,	,	I-API
1	CD	I-API
,	,	I-API
1	CD	I-API
,	,	I-API
3	CD	I-API
)	)	L-API
		
;	:	O
I	PRP	O
want	VBP	O
to	TO	O
generate	VB	O
a	DT	O
tag	NN	O
cloud	NN	O
that	WDT	O
will	MD	O
have	VB	O
		
artists	NNS	O
with	IN	O
a	DT	O
higher	JJR	O
number	NN	O
in	IN	O
$count	NNP	O
enclosed	VBD	O
in	IN	O
h6	NN	O
tags	NNS	O
		
and	CC	O
the	DT	O
lowest	JJS	O
enclosed	JJ	O
h1	NN	O
tags	NNS	O
.	.	O
From	IN	O
what	WP	O
I've	NNP	O
seen	VBN	O
		
,	,	O
there	EX	O
are	VBP	O
a	DT	O
few	JJ	O
registry	NN	O
keys	NNS	O
that	WDT	O
set	VBD	O
the	DT	O
default	NN	O
		
mail	NN	O
client	NN	O
.	.	O
One	CD	O
of	IN	O
them	PRP	O
being	VBG	O
:	:	O
System	NN	O
Key	NNP	O
:	:	O
		
[HKEY_CLASSES_ROOT	NN	O
\mailto	NNP	O
\shell	NNP	O
\open	NNP	O
\command	NNP	O
]	NNP	O
Value	NNP	O
Name	NN	O
:	:	O
(	(	O
Default	NNP	O
		
)	)	O
Data	NNP	O
Type	NN	O
:	:	O
REG_SZ	NNP	O
(	(	O
String	NNP	O
Value	NNP	O
)	)	O
Value	NNP	O
Data	NNP	O
		
:	:	O
Mail	NN	O
program	NN	O
command-line	NN	O
.	.	O
I'm	NNP	O
not	RB	O
familar	JJ	O
with	IN	O
Delphi	NNP	O
7	CD	O
		
,	,	O
but	CC	O
I'm	NNP	O
sure	VBP	O
there	EX	O
are	VBP	O
some	DT	O
registry	NN	O
editing	VBG	O
libraries	NNS	O
in	IN	O
		
there	EX	O
that	IN	O
you	PRP	O
could	MD	O
use	VB	O
to	TO	O
modify	VB	O
this	DT	O
value	NN	O
.	.	O
Some	DT	O
		
places	NNS	O
list	VBD	O
more	JJR	O
than	IN	O
this	DT	O
key	NN	O
,	,	O
others	NNS	O
just	RB	O
this	DT	O
key	NN	O
		
,	,	O
so	IN	O
you	PRP	O
may	MD	O
need	VB	O
to	TO	O
test	VB	O
a	DT	O
little	JJ	O
bit	NN	O
to	TO	O
		
find	VB	O
the	DT	O
proper	JJ	O
one(	NN	B-API
s	NN	I-API
)	)	L-API
.	.	O
MySQL	NNP	O
has	VBZ	O
this	DT	O
incredibly	RB	O
		
useful	JJ	O
yet	RB	O
properitary	JJ	O
REPLACE	NNP	O
INTO	NNP	O
SQL	NNP	O
Command	NNP	O
.	.	O
I	PRP	O
wonder	VBP	O
:	:	O
		
Can	MD	O
this	DT	O
easily	RB	O
be	VB	O
emulated	VBN	O
in	IN	O
SQL	NNP	O
Server	NNP	O
2005	CD	O
?	.	O
Starting	VBG	O
		
a	DT	O
new	JJ	O
Transaction	NNP	O
,	,	O
doing	VBG	O
a	DT	O
Select()	NNP	U-API
and	CC	O
then	RB	O
either	DT	O
UPDATE	NNP	O
		
or	CC	O
INSERT	NNP	O
and	CC	O
COMMIT	NNP	O
is	VBZ	O
always	RB	O
a	DT	O
little	JJ	O
bit	NN	O
of	IN	O
a	DT	O
		
pain	NN	O
,	,	O
especially	RB	O
when	WRB	O
doing	VBG	O
it	PRP	O
in	IN	O
the	DT	O
application	NN	O
and	CC	O
therefore	NN	O
		
always	RB	O
keeping	VBG	O
2	CD	O
versions	NNS	O
of	IN	O
the	DT	O
statement	NN	O
.	.	O
I	PRP	O
wonder	VBP	O
if	IN	O
		
there	EX	O
is	VBZ	O
an	DT	O
easy	JJ	O
and	CC	O
universal	JJ	O
way	NN	O
to	TO	O
implement	VB	O
such	PDT	O
a	DT	U-API
		
function	NN	O
into	IN	O
SQL	NNP	O
Server	NNP	O
2005	CD	O
?	.	O
The	DT	O
default	NN	O
behaviour	NN	O
is	VBZ	O
for	IN	O
		
error_log()	NN	U-API
to	TO	O
output	NN	O
to	TO	O
the	DT	O
Apache	NNP	O
error	NN	O
log	NN	O
.	.	O
If	IN	O
this	DT	O
		
isn't	NN	O
happening	VBG	O
check	VB	O
your	PRP$	O
php	NN	O
.	.	O
ini	JJ	O
settings	NNS	O
for	IN	O
the	DT	O
error_log	NN	O
		
directive	JJ	O
-	:	O
leave	VBP	O
it	PRP	O
unset	JJ	O
to	TO	O
use	VB	O
the	DT	O
Apache	NNP	O
log	NN	O
file	NN	O
		
for	IN	O
the	DT	O
current	JJ	O
vhost	NN	O
.	.	O
Off	IN	O
the	DT	O
top	NN	O
of	IN	O
my	PRP$	O
head	NN	O
		
...	:	O
$artist	JJ	O
=	NNP	O
array(	NN	B-API
"the	NNP	I-API
roots	NNS	I-API
"	NNP	I-API
,	,	I-API
"michael	NNP	I-API
jackson	NNP	I-API
"	NNP	I-API
		
,	,	I-API
"billy	RB	I-API
idol	JJ	I-API
"	NNP	I-API
,	,	I-API
"more	NNP	I-API
"	NNP	I-API
,	,	I-API
"and	NNP	I-API
more	RBR	I-API
"	JJ	I-API
		
,	,	I-API
"and_YET_MORE	NNP	I-API
"	NNP	I-API
)	)	L-API
;	:	O
$count	NNP	O
=	NNP	O
array(	VBD	B-API
5	CD	I-API
,	,	I-API
3	CD	I-API
		
,	,	I-API
9	CD	I-API
,	,	I-API
1	CD	I-API
,	,	I-API
1	CD	I-API
,	,	I-API
3	CD	I-API
)	)	L-API
;	:	O
$highest	JJS	O
		
=	NN	O
max(	NN	B-API
$count	NN	I-API
)	)	L-API
;for	NN	O
(	(	O
int	JJ	O
$x	NNP	O
=	NNP	O
0	CD	O
;	:	O
		
x	NNP	O
<	NNP	O
count(	JJ	B-API
$artist	NN	I-API
)	)	L-API
;	:	O
$x	CC	O
+	NNP	O
+	NNP	O
)	)	O
{	(	O
		
$normalized	VBN	O
=	RB	O
$count	NNP	O
[	NNP	O
$x	NNP	O
]	NNP	O
/	NNP	O
$highest	NNP	O
;	:	O
$heading	VBG	O
=	NNP	O
		
ceil(	NN	B-API
$normalized	VBD	I-API
*	RB	I-API
6	CD	I-API
)	)	L-API
;	:	O
/	CC	O
/	$	O
6	CD	O
heading	VBG	O
types	NNS	O
		
echo	VBP	O
"	JJ	O
<h	NNP	O
"	NNP	O
.	.	O
$heading	VBG	O
.	.	O
"	JJ	O
>	JJ	O
"	NN	O
.	.	O
		
$artist	JJ	O
[	JJ	O
$x	NN	O
]	NNP	O
.	.	O
"	VB	O
<	JJ	O
/h	NNP	O
"	NNP	O
.	.	O
$heading	VBG	O
		
.	.	O
"	JJ	O
>	JJ	O
"	NN	O
;	:	O
}	)	O
I	PRP	O
have	VBP	O
a	DT	O
little	JJ	O
game	NN	O
		
written	VBN	O
in	IN	O
C	NNP	O
#	#	O
.	.	O
It	PRP	O
uses	VBZ	O
a	DT	O
database	NN	O
as	IN	O
back-end	NN	O
		
.	.	O
It's	VB	O
a	DT	O
trading	NN	O
card	NN	O
game	NN	O
,	,	O
and	CC	O
I	PRP	O
wanted	VBD	O
to	TO	O
		
implement	VB	O
the	DT	U-API
function	NN	O
of	IN	O
the	DT	O
cards	NNS	O
as	IN	O
a	DT	O
script	NN	O
.	.	O
What	WP	O
		
I	PRP	O
mean	VBP	O
is	VBZ	O
that	IN	O
I	PRP	O
essentially	RB	O
have	VBP	O
an	DT	O
interface	NN	O
,	,	O
ICard	NNP	O
		
,	,	O
which	WDT	O
a	DT	O
card	NN	O
class	NN	O
implements	NNS	O
(	(	O
public	JJ	O
class	NN	O
Card056	NNP	O
:	:	O
		
ICard	NNP	O
)	)	O
and	CC	O
which	WDT	O
contains	VBZ	U-API
function	NN	O
that	WDT	O
are	VBP	O
called	VBN	O
by	IN	O
the	DT	O
		
game	NN	O
.	.	O
Now	RB	O
,	,	O
to	TO	O
make	VB	O
the	DT	O
thing	NN	O
maintainable	JJ	O
/moddable	JJ	O
,	,	O
		
I	PRP	O
would	MD	O
like	VB	O
to	TO	O
have	VB	O
the	DT	O
class	NN	O
for	IN	O
each	DT	O
card	NN	O
as	IN	O
		
source	NN	O
code	NN	O
in	IN	O
the	DT	O
database	NN	O
and	CC	O
essentially	RB	O
compile	VB	O
it	PRP	O
on	IN	O
first	JJ	O
		
use	NN	O
.	.	O
So	IN	O
when	WRB	O
I	PRP	O
have	VBP	O
to	TO	O
add	VB	O
/change	VB	O
a	DT	O
card	NN	O
		
,	,	O
I'll	NNP	O
just	RB	O
add	VB	O
it	PRP	O
to	TO	O
the	DT	O
database	NN	O
and	CC	O
tell	VB	O
my	PRP$	O
		
application	NN	O
to	TO	O
refresh	VB	O
,	,	O
without	IN	O
needing	VBG	O
any	DT	O
assembly	NN	O
deployment	NN	O
(	(	O
especially	RB	O
		
since	IN	O
we	PRP	O
would	MD	O
be	VB	O
talking	VBG	O
about	IN	O
1	CD	O
assembly	NN	O
per	IN	O
card	NN	O
which	WDT	O
		
means	VBZ	O
hundreds	NNS	O
of	IN	O
assemblies	NNS	O
)	)	O
.	.	O
Is	VBZ	O
that	IN	O
possible	JJ	O
?	.	O
Register	NNP	O
		
a	DT	O
class	NN	O
from	IN	O
a	DT	O
source	NN	O
file	NN	O
and	CC	O
then	RB	O
instantiate	VB	O
it	PRP	O
,	,	O
		
etc	FW	O
.	.	O
ICard	NNP	O
Cards	NNP	O
[current	NNP	O
]	NNP	O
=	NNP	O
new	JJ	O
MyGame.CardLibrary.Card056()	NNP	U-API
;	:	O
Cards	NNP	O
		
[current	NNP	O
]	NNP	O
.	.	O
OnEnterPlay(	NNP	B-API
ref	JJ	I-API
currentGameState	NN	I-API
)	)	L-API
;	:	O
The	DT	O
language	NN	O
is	VBZ	O
		
C	NNP	O
#	#	O
,	,	O
but	CC	O
extra	JJ	O
bonus	NN	O
if	IN	O
it's	JJ	O
possible	JJ	O
to	TO	O
write	VB	O
		
the	DT	O
script	NN	O
in	IN	O
any	DT	O
.	.	O
NET	JJ	O
language	NN	O
.	.	O
I	PRP	O
have	VBP	O
been	VBN	O
		
trying	VBG	O
to	TO	O
implement	VB	O
Win32's	NNP	O
MessageBox	NNP	O
using	VBG	O
GTK	NNP	O
.	.	O
The	DT	O
app	NN	O
using	VBG	O
		
SDL	NNP	O
/OpenGL	NNP	O
,	,	O
so	IN	O
this	DT	O
isn't	NN	O
a	DT	O
GTK	NNP	O
app	NN	O
.	.	O
I	PRP	O
		
handle	VBP	O
the	DT	O
initialisation	NN	O
(	(	O
gtk_init	NN	O
)	)	O
sort	NN	O
of	IN	O
stuff	NN	O
inside	IN	O
the	DT	O
		
MessageBox	NNP	U-API
function	NN	O
as	IN	O
follows	VBZ	O
:	:	O
int	NN	O
MessageBox(	NNP	B-API
HWND	NNP	I-API
hwnd	NN	I-API
,	,	I-API
const	NN	I-API
		
char	NN	I-API
*	NNP	I-API
text	NN	I-API
,	,	I-API
const	NN	I-API
char	NN	I-API
*	NNP	I-API
caption	NN	I-API
,	,	I-API
UINT	NNP	I-API
type	NN	I-API
		
)	)	L-API
{	(	O
GtkWidget	NNP	O
*window	NNP	O
=	NNP	O
NULL	NNP	O
;	:	O
GtkWidget	NNP	O
*dialog	NNP	O
=	NNP	O
NULL	NNP	O
		
;	:	O
gtk_init(	NN	B-API
>kArgc	NN	I-API
,	,	I-API
>kArgv	NNP	I-API
)	)	L-API
;	:	O
window	CC	O
=	VB	O
gtk_window_new(	JJ	B-API
GTK_WINDOW_TOPLEVEL	NNP	I-API
		
)	)	L-API
;	:	O
g_signal_connect(	CC	B-API
G_OBJECT(	NNP	I-API
window	NN	I-API
)	)	L-API
,	,	O
"delete_event	JJ	O
"	NN	O
,	,	O
G_CALLBACK(	NNP	B-API
		
delete_event	NN	I-API
)	)	L-API
,	,	O
NULL	NNP	O
)	)	O
;	:	O
g_signal_connect(	CC	B-API
G_OBJECT(	NNP	I-API
window	NN	I-API
)	)	L-API
,	,	O
		
"destroy	NNP	O
"	NNP	O
,	,	O
G_CALLBACK(	NNP	B-API
destroy	NN	I-API
)	)	L-API
,	,	O
NULL	NNP	O
)	)	O
;	:	O
/	CC	O
		
/	VB	O
gcallback	NN	O
calls	VBZ	O
gtk_main_quit()	JJ	U-API
gtk_init_add(	NN	B-API
(	(	I-API
GtkFunction	NNP	I-API
)gcallback	NNP	I-API
,	,	I-API
NULL	NNP	I-API
)	)	L-API
		
;	:	O
if	IN	O
(	(	O
type	NN	O
&	CC	O
MB_YESNO	NNP	O
)	)	O
{	(	O
dialog	NN	O
=	NNP	O
gtk_message_dialog_new(	NN	B-API
		
GTK_WINDOW(	NNP	I-API
window	NN	I-API
)	)	L-API
,	,	O
GTK_DIALOG_DESTROY_WITH_PARENT	NNP	O
,	,	O
GTK_MESSAGE_QUESTION	NNP	O
,	,	O
GTK_BUTTONS_YES_NO	NNP	O
,	,	O
text	NN	O
		
)	)	O
;	:	O
}	)	O
else	RB	O
{	(	O
dialog	NN	O
=	NNP	O
gtk_message_dialog_new(	NN	B-API
GTK_WINDOW(	NNP	I-API
window	NN	I-API
)	)	L-API
		
,	,	O
GTK_DIALOG_DESTROY_WITH_PARENT	NNP	O
,	,	O
GTK_MESSAGE_INFO	NNP	O
,	,	O
GTK_BUTTONS_OK	NNP	O
,	,	O
text	NN	O
)	)	O
;	:	O
}	)	O
		
gtk_window_set_title(	VBP	B-API
GTK_WINDOW(	NNP	I-API
dialog	NN	I-API
)	)	L-API
,	,	O
caption	NN	O
)	)	O
;	:	O
gint	NN	O
result	NN	O
=	NNP	O
		
gtk_dialog_run(	NN	B-API
GTK_DIALOG(	NNP	I-API
dialog	NN	I-API
)	)	L-API
)	)	O
;	:	O
gtk_main()	NN	U-API
;	:	O
gtk_widget_destroy(	CC	B-API
dialog	NN	I-API
)	)	L-API
		
;	:	O
if	IN	O
(	(	O
type	NN	O
&	CC	O
MB_YESNO	NNP	O
)	)	O
{	(	O
switch	NN	O
(	(	O
result	NN	O
		
)	)	O
{	(	O
default	NN	O
:	:	O
case	NN	O
GTK_RESPONSE_DELETE_EVENT	NNP	O
:	:	O
case	NN	O
GTK_RESPONSE_NO	NNP	O
:	:	O
return	NN	O
		
IDNO	NNP	O
;	:	O
break	NN	O
;	:	O
case	NN	O
GTK_RESPONSE_YES	NNP	O
:	:	O
return	NN	O
IDYES	NNP	O
;	:	O
break	NN	O
		
;	:	O
}	)	O
}	)	O
return	VBP	O
IDOK	NNP	O
;	:	O
}	)	O
Now	RB	O
,	,	O
I	PRP	O
am	VBP	O
		
by	IN	O
no	DT	O
means	NNS	O
an	DT	O
experienced	JJ	O
GTK	NNP	O
programmer	NN	O
,	,	O
and	CC	O
I	PRP	O
realise	VBP	O
		
that	IN	O
I'm	NNP	O
probably	RB	O
doing	VBG	O
something(	JJ	B-API
s	NN	I-API
)	)	L-API
horribly	RB	O
wrong	JJ	O
.	.	O
However	RB	O
		
,	,	O
my	PRP$	O
problem	NN	O
is	VBZ	O
that	IN	O
the	DT	O
last	JJ	O
dialog	NN	O
popped	VBD	O
up	RP	O
with	IN	O
		
this	DT	U-API
function	NN	O
stays	VBZ	O
around	IN	O
until	IN	O
the	DT	O
process	NN	O
exits	NNS	O
.	.	O
Any	DT	O
ideas	NNS	O
		
?	.	O
@Ryan	JJ	O
That's	NNP	O
correct	NN	O
but	CC	O
it	PRP	O
actually	RB	O
makes	VBZ	O
the	DT	O
tags	NNS	O
with	IN	O
		
the	DT	O
least	JJS	O
number	NN	O
,	,	O
larger	JJR	O
.	.	O
This	DT	O
code	NN	O
has	VBZ	O
been	VBN	O
tested	VBN	O
		
:	:	O
$artist	JJ	O
=	NNP	O
array(	NN	B-API
"the	NNP	I-API
roots	NNS	I-API
"	NNP	I-API
,	,	I-API
"michael	NNP	I-API
jackson	NNP	I-API
"	NNP	I-API
		
,	,	I-API
"billy	RB	I-API
idol	JJ	I-API
"	NNP	I-API
,	,	I-API
"more	NNP	I-API
"	NNP	I-API
,	,	I-API
"and	NNP	I-API
more	RBR	I-API
"	JJ	I-API
		
,	,	I-API
"and_YET_MORE	NNP	I-API
"	NNP	I-API
)	)	L-API
;	:	O
$count	NNP	O
=	NNP	O
array(	VBD	B-API
5	CD	I-API
,	,	I-API
3	CD	I-API
		
,	,	I-API
9	CD	I-API
,	,	I-API
1	CD	I-API
,	,	I-API
1	CD	I-API
,	,	I-API
3	CD	I-API
)	)	L-API
;	:	O
$highest	JJS	O
		
=	NN	O
max(	NN	B-API
$count	NN	I-API
)	)	L-API
;for	NN	O
(	(	O
$x	JJ	O
=	VBZ	O
0	CD	O
;	:	O
$x	NNP	O
		
<	NNP	O
count(	VBP	B-API
$artist	NN	I-API
)	)	L-API
;	:	O
$x	CC	O
+	NNP	O
+	NNP	O
)	)	O
{	(	O
$normalized	VBN	O
		
=	NN	O
(	(	O
$highest	JJS	O
-	:	O
$count	NN	O
[	JJ	O
$x	NNP	O
]	NNP	O
+1	NNP	O
)	)	O
/	VBP	O
		
$highest	JJS	O
;	:	O
$heading	VBG	O
=	NNP	O
ceil(	NN	B-API
$normalized	VBD	I-API
*	RB	I-API
6	CD	I-API
)	)	L-API
;	:	O
/	CC	O
		
/	$	O
6	CD	O
heading	VBG	O
types	NNS	O
echo	VBP	O
"	JJ	O
<h	NNP	O
$heading	NNP	O
>	NNP	O
{	(	O
$artist	JJ	O
		
[	NNP	O
$x	NNP	O
]	NNP	O
}	)	O
<	NNP	O
/h	NNP	O
$heading	VBG	O
>	NNP	O
"	NNP	O
;	:	O
}	)	O

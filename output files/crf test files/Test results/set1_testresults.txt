You	PRP	O
could	MD	O
use	VB	O
an	DT	O
Observer	NNP	O
pattern	NN	O
.	.	O
A	DT	O
simple	JJ	O
functional	JJ	O
way	NN	O

to	TO	O
accomplish	VB	O
this	DT	O
:	:	O
<	NN	O
?php	NNP	O
/	NNP	O
*	NNP	O
*	NNP	O
Plugin	NNP	O
system	NN	O

*	NNP	O
*	NNP	O
/	NNP	O
$listeners	NNS	O
=	VBP	O
array()	RB	O
;	:	O
/	NNP	O
*	NNP	O
Create	NNP	O
an	DT	O

entry	NN	O
point	NN	O
for	IN	O
plugins	NNS	O
*	JJ	O
/function	NNP	O
hook()	NN	O
{	(	O
global	JJ	O
$listeners	NNS	O
;	:	O

$num_args	NNP	O
=	NNP	O
func_num_args()	NN	U-API
;	:	O
$args	CC	O
=	NNP	O
func_get_args()	VBP	O
;	:	O
if(	JJ	O
$num_args	NNP	O
<	NNP	O

2	CD	O
)	)	O
trigger_error(	NN	O
"Insufficient	JJ	B-API
arguments	NNS	I-API
"	VBP	I-API
,	,	I-API
E_USER_ERROR	NNP	I-API
)	)	L-API
;	:	O
/	CC	O

/	VB	O
Hook	NNP	O
name	NN	O
should	MD	O
always	RB	O
be	VB	O
first	JJ	O
argument	NN	O
$hook_name	NN	O
=	NNP	O
array_shift(	VBZ	O

$args	NNP	I-API
)	)	L-API
;	:	O
if(	JJ	O
!isset	NNP	O
(	(	O
$listeners	NNS	O
[	VBP	O
$hook_name	JJ	O
]	NNP	O
)	)	O

)	)	O
return	NN	O
;	:	O
/	CC	O
/	VB	O
No	DT	O
plugins	NNS	O
have	VBP	O
registered	VBN	O
this	DT	O
hook	NN	O

foreach(	NN	O
$listeners	NNS	O
[	VBP	O
$hook_name	JJ	O
]	NNP	O
as	IN	O
$func	NNP	O
)	)	O
{	(	O
$args	JJ	O
=	NN	O

$func	NNP	I-API
(	(	I-API
$args	NNP	I-API
)	)	L-API
;	:	O
}	)	O
return	VBP	O
$args	NNS	O
;	:	O
}	)	O
/	FW	O

*	FW	O
Attach	VBP	O
a	DT	U-API
function	NN	O
to	TO	O
a	DT	O
hook	NN	O
*	JJ	O
/function	NN	O
add_listener(	NN	O
$hook	NN	O

,	,	I-API
$function_name	NN	I-API
)	)	L-API
{	(	O
global	JJ	O
$listeners	NNS	O
;	:	O
$listeners	NNS	O
[	VBP	O
$hook	NNP	O
]	NNP	O

[	NNP	O
]	NNP	O
=	NNP	O
$function_name	NN	U-API
;	:	O
}	)	O
/	FW	O
/	JJ	O
/	NNP	O
/	NNP	O
/	NNP	O

/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O

/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
*	NNP	O

*	NNP	O
Sample	NNP	O
Plugin	NNP	O
*	NNP	O
*	NNP	O
/add_listener	NNP	O
(	(	O
'	''	O
a_b	NN	O
'	''	O
,	,	O

'	''	O
my_plugin_func1	NNP	O
'	POS	O
)	)	O
;add_listener	NN	O
(	(	O
'	''	O
str	NN	O
'	''	O
,	,	O
'	''	O

my_plugin_func2	NNP	O
'	POS	O
)	)	O
;function	NN	O
my_plugin_func1(	FW	O
$args	NNP	O
)	)	O
{	(	O
return	VB	O
array(	RB	O
4	CD	O

,	,	I-API
5	CD	I-API
)	)	L-API
;	:	O
}function	NN	B-API
my_plugin_func2(	FW	I-API
$args	NNP	I-API
)	)	L-API
{	(	O
return	VB	O
str_replace(	NN	O

'	''	I-API
sample	NN	I-API
'	''	I-API
,	,	I-API
'	''	I-API
CRAZY	NNP	I-API
'	POS	I-API
,	,	I-API
$args	FW	I-API
[0	NNP	I-API
]	NNP	I-API

)	)	L-API
;	:	O
}	)	O
/	FW	O
/	JJ	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O

/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O

/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
/	NNP	O
*	NNP	O
*	NNP	O
Sample	NNP	O
Application	NNP	O

*	NNP	O
*	NNP	O
/	NNP	O
$a	NNP	O
=	NNP	O
1	CD	O
;	:	O
$b	NNP	O
=	VBD	O
2	CD	O
;list	NN	O

(	(	O
$a	UH	O
,	,	O
$b	NNP	O
)	)	O
=	VBP	O
hook(	NN	B-API
'	''	I-API
a_b	NN	I-API
'	''	I-API
,	,	I-API

$a	NNP	I-API
,	,	I-API
$b	NNP	I-API
)	)	L-API
;	:	O
$str	CC	O
=	VB	O
"This	NN	O
is	VBZ	O
my	PRP$	O
sample	JJ	O

application	NN	O
\n	NNP	O
"	NNP	O
;	:	O
$str	NNP	O
.	.	O
=	VB	O
"	JJ	B-API
$a	NNP	I-API
+	NNP	I-API
$b	NNP	I-API

=	NNP	O
"	NNP	O
.(	NNP	O
$a	NNP	O
+	NNP	O
$b	NNP	O
)	)	O
.	.	O
"	JJ	O
\n	JJ	O
"	NN	O

;	:	O
$str	NNP	O
.	.	O
=	VB	O
"	JJ	O
$a	NNP	O
*	NNP	O
$b	NNP	O
=	NNP	O
"	NNP	O
.(	NNP	O

$a	NNP	O
*	NNP	O
$b	NNP	O
)	)	O
.	.	O
"	JJ	O
\n	JJ	O
"	NN	O
;	:	O
$str	CC	O
=	VB	O

hook(	NN	B-API
'	''	I-API
str	NN	I-API
'	''	I-API
,	,	I-API
$str	NNP	I-API
)	)	L-API
;echo	VBP	O
$str	NN	O
;	:	O
?	.	O

>	FW	O
Output	NN	O
:	:	O
This	DT	O
is	VBZ	O
my	PRP$	O
CRAZY	JJ	O
application4	NN	O
+	VBD	O
5	CD	O
=	JJ	O

94	CD	O
*	JJ	O
5	CD	O
=	JJ	O
20	CD	O
Notes	NNS	O
:	:	O
For	IN	O
this	DT	O
example	NN	O
source	NN	O

code	NN	O
,	,	O
you	PRP	O
must	MD	O
declare	VB	O
all	DT	O
your	PRP$	O
plugins	NNS	O
before	IN	O
the	DT	O
actual	JJ	O

source	NN	O
code	NN	O
that	IN	O
you	PRP	O
want	VBP	O
to	TO	O
be	VB	O
extendable	JJ	O
.	.	O
I've	NNP	O
included	VBD	O

an	DT	O
example	NN	O
of	IN	O
how	WRB	O
to	TO	O
handle	VB	O
single	JJ	O
or	CC	O
multiple	JJ	O
values	NNS	O
being	VBG	O

passed	VBN	O
to	TO	O
the	DT	O
plugin	NN	O
.	.	O
The	DT	O
hardest	JJS	O
part	NN	O
of	IN	O
this	DT	O
is	VBZ	O

writing	VBG	O
the	DT	O
actual	JJ	O
documentation	NN	O
which	WDT	O
lists	VBZ	O
what	WP	O
arguments	VBZ	O
get	VB	O
passed	VBN	O
to	TO	O

each	DT	O
hook	NN	O
.	.	O
This	DT	O
is	VBZ	O
just	RB	O
one	CD	O
method	NN	O
of	IN	O
accomplishing	VBG	O
a	DT	O

plugin	NN	O
system	NN	O
in	IN	O
PHP	NNP	O
.	.	O
There	EX	O
are	VBP	O
better	JJR	O
alternatives	NNS	O
,	,	O
I	PRP	O

suggest	VBP	O
you	PRP	O
check	VB	O
out	RP	O
the	DT	O
WordPress	NNP	O
Documentation	NNP	O
for	IN	O
more	JJR	O
information	NN	O
.	.	O

Sorry	NNP	O
,	,	O
it	PRP	O
appears	VBZ	O
underscore	JJ	O
characters	NNS	O
are	VBP	O
replaced	VBN	O
by	IN	O
HTML	NNP	O
entities	NNS	O

by	IN	O
Markdown	NNP	O
?	.	O
I	PRP	O
can	MD	O
re-post	VB	O
this	DT	O
code	NN	O
when	WRB	O
this	DT	O
bug	NN	O

gets	VBZ	O
fixed	VBN	O
.	.	O
Edit	NN	O
:	:	O
Nevermind	NN	O
,	,	O
it	PRP	O
only	RB	O
appears	VBZ	O
that	IN	O

way	NN	O
when	WRB	O
you	PRP	O
are	VBP	O
editing	VBG	O
I've	NNP	O
written	VBN	O
a	DT	O
database	NN	O
generation	NN	O
script	NN	O

in	IN	O
SQL	NNP	O
and	CC	O
want	VBP	O
to	TO	O
execute	VB	O
it	PRP	O
in	IN	O
my	PRP$	O
Adobe	NNP	O
AIR	NNP	O

application	NN	O
:	:	O
Create	NNP	O
Table	NNP	O
tRole	NN	O
(	(	O
roleID	JJ	O
integer	NN	O
Primary	NNP	O
Key	NNP	O
,	,	O

roleName	NN	O
varchar(	RB	B-API
40	CD	I-API
)	)	L-API
)	)	O
;	:	O
Create	NNP	O
Table	NNP	O
tFile	NN	O
(	(	O
fileID	JJ	O

integer	NN	I-API
Primary	NNP	I-API
Key	NNP	I-API
,	,	I-API
fileName	NN	I-API
varchar(	RB	I-API
50	CD	I-API
)	)	L-API
,	,	O
fileDescription	NN	O
varchar(	FW	O

500	CD	O
)	)	O
,	,	O
thumbnailID	JJ	B-API
integer	NN	I-API
,	,	I-API
fileFormatID	JJ	I-API
integer	NN	I-API
,	,	I-API
categoryID	NN	I-API
integer	NN	I-API

,	,	O
isFavorite	JJ	B-API
boolean	NN	I-API
,	,	I-API
dateAdded	VBD	I-API
date	NN	I-API
,	,	I-API
globalAccessCount	NN	I-API
integer	NN	I-API
,	,	I-API
lastAccessTime	JJ	I-API

date	NN	I-API
,	,	I-API
downloadComplete	JJ	I-API
boolean	NN	I-API
,	,	I-API
isNew	JJ	I-API
boolean	NN	I-API
,	,	I-API
isSpotlight	JJ	I-API
boolean	NN	I-API
,	,	I-API

duration	NN	I-API
varchar(	FW	I-API
30	CD	I-API
)	)	L-API
)	)	O
;	:	O
Create	NNP	O
Table	NNP	O
tCategory	NN	O
(	(	O
categoryID	JJ	O

integer	NN	I-API
Primary	NNP	I-API
Key	NNP	I-API
,	,	I-API
categoryName	NN	I-API
varchar(	RB	I-API
50	CD	I-API
)	)	L-API
,	,	O
parent_categoryID	RB	O
integer	NN	O

)	)	L-API
;	:	O
...	:	O
I	PRP	O
execute	VBP	O
this	DT	O
in	IN	O
Adobe	NNP	O
AIR	NNP	O
using	VBG	O
the	DT	O

following	JJ	O
methods	NNS	O
:	:	O
public	JJ	O
static	JJ	U-API
function	NN	O
RunSqlFromFile(	NNP	B-API
fileName	NN	I-API
:String	VBG	I-API
)	)	L-API
:void	FW	O

{	(	O
var	NN	O
file	NN	O
:File	NNP	O
=	NNP	O
File.applicationDirectory.resolvePath(	NNP	B-API
fileName	NN	I-API
)	)	L-API
;	:	O
var	JJ	O
stream	NN	O

:FileStream	NN	O
=	NNP	O
new	JJ	O
FileStream()	NNP	U-API
;	:	O
stream.open(	NN	O
file	NN	O
,	,	O
FileMode	NNP	O
.	.	O
READ	NNP	O

)	)	O
var	FW	O
strSql	JJ	O
:String	VBG	O
=	JJ	O
stream.readUTFBytes(	JJ	O
stream	NN	O
.	.	O
bytesAvailable	JJ	O
)	)	O
;	:	O

NonQuery(	NNP	I-API
strSql	NN	I-API
)	)	L-API
;	:	O
}	)	O
public	JJ	O
static	JJ	U-API
function	NN	O
NonQuery(	NNP	O
strSQL	NN	O
:String	VBG	O

)	)	O
:void	FW	O
{	(	O
var	JJ	O
sqlConnection	NN	O
:SQLConnection	NN	O
=	NNP	O
new	JJ	O
SQLConnection()	NNP	U-API
;	:	O
sqlConnection.open(	JJ	O

File.applicationStorageDirectory.resolvePath(	NNP	I-API
DBPATH	NNP	I-API
)	)	L-API
;	:	O
var	FW	O
sqlStatement	JJ	O
:SQLStatement	NN	O
=	NNP	O
new	JJ	O
SQLStatement()	NNP	U-API
;	:	O

sqlStatement	NN	O
.	.	O
text	JJ	O
=	JJ	O
strSQL	NN	O
;	:	O
sqlStatement	NN	O
.	.	O
sqlConnection	NN	O
=	JJ	O
sqlConnection	NN	O

;	:	O
try	VB	O
{	(	O
sqlStatement.execute()	NN	U-API
;	:	O
}	)	O
catch	NN	O
(	(	O
error	JJ	O
:SQLError	NN	O
)	)	O

{	(	O
Alert.show(	NNP	B-API
error.toString()	NN	I-API
)	)	L-API
;	:	O
}	)	O
}	)	O
No	DT	O
errors	NNS	O
are	VBP	O
generated	VBN	O

,	,	O
however	RB	O
only	RB	O
tRole	JJ	O
exists	NNS	O
.	.	O
It	PRP	O
seems	VBZ	O
that	IN	O
it	PRP	O
only	RB	O

looks	VBZ	O
at	IN	O
the	DT	O
first	JJ	O
query	NN	O
(	(	O
up	IN	O
to	TO	O
the	DT	O
semicolon	NN	O
-	:	O

if	IN	O
I	PRP	O
remove	VBP	O
it	PRP	O
,	,	O
the	DT	O
query	NN	O
fails	VBZ	O
)	)	O
.	.	O
Is	VBZ	O

there	EX	O
a	DT	O
way	NN	O
to	TO	O
call	VB	O
multiple	JJ	O
queries	NNS	O
in	IN	O
one	CD	O
statement	NN	O
?	.	O

One	CD	O
framework	NN	O
I'm	NNP	O
considering	VBG	O
would	MD	O
be	VB	O
for	IN	O
a	DT	O
blogging	NN	O
platform	NN	O
.	.	O

Since	IN	O
just	RB	O
about	IN	O
any	DT	O
possible	JJ	O
view	NN	O
of	IN	O
data	NNS	O
you	PRP	O
would	MD	O
want	VB	O

would	MD	O
be	VB	O
sorted	VBN	O
by	IN	O
date	NN	O
,	,	O
I	PRP	O
was	VBD	O
thinking	VBG	O
about	IN	O
this	DT	O

structure	NN	O
:	:	O
One	CD	O
directory	NN	O
per	IN	O
content	NN	O
node	NN	O
:	:	O
.	.	O
/content	JJ	O
/YYYYMMDDHHMMSS	JJ	O

/	NNP	O
Subdirectories	NNP	O
of	IN	O
each	DT	O
node	NN	O
including	VBG	O
/tags	JJ	O
/authors	NNS	O
/comments	NNS	O
As	RB	O
well	RB	O

as	IN	O
simple	JJ	O
text	NN	O
files	NNS	O
in	IN	O
the	DT	O
node	JJ	O
directory	NN	O
for	IN	O
pre	JJ	O
-	:	O

and	CC	O
post-rendered	JJ	O
content	NN	O
and	CC	O
the	DT	O
like	JJ	O
.	.	O
This	DT	O
would	MD	O
allow	VB	O
a	DT	O

simple	JJ	O
PHP	NNP	O
glob()	NN	O
call	NN	O
(	(	O
and	CC	O
probably	RB	O
a	DT	O
reversal	NN	O
of	IN	O
the	DT	O

result	NN	O
array	NN	O
)	)	O
to	TO	O
query	VB	O
on	IN	O
just	RB	O
about	IN	O
anything	NN	O
within	IN	O
the	DT	O

content	JJ	O
structure	NN	O
:	:	O
glob(	JJ	B-API
"content	NN	I-API
/	NNP	I-API
*	NNP	I-API
/tags	NNP	I-API
/funny	NNP	I-API
"	NNP	I-API
)	)	L-API

;	:	O
Would	MD	O
return	VB	O
paths	NNS	O
including	VBG	O
all	DT	O
articles	NNS	O
tagged	VBN	O
"funny	JJ	O
"	NN	O
.	.	O

So	IN	O
I	PRP	O
find	VBP	O
myself	PRP	O
porting	VBG	O
a	DT	O
game	NN	O
,	,	O
that	WDT	O
was	VBD	O
originally	RB	O

written	VBN	O
for	IN	O
the	DT	O
Win32	NNP	O
API	NNP	O
,	,	O
to	TO	O
Linux	NNP	O
(	(	O
well	RB	O
,	,	O

porting	VBG	O
the	DT	O
OS	NNP	O
X	NNP	O
port	NN	O
of	IN	O
the	DT	O
Win32	NNP	O
port	NN	O
to	TO	O
Linux	NNP	O

)	)	O
.	.	O
I	PRP	O
have	VBP	O
implemented	VBN	O
QueryPerformanceCounter	NNP	O
by	IN	O
giving	VBG	O
the	DT	O
uSeconds	NNS	O
since	IN	O

the	DT	O
process	NN	O
start	VB	O
up	IN	O
:	:	O
BOOL	NNP	O
QueryPerformanceCounter(	NNP	O
LARGE_INTEGER	NNP	O
*	NNP	O
performanceCount	NN	O
)	)	O

{	(	O
gettimeofday(	JJ	B-API
¤tTimeVal	NN	I-API
,	,	I-API
NULL	NNP	I-API
)	)	L-API
;	:	O
performanceCount	CC	O
-	:	O
>QuadPart	NN	O
=	NN	O

(	(	O
currentTimeVal	NN	O
.	.	O
tv_sec	SYM	O
-	:	O
startTimeVal	NN	O
.	.	O
tv_sec	NN	O
)	)	O
;	:	O
performanceCount	CC	O

-	:	O
>QuadPart	NN	O
*	NN	O
=	NNP	O
(	(	O
1000	CD	O
*	IN	O
1000	CD	O
)	)	O
;	:	O
performanceCount	CC	O

-	:	O
>QuadPart	NN	O
+	NN	O
=	NNP	O
(	(	O
currentTimeVal	NN	O
.	.	O
tv_usec	SYM	O
-	:	O
startTimeVal	NN	O
.	.	O

tv_usec	NN	I-API
)	)	L-API
;	:	O
return	VB	O
true	JJ	O
;	:	O
}	)	O
This	DT	O
,	,	O
coupled	VBN	O
with	IN	O

QueryPerformanceFrequency()	NNP	O
giving	VBG	O
a	DT	O
constant	JJ	O
1000000	CD	O
as	IN	O
the	DT	O
frequency	NN	O
,	,	O
works	VBZ	O
well	RB	O

on	IN	O
my	PRP$	O
machine	NN	O
,	,	O
giving	VBG	O
me	PRP	O
a	DT	O
64	CD	O
bit	NN	O
variable	JJ	O
that	IN	O

contains	VBZ	O
uSeconds	NNS	O
since	IN	O
the	DT	O
program's	NNS	O
start	VBP	O
up	RP	O
.	.	O
So	RB	O
is	VBZ	O
this	DT	O

portable	JJ	O
?	.	O
I	PRP	O
don't	VBP	O
want	VB	O
to	TO	O
discover	VB	O
it	PRP	O
works	VBZ	O
differently	RB	O
if	IN	O

the	DT	O
kernel	NN	O
was	VBD	O
compiled	VBN	O
in	IN	O
a	DT	O
certain	JJ	O
way	NN	O
or	CC	O
anything	NN	O
like	IN	O

that	DT	O
.	.	O
I	PRP	O
am	VBP	O
fine	JJ	O
with	IN	O
it	PRP	O
being	VBG	O
non-portable	JJ	O
to	TO	O
something	NN	O

other	JJ	O
than	IN	O
Linux	NNP	O
,	,	O
however	RB	O
.	.	O
One	CD	O
way	NN	O
to	TO	O
store	VB	O
flat-file	JJ	O

content	NN	O
would	MD	O
be	VB	O
to	TO	O
save	VB	O
literal	JJ	O
arrays	NNS	O
to	TO	O
php	VB	O
files	NNS	O
.	.	O

For	IN	O
example	NN	O
:	:	O
$data	NN	O
=	NNP	O
array()	NN	U-API
;	:	O
if(	CC	B-API
$_POST	NNP	I-API
)	)	L-API
{	(	O

$data	JJ	O
=	NN	O
$_POST	NN	O
;	:	O
$content	JJ	O
=	NNP	O
"	NNP	O
<	NNP	O
?php	NNP	O
\n	NNP	O
"	NNP	O

;	:	O
$content	NN	O
.	.	O
=	NN	O
'	''	O
$data	JJ	O
=	NNP	O
'	POS	O
.	.	O
var_export(	NN	O
$data	NN	O

,	,	O
true	JJ	O
)	)	O
.	.	O
"	JJ	O
\n	JJ	O
"	NN	O
;	:	O
$content	NN	O
.	.	O
=	VB	O

"	NN	O
?	.	O
>	JJ	O
"	NN	O
;	:	O
save_to_file(	CC	B-API
$filename	VB	I-API
,	,	I-API
$content	NN	I-API
)	)	L-API
;	:	O

}	)	O
/	FW	O
/	JJ	O
echo	JJ	O
form	NN	O
Maybe	NNP	O
.	.	O
But	CC	O
you	PRP	O
have	VBP	O
bigger	JJR	O

problems	NNS	O
.	.	O
gettimeofday()	NN	O
can	MD	O
result	VB	O
in	IN	O
incorrect	JJ	O
timings	NNS	O
if	IN	O
there	EX	O
are	VBP	O

processes	NNS	O
on	IN	O
your	PRP$	O
system	NN	O
that	WDT	O
change	VBP	O
the	DT	O
timer	NN	O
(	(	O
ie	JJ	O
,	,	O

ntpd	RB	O
)	)	O
.	.	O
On	IN	O
a	DT	O
"normal	JJ	O
"	NN	O
linux	NN	O
,	,	O
though	IN	O
,	,	O

I	PRP	O
believe	VBP	O
the	DT	O
resolution	NN	O
of	IN	O
gettimeofday()	NN	O
is	VBZ	O
10us	CD	O
.	.	O
It	PRP	O
can	MD	O

jump	VB	O
forward	RB	O
and	CC	O
backward	RB	O
and	CC	O
time	NN	O
,	,	O
consequently	RB	O
,	,	O
based	VBN	O
on	IN	O

the	DT	O
processes	NNS	O
running	VBG	O
on	IN	O
your	PRP$	O
system	NN	O
.	.	O
This	DT	O
effectively	RB	O
makes	VBZ	O
the	DT	O

answer	NN	O
to	TO	O
your	PRP$	O
question	NN	O
no	DT	O
.	.	O
You	PRP	O
should	MD	O
look	VB	O
into	IN	O
clock_gettime(	JJ	O

CLOCK_MONOTONIC	NNP	I-API
)	)	L-API
for	IN	O
timing	VBG	O
intervals	NNS	O
.	.	O
It	PRP	O
suffers	VBZ	O
from	IN	O
several	JJ	O
less	JJR	O

issues	NNS	O
due	JJ	O
to	TO	O
things	NNS	O
like	IN	O
multi-core	JJ	O
systems	NNS	O
and	CC	O
external	JJ	O
clock	NN	O
settings	NNS	O

.	.	O
Also	RB	O
,	,	O
look	VB	O
into	IN	O
the	DT	O
clock_getres()	NN	U-API
function	NN	O
.	.	O
The	DT	O
actual	JJ	O

resolution	NN	O
of	IN	O
gettimeofday()	NN	O
depends	NNS	O
on	IN	O
the	DT	O
hardware	NN	O
architecture	NN	O
.	.	O
Intel	NNP	O
processors	NNS	O

as	RB	O
well	RB	O
as	IN	O
SPARC	NNP	O
machines	NNS	O
offer	VBP	O
high	JJ	O
resolution	NN	O
timers	NNS	O
that	WDT	O
measure	NN	O

microseconds	VBZ	O
.	.	O
Other	JJ	O
hardware	NN	O
architectures	VBZ	O
fall	VBP	O
back	RB	O
to	TO	O
the	DT	O
system	NN	O
’s	JJ	O

timer	NN	O
,	,	O
which	WDT	O
is	VBZ	O
typically	RB	O
set	VBN	O
to	TO	O
100	CD	O
Hz	NNP	O
.	.	O
In	IN	O

such	JJ	O
cases	NNS	O
,	,	O
the	DT	O
time	NN	O
resolution	NN	O
will	MD	O
be	VB	O
less	JJR	O
accurate	JJ	O
.	.	O

I	PRP	O
obtained	VBD	O
this	DT	O
answer	NN	O
from	IN	O
High	NNP	O
Resolution	NNP	O
Time	NNP	O
Measurement	NNP	O
and	CC	O
Timers	NNP	O

,	,	O
Part	NNP	O
I	PRP	O
That's	NNP	O
true	JJ	O
.	.	O
serialize()	NN	O
can	MD	O
be	VB	O
pretty	RB	O
useful	JJ	O

for	IN	O
that	DT	O
as	RB	O
well	RB	O
.	.	O
I	PRP	O
think	VBP	O
the	DT	O
trick	NN	O
to	TO	O
coming	VBG	O

up	RP	O
with	IN	O
a	DT	O
viable	JJ	O
system	NN	O
is	VBZ	O
finding	VBG	O
some	DT	O
way	NN	O
to	TO	O
index	NN	O

the	DT	O
data	NN	O
nodes	NNS	O
without	IN	O
killing	VBG	O
yourself	PRP	O
with	IN	O
complexity	NN	O
.	.	O
Recently	RB	O
our	PRP$	O

site	NN	O
has	VBZ	O
been	VBN	O
deluged	VBN	O
with	IN	O
the	DT	O
resurgence	NN	O
of	IN	O
the	DT	O
Asprox	NNP	O
botnet	NN	O

SQL	NNP	O
injection	NN	O
attack	NN	O
.	.	O
Without	IN	O
going	VBG	O
into	IN	O
details	NNS	O
,	,	O
the	DT	O
attack	NN	O

attempts	VBZ	O
to	TO	O
execute	VB	O
SQL	NNP	O
code	NN	O
by	IN	O
encoding	VBG	O
the	DT	O
T-SQL	NNP	O
commands	NNS	O
in	IN	O

an	DT	O
ASCII	NNP	O
encoded	VBD	O
BINARY	NNP	O
string	NN	O
.	.	O
It	PRP	O
looks	VBZ	O
something	NN	O
like	IN	O
this	DT	O

:	:	O
DECLARE	NNP	O
%20	NNP	O
@S	NNP	O
%20NVARCHAR	NNP	O
(	(	O
4000	CD	O
)	)	O
;SET	FW	O
%20	FW	O
@S	FW	O

=CAST	NN	O
(	(	O
0x44004500	CD	O
...	:	O
06F007200	CD	O
%20AS	JJ	O
%20NVARCHAR	NN	O
(	(	O
4000	CD	O
)	)	O
)	)	O

;EXEC	FW	O
(	(	O
@S	NNP	O
)	)	O
;	:	O
--	:	O
I	PRP	O
was	VBD	O
able	JJ	O
to	TO	O
decode	VB	O

this	DT	O
in	IN	O
SQL	NNP	O
,	,	O
but	CC	O
I	PRP	O
was	VBD	O
a	DT	O
little	JJ	O
wary	NN	O
of	IN	O

doing	VBG	O
this	DT	O
since	IN	O
I	PRP	O
didn't	VBP	O
know	VB	O
exactly	RB	O
what	WP	O
was	VBD	O
happening	VBG	O
at	IN	O

the	DT	O
time	NN	O
.	.	O
I	PRP	O
tried	VBD	O
to	TO	O
write	VB	O
a	DT	O
simple	JJ	O
decode	NN	O
tool	NN	O

,	,	O
so	IN	O
I	PRP	O
could	MD	O
decode	VB	O
this	DT	O
type	NN	O
of	IN	O
text	NN	O
without	IN	O
even	RB	O

touching	VBG	O
SQL	NNP	O
Server	NNP	O
.	.	O
The	DT	O
main	JJ	O
part	NN	O
I	PRP	O
need	VBP	O
decoded	VBN	O
is	VBZ	O

:	:	O
CAST(	JJ	O
0x44004500	CD	O
...	:	O
06F007200	CD	O
AS	IN	O
NVARCHAR(	NNP	B-API
4000	CD	I-API
)	)	L-API
)	)	O
I've	NNP	O

tried	VBD	O
all	DT	O
of	IN	O
the	DT	O
following	JJ	O
commands	NNS	O
with	IN	O
no	DT	O
luck	NN	O
:	:	O
txtDecodedText	NN	O

.	.	O
Text	NNP	O
=	NNP	O
System.Web.HttpUtility.UrlDecode(	NNP	B-API
txtURLText	NN	I-API
.	.	I-API
Text	NNP	I-API
)	)	L-API
;	:	O
txtDecodedText	NN	O
.	.	O

Text	NNP	O
=	NNP	O
Encoding.ASCII.GetString(	NNP	B-API
Encoding.ASCII.GetBytes(	NNP	I-API
txtURLText	NN	I-API
.	.	I-API
Text	NNP	I-API
)	)	L-API
)	)	O
;	:	O
txtDecodedText	NN	O

.	.	O
Text	NNP	O
=	NNP	O
Encoding.Unicode.GetString(	NNP	B-API
Encoding.Unicode.GetBytes(	NNP	I-API
txtURLText	NN	I-API
.	.	I-API
Text	NNP	I-API
)	)	L-API
)	)	O
;	:	O

txtDecodedText	NN	O
.	.	O
Text	NNP	O
=	NNP	O
Encoding.ASCII.GetString(	NNP	B-API
Encoding.Unicode.GetBytes(	NNP	I-API
txtURLText	NN	I-API
.	.	I-API
Text	NNP	I-API
)	)	L-API
)	)	O

;	:	O
txtDecodedText	NN	O
.	.	O
Text	NNP	O
=	NNP	O
Encoding.Unicode.GetString(	NNP	B-API
Convert.FromBase64String(	NNP	I-API
txtURLText	NN	I-API
.	.	I-API
Text	NNP	I-API
)	)	L-API

)	)	L-API
;	:	O
What	WP	O
is	VBZ	O
the	DT	O
proper	JJ	O
way	NN	O
to	TO	O
translate	VB	O
this	DT	O
encoding	VBG	O

without	IN	O
using	VBG	O
SQL	NNP	O
Server	NNP	O
?	.	O
Is	VBZ	O
it	PRP	O
possible	JJ	O
?	.	O
I'll	NNP	O
take	VB	O

VB	NNP	O
.	.	O
NET	NNP	O
code	NN	O
since	IN	O
I'm	NNP	O
familiar	JJ	O
with	IN	O
that	DT	O
too	RB	O
.	.	O

Okay	NNP	O
,	,	O
I'm	NNP	O
sure	JJ	O
I'm	NNP	O
missing	VBG	O
something	NN	O
here	RB	O
,	,	O
so	RB	O
here's	JJ	O

where	WRB	O
I'm	NNP	O
at	IN	O
.	.	O
Since	IN	O
my	PRP$	O
input	NN	O
is	VBZ	O
a	DT	O
basic	JJ	O
string	NN	O

,	,	O
I	PRP	O
started	VBD	O
with	IN	O
just	RB	O
a	DT	O
snippet	NN	O
of	IN	O
the	DT	O
encoded	JJ	O
portion	NN	O

-	:	O
4445434C41	CD	O
(	(	O
which	WDT	O
translates	VBZ	O
to	TO	O
DECLA	NNP	O
)	)	O
-	:	O
and	CC	O
the	DT	O

first	JJ	O
attempt	NN	O
was	VBD	O
to	TO	O
do	VB	O
this	DT	O
...	:	O
txtDecodedText	NN	O
.	.	O
Text	NNP	O
=	NNP	O

Encoding.UTF8.GetString(	NNP	I-API
Encoding.UTF8.GetBytes(	NNP	I-API
txtURL	NN	I-API
.	.	I-API
Text	NNP	I-API
)	)	L-API
)	)	O
;	:	O
...	:	O
and	CC	O
all	DT	O

it	PRP	O
did	VBD	O
was	VBD	O
return	VB	O
the	DT	O
exact	JJ	O
same	JJ	O
thing	NN	O
that	IN	O
I	PRP	O
put	VBP	O

in	IN	O
,	,	O
since	IN	O
it	PRP	O
converted	VBD	O
each	DT	O
character	NN	O
into	IN	O
is	VBZ	O
byte	JJ	O
.	.	O

I	PRP	O
realized	VBD	O
that	IN	O
I	PRP	O
need	VBP	O
to	TO	O
parse	VB	O
each	DT	O
two	CD	O
characters	NNS	O
into	IN	O

a	DT	O
byte	NN	O
manually	RB	O
since	IN	O
I	PRP	O
don't	VBP	O
know	VB	O
of	IN	O
any	DT	O
methods	NNS	O
yet	CC	O

that	DT	O
will	MD	O
do	VB	O
that	DT	O
,	,	O
so	RB	O
now	RB	O
my	PRP$	O
little	JJ	O
decoder	NN	O
looks	VBZ	O

something	NN	O
like	IN	O
this	DT	O
:	:	O
while	NN	O
(	(	O
!boolIsDone	CD	O
)	)	O
{	(	O
bytURLChar	JJ	O
=	NNP	O

byte.Parse(	NN	O
txtURLText.Text.Substring(	NN	B-API
intParseIndex	NN	I-API
,	,	I-API
2	CD	I-API
)	)	L-API
)	)	O
;	:	O
bytURL	CC	O
[intURLIndex	VB	O
]	NNP	O

=	NNP	O
bytURLChar	NN	U-API
;	:	O
intParseIndex	NN	O
+	VBD	O
=	JJ	O
2	CD	O
;	:	O
intURLIndex	NN	O
+	NNP	O
+	NNP	O

;	:	O
if	IN	O
(	(	O
txtURLText	NN	O
.	.	O
Text	NNP	O
.	.	O
Length	NNP	O
-	:	O
intParseIndex	NN	O
<	$	O

2	CD	O
)	)	O
{	(	O
boolIsDone	NN	O
=	NNP	O
true	JJ	O
;	:	O
}	)	O
}	)	O
txtDecodedText	JJ	O
.	.	O

Text	NNP	O
=	NNP	O
Encoding.UTF8.GetString(	NNP	B-API
bytURL	NN	I-API
)	)	L-API
;	:	O
Things	NNS	O
look	VBP	O
good	JJ	O
for	IN	O
the	DT	O

first	JJ	O
couple	NN	O
of	IN	O
pairs	NNS	O
,	,	O
but	CC	O
then	RB	O
the	DT	O
loop	NN	O
balks	NNS	O
when	WRB	O

it	PRP	O
gets	VBZ	O
to	TO	O
the	DT	O
"4C	NNP	O
"	NNP	O
pair	NN	O
and	CC	O
says	VBZ	O
that	IN	O
the	DT	O

string	NN	O
is	VBZ	O
in	IN	O
the	DT	O
incorrect	JJ	O
format	NN	O
.	.	O
Interestingly	NNP	O
enough	RB	O
,	,	O
when	WRB	O

I	PRP	O
step	VBP	O
through	IN	O
the	DT	O
debugger	NN	O
and	CC	O
to	TO	O
the	DT	O
GetString	NNP	U-API
method	NN	O
on	IN	O

the	DT	O
byte	NN	O
array	NN	O
that	IN	O
I	PRP	O
was	VBD	O
able	JJ	O
to	TO	O
parse	VB	O
up	RP	O
to	TO	O

that	DT	O
point	NN	O
,	,	O
I	PRP	O
get	VBP	O
"	JJ	O
,	,	O
-	:	O
+	NN	O
"	NN	O
as	IN	O

the	DT	O
result	NN	O
.	.	O
How	WRB	O
do	VBP	O
I	PRP	O
figure	VB	O
out	RP	O
what	WP	O
I'm	NNP	O
missing	VBG	O

-	:	O
do	NN	O
I	PRP	O
need	VBP	O
to	TO	O
do	VB	O
a	DT	O
"direct	NN	O
cast	NN	O
"	NN	O
for	IN	O

each	DT	O
byte	NN	O
instead	RB	O
of	IN	O
attempting	VBG	O
to	TO	O
parse	VB	O
it	PRP	O
?	.	O
I	PRP	O
wound	VBD	O

up	RP	O
using	VBG	O
this	DT	O
.	.	O
It	PRP	O
is	VBZ	O
a	DT	O
kind	NN	O
of	IN	O
a	DT	O
hack	NN	O

,	,	O
but	CC	O
it	PRP	O
actually	RB	O
works	VBZ	O
pretty	RB	O
well	RB	O
.	.	O
The	DT	O
only	JJ	O
thing	NN	O

is	VBZ	O
you	PRP	O
have	VBP	O
to	TO	O
be	VB	O
very	RB	O
careful	JJ	O
with	IN	O
your	PRP$	O
semicolons	NNS	O
.	.	O

:	:	O
D	NNP	O
var	FW	O
strSql	NN	O
:String	VBG	O
=	NNP	O
stream.readUTFBytes(	NN	O
stream	NN	O
.	.	O
bytesAvailable	JJ	O
)	)	O

;	:	O
var	NN	O
i	VBZ	O
:Number	NNP	O
=	NNP	O
0	CD	O
;	:	O
var	NN	O
strSqlSplit	NN	O
:Array	NNP	O
=	NNP	O

strSql.split(	NN	O
"	NN	O
;	:	O
"	NNP	O
)	)	O
;	:	O
for	IN	O
(	(	O
i	JJ	O
=	VBP	O
0	CD	O

;	:	O
i	JJ	O
<	VBP	O
strSqlSplit	NN	O
.	.	O
length	NN	O
;	:	O
i	CC	O
+	VBP	O
+	NNP	O
)	)	O

{	(	O
NonQuery(	NNP	B-API
strSqlSplit	VBD	I-API
[i	NNP	I-API
]	NNP	I-API
.	.	I-API
toString()	NN	I-API
)	)	L-API
;	:	O
}	)	O
What	WP	O

is	VBZ	O
the	DT	O
"purist	JJ	O
"	NN	O
or	CC	O
"correct	JJ	O
"	JJ	O
way	NN	O
to	TO	O
access	NN	O
an	DT	O

object's	NN	O
properties	NNS	O
from	IN	O
within	IN	O
an	DT	O
object	JJ	O
method	NN	O
that	WDT	O
is	VBZ	O
not	RB	O
a	DT	O

getter	NN	O
/setter	NN	O
method	NN	O
?	.	O
I	PRP	O
know	VBP	O
that	IN	O
from	IN	O
outside	IN	O
of	IN	O
the	DT	O

object	NN	O
you	PRP	O
should	MD	O
use	VB	O
a	DT	O
getter	NN	O
/setter	NN	O
,	,	O
but	CC	O
from	IN	O
within	IN	O

would	MD	O
you	PRP	O
just	RB	O
do	VBP	O
:	:	O
Java	NN	O
:	:	O
String	NNP	O
property	NN	O
=	NN	O
this	DT	O

.	.	O
property	NN	O
;	:	O
PHP	NNP	O
:	:	O
$property	NN	O
=	NN	O
$this	NNP	O
-	:	O
>property	NN	O
;	:	O

or	CC	O
would	MD	O
you	PRP	O
do	VB	O
:	:	O
Java	VB	O
:	:	O
String	NNP	O
property	NN	O
=	NNP	O
this.getProperty()	NN	O

;	:	O
PHP	NNP	O
:	:	O
$property	NN	O
=	NN	O
$this	NNP	O
-	:	O
>getProperty	NN	O
(	(	O
)	)	O
;	:	O

Forgive	CD	O
me	PRP	O
if	IN	O
my	PRP$	O
Java	NNP	O
is	VBZ	O
a	DT	O
little	JJ	O
off	RP	O
,	,	O
it's	RB	O

been	VBN	O
a	DT	O
year	NN	O
since	IN	O
I	PRP	O
programmed	VBD	O
in	IN	O
Java	NNP	O
...	:	O
EDIT	NN	O
:	:	O

It	PRP	O
seems	VBZ	O
people	NNS	O
are	VBP	O
assuming	VBG	O
I	PRP	O
am	VBP	O
talking	VBG	O
about	IN	O
private	JJ	O
or	CC	O

protected	JJ	O
variables	NNS	O
/properties	VBZ	O
only	RB	O
.	.	O
When	WRB	O
I	PRP	O
learned	VBD	O
OO	NNP	O
I	PRP	O
was	VBD	O

taught	VBN	O
to	TO	O
use	VB	O
getters	NNS	O
/setters	NNS	O
for	IN	O
every	DT	O
single	JJ	O
property	NN	O
even	RB	O
if	IN	O

it	PRP	O
was	VBD	O
public	JJ	O
(	(	O
and	CC	O
actually	RB	O
I	PRP	O
was	VBD	O
told	VBN	O
never	RB	O
to	TO	O

make	VB	O
any	DT	O
variable	JJ	O
/property	JJ	O
public	NN	O
)	)	O
.	.	O
So	RB	O
,	,	O
I	PRP	O
may	MD	O

be	VB	O
starting	VBG	O
off	RP	O
from	IN	O
a	DT	O
false	JJ	O
assumption	NN	O
from	IN	O
the	DT	O
get	NN	O
go	VBP	O

.	.	O
It	PRP	O
appears	VBZ	O
that	IN	O
people	NNS	O
answering	VBG	O
this	DT	O
question	NN	O
are	VBP	O
maybe	RB	O
saying	VBG	O

that	IN	O
you	PRP	O
should	MD	O
have	VB	O
public	JJ	O
properties	NNS	O
and	CC	O
that	IN	O
those	DT	O
don't	NNS	O
need	VBP	O

getters	NNS	O
and	CC	O
setters	NNS	O
,	,	O
which	WDT	O
goes	VBZ	O
against	IN	O
what	WP	O
I	PRP	O
was	VBD	O
taught	VBN	O

,	,	O
and	CC	O
what	WP	O
I	PRP	O
was	VBD	O
talking	VBG	O
about	RB	O
,	,	O
although	IN	O
maybe	RB	O
that	DT	O

needs	VBZ	O
to	TO	O
be	VB	O
discussed	VBN	O
as	RB	O
well	RB	O
.	.	O
That's	NNP	O
probably	RB	O
a	DT	O
good	JJ	O

topic	NN	O
for	IN	O
a	DT	O
different	JJ	O
question	NN	O
though	IN	O
...	:	O
This	DT	O
may	MD	O
be	VB	O
too	RB	O

basic	JJ	O
or	CC	O
limited	VBN	O
of	IN	O
a	DT	O
solution	NN	O
,	,	O
but	CC	O
couldn't	NN	O
you	PRP	O
do	VBP	O

a	DT	O
String.split()	NNP	O
on	IN	O
each	DT	O
line	NN	O
of	IN	O
the	DT	O
file	NN	O
,	,	O
remembering	VBG	O
the	DT	O

result	NN	O
array	NN	O
of	IN	O
the	DT	O
first	JJ	O
line	NN	O
to	TO	O
generate	VB	O
the	DT	O
XML	NNP	O
,	,	O

and	CC	O
just	RB	O
spit	VB	O
each	DT	O
line's	NN	O
array	NN	O
data	NNS	O
out	RP	O
with	IN	O
the	DT	O
proper	JJ	O

XML	NNP	O
elements	NNS	O
padding	VBG	O
each	DT	O
iteration	NN	O
of	IN	O
a	DT	O
loop	NN	O
?	.	O
I	PRP	O
have	VBP	O

a	DT	O
pretty	JJ	O
standard	NN	O
table	JJ	O
set-up	NN	O
in	IN	O
a	DT	O
current	JJ	O
application	NN	O
using	VBG	O
the	DT	O

.	.	O
NET	JJ	O
XSD	NN	O
DataSet	NNP	O
and	CC	O
TableAdapter	NNP	O
features	NNS	O
.	.	O
My	PRP$	O
contracts	NNS	O
table	JJ	O

consists	NNS	O
of	IN	O
some	DT	O
standard	JJ	O
contract	NN	O
information	NN	O
,	,	O
with	IN	O
a	DT	O
column	NN	O
for	IN	O

the	DT	O
primary	JJ	O
department	NN	O
.	.	O
This	DT	O
column	NN	O
is	VBZ	O
a	DT	O
foreign	JJ	O
key	NN	O
to	TO	O

my	PRP$	O
Departments	NNS	O
table	NN	O
,	,	O
where	WRB	O
I	PRP	O
store	VBP	O
the	DT	O
basic	JJ	O
department	NN	O
name	NN	O

,	,	O
id	NN	O
,	,	O
notes	NNS	O
.	.	O
This	DT	O
is	VBZ	O
all	DT	O
setup	NN	O
and	CC	O
functioning	NN	O

in	IN	O
my	PRP$	O
SQL	NNP	O
Server	NNP	O
.	.	O
When	WRB	O
I	PRP	O
use	VBP	O
the	DT	O
XSD	NNP	O
tool	NN	O

,	,	O
I	PRP	O
can	MD	O
drag	VB	O
both	DT	O
tables	NNS	O
in	IN	O
at	IN	O
once	RB	O
and	CC	O
it	PRP	O

auto	NN	O
detects	VBZ	O
/creates	VBZ	O
the	DT	O
foreign	JJ	O
key	NN	O
I	PRP	O
have	VBP	O
between	IN	O
these	DT	O
two	CD	O

tables	NNS	O
.	.	O
This	DT	O
works	VBZ	O
great	JJ	O
when	WRB	O
I'm	NNP	O
on	IN	O
my	PRP$	O
main	JJ	O
page	NN	O

and	CC	O
am	VBP	O
viewing	VBG	O
contract	NN	O
data	NNS	O
.	.	O
However	RB	O
,	,	O
when	WRB	O
I	PRP	O
go	VBP	O

to	TO	O
my	PRP$	O
administrative	JJ	O
page	NN	O
to	TO	O
modify	VB	O
the	DT	O
department	NN	O
data	NN	O
.	.	O
I	PRP	O

typically	RB	O
do	VBP	O
something	NN	O
like	IN	O
this	DT	O
:	:	O
Dim	NNP	O
dtDepartment	NN	O
As	IN	O
New	NNP	O
DepartmentDataTable()	NNP	O

Dim	NNP	O
taDepartment	NN	O
As	IN	O
New	NNP	O
DepartmentTableAdapter()	NNP	O
taDepartment.Fill(	NNP	O
dtDepartment	NN	O
)	)	O
However	RB	O
,	,	O
at	IN	O

this	DT	O
point	NN	O
an	DT	O
exception	NN	O
is	VBZ	O
thrown	JJ	O
saying	VBG	O
to	TO	O
the	DT	O
effect	NN	O
that	IN	O

there	EX	O
is	VBZ	O
a	DT	O
foreign	JJ	O
key	JJ	O
reference	NN	O
broken	VBN	O
here	RB	O
,	,	O
I'm	NNP	O
guessing	VBG	O

since	IN	O
I	PRP	O
don't	VBP	O
have	VB	O
the	DT	O
Contract	NNP	O
DataTable	NNP	O
filled	VBN	O
.	.	O
How	WRB	O
can	MD	O

I	PRP	O
fix	VB	O
this	DT	O
problem	NN	O
?	.	O
I	PRP	O
know	VBP	O
I	PRP	O
can	MD	O
simply	RB	O
remove	VB	O

the	DT	O
foreign	JJ	O
key	NN	O
from	IN	O
the	DT	O
XSD	NN	O
to	TO	O
make	VB	O
things	NNS	O
work	VB	O
fine	JJ	O

,	,	O
but	CC	O
having	VBG	O
the	DT	O
additional	JJ	O
integrity	NN	O
check	NN	O
there	RB	O
and	CC	O
having	VBG	O
the	DT	O

XSD	NNP	O
schema	NN	O
match	NN	O
the	DT	O
SQL	NNP	O
schema	NN	O
in	IN	O
the	DT	O
database	NN	O
is	VBZ	O
nice	JJ	O

.	.	O
Am	VBP	O
I	PRP	O
just	RB	O
going	VBG	O
overboard	RB	O
here	RB	O
?	.	O
Perhaps	RB	O
;	:	O
)	)	O

Another	DT	O
approach	NN	O
would	MD	O
be	VB	O
to	TO	O
utilize	VB	O
a	DT	O
private	JJ	O
/protected	VBN	O
method	NN	O
to	TO	O

actually	RB	O
do	VB	O
the	DT	O
getting	VBG	O
(	(	O
caching	VBG	O
/db	NNP	O
/etc	NNP	O
)	)	O
,	,	O
and	CC	O

a	DT	O
public	JJ	O
wrapper	NN	O
for	IN	O
it	PRP	O
that	WDT	O
increments	VBZ	O
the	DT	O
count	NN	O
:	:	O
PHP	NN	O

:	:	O
public	JJ	U-API
function	NN	O
getName()	NN	U-API
{	(	O
$this	JJ	O
-	:	O
>incrementNameCalled	VBN	O
(	(	O
)	)	O
;	:	O

return	VB	O
$this	SYM	O
-	:	O
>_getName	NN	O
(	(	O
)	)	O
;	:	O
}protected	VBN	U-API
function	NN	O
_getName()	NNP	U-API
{	(	O

return	VB	O
$this	SYM	O
-	:	O
>name	NN	O
;	:	O
}	)	O
and	CC	O
then	RB	O
from	IN	O
within	IN	O
the	DT	O

object	JJ	O
itself	PRP	O
:	:	O
PHP	NN	O
:	:	O
$name	NN	O
=	VBZ	O
$this	SYM	O
-	:	O
>_getName	NN	O
(	(	O

)	)	L-API
;	:	O
This	DT	O
way	NN	O
you	PRP	O
can	MD	O
still	RB	O
use	VB	O
that	IN	O
first	JJ	O
argument	NN	O

for	IN	O
something	NN	O
else	RB	O
(	(	O
like	IN	O
sending	VBG	O
a	DT	O
flag	NN	O
for	IN	O
whether	IN	O
or	CC	O

not	RB	O
to	TO	O
used	VBN	O
cached	VBN	O
data	NNS	O
here	RB	O
perhaps	RB	O
)	)	O
.	.	O
The	DT	O
funny	JJ	O

thing	NN	O
is	VBZ	O
i	JJ	O
wrote	VBD	O
a	DT	O
php	JJ	O
media	NNS	O
gallery	NN	O
for	IN	O
all	DT	O
my	PRP$	O

music	NN	O
2	CD	O
days	NNS	O
ago	RB	O
.	.	O
I	PRP	O
had	VBD	O
a	DT	O
similar	JJ	O
problem	NN	O
.	.	O

Im	NNP	O
using	VBG	O
http	NN	O
:	:	O
/	JJ	O
/musicplayer	NN	O
.	.	O
sourceforge	NN	O
.	.	O
net	JJ	O
/	NN	O

for	IN	O
the	DT	O
player	NN	O
.	.	O
and	CC	O
the	DT	O
playlis	NN	O
are	VBP	O
built	VBN	O
via	IN	O
php	NN	O

.	.	O
all	DT	O
music	NN	O
request	NN	O
go	VBP	O
there	RB	O
a	DT	O
script	NN	O
called	VBN	O
xfer	NN	O
.	.	O

php	NN	O
?file	IN	O
=WHATEVER	JJ	O
$filename	NN	O
=	NNP	O
base64_url_decode(	NN	O
$_REQUEST	NNP	O
[	NNP	O
'	POS	O
file	NN	O
'	''	O

]	NN	O
)	)	O
;	:	O
header(	PRP$	O
"Cache	NNP	O
-	:	O
Control	NN	O
:	:	O
public	JJ	O
"	NNP	O
)	)	O

;	:	O
header(	PRP$	O
"Content	JJ	O
-	:	O
Description	NN	O
:	:	O
File	NNP	B-API
Transfer	NNP	I-API
"	NNP	I-API
)	)	L-API
;	:	O

header(	VBN	O
'	POS	O
Content-disposition	NN	O
:	:	O
attachment	NN	O
;	:	O
filename	JJ	O
=	NNP	O
'	POS	O
.	.	O
basename(	NNS	O

$filename	VBP	I-API
)	)	L-API
)	)	O
;	:	O
header(	PRP$	O
"Content	JJ	O
-	:	O
Transfer-Encoding	NN	O
:	:	O
binary	JJ	O
"	NN	O

)	)	L-API
;	:	O
header(	VBN	O
'	POS	O
Content-Length	JJ	O
:	:	O
'	POS	O
.	.	O
filesize(	NNS	O
$filename	VBP	O
)	)	O

)	)	L-API
;	:	O
/	CC	O
/	NNP	O
Put	NNP	O
either	CC	O
file	NN	O
counting	NN	O
code	NN	O
here	RB	O
.	.	O

either	CC	O
a	DT	O
db	NN	O
or	CC	O
static	JJ	O
files	NNS	O
/	VBP	O
/	JJ	O
readfile(	NN	O
$filename	NN	O
)	)	O

;	:	O
/	CC	O
/and	VB	O
spit	VBZ	O
the	DT	O
user	NN	O
the	DT	O
file	NN	U-API
function	NN	O
base64_url_decode(	IN	O
$input	NNP	O

)	)	O
{	(	O
return	NN	O
base64_decode(	NN	O
strtr(	NN	O
$input	NNP	O
,	,	O
'	''	O
-	:	O
_	NN	O
,	,	O

'	''	I-API
,	,	I-API
'	''	I-API
+	JJ	I-API
/	NNP	I-API
=	NNP	I-API
'	POS	I-API
)	)	L-API
)	)	O
;	:	O
}	)	O

And	CC	O
when	WRB	O
you	PRP	O
call	VBP	O
files	NNS	O
use	VBP	O
something	NN	O
like	IN	U-API
function	NN	O
base64_url_encode(	IN	O
$input	NNP	O

)	)	O
{	(	O
return	NN	O
strtr(	NN	O
base64_encode(	IN	O
$input	NN	O
)	)	O
,	,	O
'	''	O
+	JJ	O
/	NNP	O

=	NNP	O
'	POS	O
,	,	O
'	''	O
-	:	O
_	NN	O
,	,	O
'	''	O
)	)	O
;	:	O
}	)	O

http	NN	O
:	:	O
/	JJ	O
/us	NN	O
.	.	O
php	NN	O
.	.	O
net	JJ	O
/manual	JJ	O
/en	NN	O
/function	NN	O

.	.	O
base64-encode	NN	O
.	.	O
php	VB	O
If	IN	O
you	PRP	O
are	VBP	O
using	VBG	O
some	DT	O
javascript	NN	O
or	CC	O

a	DT	O
flash	JJ	O
player	NN	O
(	(	O
JW	NNP	O
player	NN	O
for	IN	O
example	NN	O
)	)	O
that	WDT	O
requires	VBZ	O

the	DT	O
actual	JJ	O
link	NN	O
to	TO	O
be	VB	O
an	DT	O
mp3	NN	O
file	NN	O
or	CC	O
whatever	NN	O
,	,	O

you	PRP	O
can	MD	O
append	VB	O
the	DT	O
text	NN	O
"	NNP	O
&type	NNP	O
=	NNP	O
.	.	O
mp3	NN	O
"	NN	O

so	IN	O
the	DT	O
final	JJ	O
linke	NN	O
becomes	VBZ	O
something	NN	O
like	IN	O
"www	NNP	O
.	.	O
example	NN	O
.	.	O

com	NN	O
/xfer	NN	O
.	.	O
php	NN	O
?file	IN	O
=34842ffjfjxfh	NNP	O
&type	NNP	O
=	NNP	O
.	.	O
mp3	NN	O
"	NN	O

.	.	O
That	DT	O
way	NN	O
it	PRP	O
looks	VBZ	O
like	IN	O
it	PRP	O
ends	VBZ	O
with	IN	O
an	DT	O
mp3	JJ	O

extension	NN	O
without	IN	O
affecting	VBG	O
the	DT	O
file	NN	O
link	NN	O
.	.	O
Well	UH	O
,	,	O
what	WP	O
is	VBZ	O

the	DT	O
nature	NN	O
of	IN	O
the	DT	O
flat	JJ	O
databases	NNS	O
.	.	O
Are	VBP	O
they	PRP	O
large	JJ	O
or	CC	O

small	JJ	O
.	.	O
Is	VBZ	O
it	PRP	O
simple	JJ	O
arrays	NNS	O
with	IN	O
arrays	NNS	O
in	IN	O
them	PRP	O
?	.	O

if	IN	O
its	PRP$	O
something	NN	O
simple	JJ	O
say	VBP	O
userprofiles	NNS	O
built	VBN	O
as	IN	O
such	JJ	O
:	:	O
$user	NN	O

=	NN	O
array(	NN	B-API
"name	NN	I-API
"	NNP	I-API
=	NNP	I-API
>	NNP	I-API
"dubayou	NNP	I-API
"	NNP	I-API
,	,	I-API
"age	NN	I-API
"	NNP	I-API

=	NNP	O
>	NNP	O
20	CD	O
,	,	O
"websites	VBZ	O
"	NNP	O
=	NNP	O
>	NNP	O
array(	NN	O
"dubayou	NNP	O
.	.	O

com	NN	O
"	NN	O
,	,	O
"willwharton	NNP	O
.	.	O
com	NN	O
"	NN	O
,	,	O
"codecream	NN	O
.	.	O
com	VB	O

"	NN	O
)	)	O
,	,	O
"and_one	CD	O
"	NN	O
=	NNP	O
>	NNP	B-API
"more	NNP	I-API
"	NNP	I-API
)	)	L-API
;	:	O

and	CC	O
to	TO	O
save	VB	O
or	CC	O
update	VB	O
the	DT	O
db	NN	O
record	NN	O
for	IN	O
that	DT	O
user	NN	O

.	.	O
$dir	CC	O
=	JJ	O
"	NNP	O
..	NNP	O
/userdata	NNP	O
/	NNP	O
"	NNP	O
;	:	O
/	NNP	O
/make	VBP	O

sure	JJ	O
to	TO	O
put	VB	O
it	PRP	O
bellow	VB	O
what	WP	O
the	DT	O
server	NN	O
can	MD	O
reach	VB	O
.	.	O

file_put_contents(	JJ	O
$dir	NN	O
.	.	O
$user	CC	O
[	NNP	O
'	POS	O
name	NN	O
'	''	O
]	NNS	O
,	,	O
serialize(	FW	O

$user	NNP	I-API
)	)	L-API
)	)	O
;	:	O
and	CC	O
to	TO	O
load	VB	O
the	DT	O
record	NN	O
for	IN	O
the	DT	O

user	NN	U-API
function	NN	O
&get_user	NNP	O
(	(	O
$name	NN	O
)	)	O
{	(	O
return	NN	O
unserialize(	JJ	O
file_get_contents(	NN	O
"	NNP	O

..	NNP	I-API
/userdata	NNP	I-API
/	NNP	I-API
"	NNP	I-API
.	.	I-API
$name	NN	I-API
)	)	L-API
)	)	O
;	:	O
}	)	O
but	CC	O

again	RB	O
this	DT	O
implementation	NN	O
will	MD	O
vary	VB	O
on	IN	O
the	DT	O
application	NN	O
and	CC	O
nature	NN	O
of	IN	O

the	DT	O
database	NN	O
you	PRP	O
need	VBP	O
.	.	O
I	PRP	O
want	VBP	O
to	TO	O
print	VB	O
HTML	NNP	O
from	IN	O

a	DT	O
C	NNP	O
#	#	O
web	JJ	O
service	NN	O
.	.	O
The	DT	O
Web	NNP	O
Browser	NNP	O
control	NN	O
is	VBZ	O

overkill	VBN	O
,	,	O
and	CC	O
does	VBZ	O
not	RB	O
function	VB	O
well	RB	O
in	IN	O
a	DT	O
service	NN	O
environment	NN	O

,	,	O
nor	CC	O
does	VBZ	O
it	PRP	O
function	VB	O
well	RB	O
on	IN	O
a	DT	O
system	NN	O
with	IN	O
very	RB	O

tight	JJ	O
security	NN	O
constraints	NNS	O
.	.	O
Is	VBZ	O
there	RB	O
any	DT	O
sort	NN	O
of	IN	O
free	JJ	O
.	.	O

NET	JJ	O
library	NN	O
that	WDT	O
will	MD	O
support	VB	O
the	DT	O
printing	NN	O
of	IN	O
a	DT	O
basic	JJ	O
HTML	NNP	O

page	NN	O
?	.	O
Here	RB	O
is	VBZ	O
the	DT	O
code	NN	O
I	PRP	O
have	VBP	O
so	RB	O
far	RB	O
,	,	O

which	WDT	O
does	VBZ	O
not	RB	O
run	VB	O
properly	RB	O
.	.	O
public	JJ	O
void	NN	O
PrintThing(	NNP	O
string	NN	O
document	NN	O

)	)	O
{	(	O
if	IN	O
(	(	O
Thread.CurrentThread.GetApartmentState()	NNP	O
!	.	O
=	NN	O
ApartmentState	NNP	O
.	.	O
STA	NNP	O
)	)	O

{	(	O
Thread	JJ	O
thread	NN	O
=	VBD	O
new	JJ	O
Thread(	NNP	B-API
(	(	I-API
ThreadStart	NNP	I-API
)	)	L-API
delegate	NN	O
{	(	O

PrintDocument(	NNP	I-API
document	NN	I-API
)	)	L-API
;	:	O
}	)	O
)	)	O
;	:	O
thread.SetApartmentState(	JJ	O
ApartmentState	NNP	O
.	.	O
STA	NNP	O

)	)	L-API
;	:	O
thread.Start()	NN	U-API
;	:	O
}	)	O
else	RB	O
{	(	O
PrintDocument(	NNP	B-API
document	NN	I-API
)	)	L-API
;	:	O

}	)	O
}	)	O
protected	VBN	O
void	JJ	O
PrintDocument(	NNP	B-API
string	NN	I-API
document	NN	I-API
)	)	L-API
{	(	O
WebBrowser	NNP	O
browser	RB	O

=	VBD	O
new	JJ	O
WebBrowser()	NNP	U-API
;	:	O
browser	NN	O
.	.	O
DocumentText	NNP	O
=	NNP	O
document	NN	U-API
;	:	O
while	IN	O

(	(	O
browser	NN	O
.	.	O
ReadyState	VB	O
!	.	O
=	JJ	O
WebBrowserReadyState	NNP	O
.	.	O
Complete	NNP	O
)	)	O
{	(	O

Application.DoEvents()	NNP	O
;	:	O
}	)	O
browser.Print()	NN	O
;	:	O
}	)	O
This	DT	O
works	VBZ	O
fine	JJ	O
when	WRB	O
called	VBN	O

from	IN	O
UI-type	NNP	O
threads	NNS	O
,	,	O
but	CC	O
nothing	NN	O
happens	NNS	O
when	WRB	O
called	VBN	O
from	IN	O
a	DT	O

service-type	JJ	O
thread	NN	O
.	.	O
Changing	VBG	O
Print()	NNP	O
to	TO	O
ShowPrintPreviewDialog()	NNP	O
yields	NNS	O
the	DT	O
following	JJ	O
IE	NNP	O

script	NN	O
error	NN	O
:	:	O
Error	NN	O
:	:	O
'	POS	O
dialogArguments	NNS	O
.	.	O
___IE_PrintType	NN	O
'	''	O
is	VBZ	O

null	RB	O
or	CC	O
not	RB	O
an	DT	O
object	JJ	O
URL	NN	O
:	:	O
res	NNS	O
:	:	O
/	NN	O
/ieframe	NN	O

.	.	O
dll	JJ	O
/preview	NN	O
.	.	O
dlg	NN	O
And	CC	O
a	DT	O
small	JJ	O
empty	JJ	O
print	NN	O
preview	NN	O

dialog	NN	O
appears	VBZ	O
.	.	O
One	CD	O
of	IN	O
the	DT	O
fun	NN	O
parts	NNS	O
of	IN	O
multi-cultural	JJ	O
programming	NN	O

is	VBZ	O
number	NN	O
formats	NNS	O
.	.	O
Americans	NNPS	O
use	VBP	O
10	CD	O
,	,	O
000	CD	O
.	.	O
50	CD	O

Germans	NNPS	O
use	VBP	O
10	CD	O
.	.	O
000	CD	O
,	,	O
50	CD	O
French	JJ	O
use	NN	O
10	CD	O
000	CD	O

,	,	O
50	CD	O
My	NNP	O
first	JJ	O
approach	NN	O
would	MD	O
be	VB	O
to	TO	O
take	VB	O
the	DT	O
string	NN	O

,	,	O
parse	VB	O
it	PRP	O
backwards	NNS	O
,	,	O
until	IN	O
I	PRP	O
encounter	VBP	O
a	DT	O
separator	NN	O
and	CC	O

use	VB	O
this	DT	O
as	IN	O
my	PRP$	O
decimal	JJ	O
separator	NN	O
.	.	O
There	EX	O
is	VBZ	O
an	DT	O
obvious	JJ	O

flaw	NN	O
with	IN	O
that	DT	O
:	:	O
10	CD	O
.	.	O
000	CD	O
would	MD	O
be	VB	O
interpreted	VBN	O
as	IN	O

10	CD	O
.	.	O
Another	DT	O
approach	NN	O
:	:	O
if	IN	O
the	DT	O
string	NN	O
contains	VBZ	O
2	CD	O
different	JJ	O

non-numeric	JJ	O
characters	NNS	O
,	,	O
use	VBP	O
the	DT	O
last	JJ	O
one	NN	O
as	IN	O
the	DT	O
decimal	JJ	O
separator	NN	O

and	CC	O
discard	VB	O
the	DT	O
others	NNS	O
.	.	O
If	IN	O
I	PRP	O
only	RB	O
have	VBP	O
one	CD	O
,	,	O

check	NN	O
if	IN	O
it	PRP	O
occurs	VBZ	O
more	JJR	O
than	IN	O
once	RB	O
and	CC	O
discard	VB	O
it	PRP	O
if	IN	O

it	PRP	O
does	VBZ	O
.	.	O
If	IN	O
it	PRP	O
only	RB	O
appears	VBZ	O
once	RB	O
,	,	O
check	VB	O
if	IN	O

it	PRP	O
has	VBZ	O
3	CD	O
digits	NNS	O
after	IN	O
it	PRP	O
.	.	O
If	IN	O
yes	UH	O
,	,	O
discard	VB	O

it	PRP	O
,	,	O
otherwise	RB	O
use	NN	O
it	PRP	O
as	IN	O
decimal	JJ	O
separator	NN	O
.	.	O
The	DT	O
obvious	JJ	O

"best	JJS	O
solution	NN	O
"	NN	O
would	MD	O
be	VB	O
to	TO	O
detect	VB	O
the	DT	O
User's	NNP	O
culture	NN	O
or	CC	O

Browser	NNP	O
,	,	O
but	CC	O
that	IN	O
does	VBZ	O
not	RB	O
work	VB	O
if	IN	O
you	PRP	O
have	VBP	O
a	DT	O

Frenchman	NNP	O
using	VBG	O
an	DT	O
en-US	JJ	O
Windows	NNP	O
/Browser	NNP	O
.	.	O
Does	VBZ	O
the	DT	O
.	.	O
net	JJ	O

Framework	NNP	O
contain	NN	O
some	DT	O
mythical	JJ	O
black	JJ	O
magic	NN	O
floating	VBG	O
point	NN	O
parser	NN	O
that	WDT	O
is	VBZ	O

better	JJR	O
than	IN	O
Double	JJ	O
.(	JJ	O
Try	NNP	O
)Parse	NNP	O
(	(	O
)	)	O
in	IN	O
trying	VBG	O
to	TO	O

auto-detect	VB	O
the	DT	O
number	NN	O
format	NN	O
?	.	O
I've	NNP	O
read	VBD	O
somewhere	RB	O
the	DT	O
human	JJ	O
eye	NN	O

can't	NN	O
distinguish	JJ	O
between	IN	O
less	JJR	O
than	IN	O
4	CD	O
values	NNS	O
apart	RB	O
.	.	O
so	IN	O
This	DT	O

is	VBZ	O
something	NN	O
to	TO	O
keep	VB	O
in	IN	O
mind	NN	O
.	.	O
The	DT	O
following	JJ	O
algorithm	NN	O
does	VBZ	O

not	RB	O
compensate	VB	O
for	IN	O
this	DT	O
.	.	O
I'm	NNP	O
not	RB	O
sure	JJ	O
this	DT	O
is	VBZ	O
exactly	RB	O

what	WP	O
you	PRP	O
want	VBP	O
,	,	O
but	CC	O
this	DT	O
is	VBZ	O
one	CD	O
way	NN	O
to	TO	O
randomly	VB	O

generate	VB	O
non-repeating	JJ	O
color	NN	O
values	NNS	O
:	:	O
(	(	O
beware	NN	O
,	,	O
inconsistent	JJ	O
pseudo-code	JJ	O
ahead	RB	O

)	)	O
/	NN	O
/colors	NNS	O
entered	VBD	O
as	IN	O
0-255	JJ	O
[R	NN	O
,	,	O
G	NNP	O
,	,	O
B	NNP	O

]colors	NNPS	O
=	NNP	O
[	NNP	O
]	NNP	O
;	:	O
/	NNP	O
/holds	VBZ	O
final	JJ	O
colors	NNS	O
to	TO	O
be	VB	O

usedrand	JJ	O
=	NNP	O
new	JJ	O
Random()	NNP	U-API
;	:	O
/	NNP	O
/assumes	NNP	O
n	FW	O
is	VBZ	O
less	JJR	O
than	IN	O

16	CD	I-API
,	,	I-API
777	CD	I-API
,	,	I-API
216randomGen(	CD	I-API
int	NN	I-API
n	NN	I-API
)	)	L-API
{	(	O
while	IN	O
(	(	O

len(	JJ	O
colors	NNS	O
)	)	O
<	VBP	O
n	RB	O
)	)	O
{	(	O
/	JJ	O
/generate	VB	O
a	DT	O
random	JJ	O

number	NN	O
between	IN	O
0	CD	O
,	,	O
255	CD	O
for	IN	O
each	DT	O
color	NN	O
newRed	RB	O
=	NNP	O
rand.next(	VB	O

256	CD	I-API
)	)	L-API
;	:	O
newGreen	JJ	O
=	NNP	O
rand.next(	NN	B-API
256	CD	I-API
)	)	L-API
;	:	O
newBlue	JJ	O
=	NNP	O

rand.next(	NN	I-API
256	CD	I-API
)	)	L-API
;	:	O
temp	CC	O
=	VB	O
[newRed	NNP	O
,	,	O
newGreen	JJ	O
,	,	O
newBlue	JJ	O

]	NN	O
;	:	O
/	CC	O
/only	RB	O
adds	VBZ	O
new	JJ	O
colors	NNS	O
to	TO	O
the	DT	O
array	NN	O
if	IN	O

temp	NN	O
not	RB	O
in	IN	O
colors	NNS	O
{	(	O
colors.append(	VB	B-API
temp	NN	I-API
)	)	L-API
;	:	O
}	)	O
}	)	O

}	)	O
One	CD	O
way	NN	O
you	PRP	O
could	MD	O
optimize	VB	O
this	DT	O
for	IN	O
better	JJR	O
visibility	NN	O
would	MD	O

be	VB	O
to	TO	O
compare	VB	O
the	DT	O
distance	NN	O
between	IN	O
each	DT	O
new	JJ	O
color	NN	U-API
and	CC	O
all	PDT	O

the	DT	O
colors	NNS	O
in	IN	O
the	DT	O
array	NN	O
:	:	O
for	IN	O
item	NN	O
in	IN	O
color	NN	U-API
{	(	O

itemSq	JJ	O
=	NN	O
(	(	O
item	NN	O
[0	NNP	O
]	NNP	O
^2	NNP	O
+	NNP	O
item	NN	O
[1	NNP	O
]	NNP	O

^2	NNP	O
+	NNP	O
item	NN	O
[2	NNP	O
]	NNP	O
^2	NNP	O
]	NNP	O
)	)	O
^	VBD	O
(.	$	O
5	CD	O

)	)	L-API
;	:	O
tempSq	VBN	O
=	NNP	O
(	(	O
temp	JJ	O
[0	NNP	O
]	NNP	O
^2	NNP	O
+	NNP	O
temp	NN	O

[1	NNP	O
]	NNP	O
^2	NNP	O
+	NNP	O
temp	NN	O
[2	NNP	O
]	NNP	O
^2	NNP	O
]	NNP	O
)	)	O
^	VBD	O

(.	$	B-API
5	CD	I-API
)	)	L-API
;	:	O
dist	JJ	O
=	NNP	O
itemSq	NN	O
-	:	O
tempSq	NN	O
;	:	O
dist	JJ	O

=	NNP	O
abs(	NN	B-API
dist	NN	I-API
)	)	L-API
;	:	O
}	)	O
/	IN	O
/NUMBER	NN	O
can	MD	O
be	VB	O
your	PRP$	O

chosen	JJ	O
distance	NN	O
apart	RB	O
.	.	O
if	IN	O
dist	JJ	O
<	NNP	O
NUMBER	NNP	O
and	CC	O
temp	MD	O
not	RB	O

in	IN	O
colors	NNS	O
{	(	O
colors.append(	VB	B-API
temp	NN	I-API
)	)	L-API
;	:	O
}	)	O
But	CC	O
this	DT	O
approach	NN	O

would	MD	O
significantly	RB	O
slow	VB	O
down	RP	O
your	PRP$	O
algorithm	NN	O
.	.	O
Another	DT	O
way	NN	O
would	MD	O
be	VB	O

to	TO	O
scrap	VB	O
the	DT	O
randomness	NN	O
and	CC	O
systematically	RB	O
go	VBP	O
through	IN	O
every	DT	O
4	CD	O
values	NNS	O

and	CC	O
add	VB	O
a	DT	O
color	NN	O
to	TO	O
an	DT	O
array	NN	O
in	IN	O
the	DT	O
above	JJ	O
example	NN	O

.	.	O

